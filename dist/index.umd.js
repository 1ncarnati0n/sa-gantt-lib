(function(xt,Z){typeof exports=="object"&&typeof module<"u"?Z(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],Z):(xt=typeof globalThis<"u"?globalThis:xt||self,Z(xt.SaGanttLib={},xt.React,xt.ReactDOM))})(this,function(xt,Z,He){"use strict";"use client";var np=Object.defineProperty;var sp=(xt,Z,He)=>Z in xt?np(xt,Z,{enumerable:!0,configurable:!0,writable:!0,value:He}):xt[Z]=He;var gs=(xt,Z,He)=>sp(xt,typeof Z!="symbol"?Z+"":Z,He);function Za(b){const E=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(b){for(const t in b)if(t!=="default"){const h=Object.getOwnPropertyDescriptor(b,t);Object.defineProperty(E,t,h.get?h:{enumerable:!0,get:()=>b[t]})}}return E.default=b,Object.freeze(E)}const bn=Za(Z);var pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var bs={exports:{}},Fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di;function Qa(){if(Di)return Fr;Di=1;var b=Symbol.for("react.transitional.element"),E=Symbol.for("react.fragment");function t(h,m,l){var i=null;if(l!==void 0&&(i=""+l),m.key!==void 0&&(i=""+m.key),"key"in m){l={};for(var a in m)a!=="key"&&(l[a]=m[a])}else l=m;return m=l.ref,{$$typeof:b,type:h,key:i,ref:m!==void 0?m:null,props:l}}return Fr.Fragment=E,Fr.jsx=t,Fr.jsxs=t,Fr}var Wr={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai;function tl(){return Ai||(Ai=1,process.env.NODE_ENV!=="production"&&function(){function b(j){if(j==null)return null;if(typeof j=="function")return j.$$typeof===$?null:j.displayName||j.name||null;if(typeof j=="string")return j;switch(j){case u:return"Fragment";case p:return"Profiler";case g:return"StrictMode";case R:return"Suspense";case B:return"SuspenseList";case F:return"Activity"}if(typeof j=="object")switch(typeof j.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),j.$$typeof){case f:return"Portal";case S:return j.displayName||"Context";case x:return(j._context.displayName||"Context")+".Consumer";case M:var O=j.render;return j=j.displayName,j||(j=O.displayName||O.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case N:return O=j.displayName||null,O!==null?O:b(j.type)||"Memo";case L:O=j._payload,j=j._init;try{return b(j(O))}catch{}}return null}function E(j){return""+j}function t(j){try{E(j);var O=!1}catch{O=!0}if(O){O=console;var z=O.error,V=typeof Symbol=="function"&&Symbol.toStringTag&&j[Symbol.toStringTag]||j.constructor.name||"Object";return z.call(O,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",V),E(j)}}function h(j){if(j===u)return"<>";if(typeof j=="object"&&j!==null&&j.$$typeof===L)return"<...>";try{var O=b(j);return O?"<"+O+">":"<...>"}catch{return"<...>"}}function m(){var j=W.A;return j===null?null:j.getOwner()}function l(){return Error("react-stack-top-frame")}function i(j){if(C.call(j,"key")){var O=Object.getOwnPropertyDescriptor(j,"key").get;if(O&&O.isReactWarning)return!1}return j.key!==void 0}function a(j,O){function z(){y||(y=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",O))}z.isReactWarning=!0,Object.defineProperty(j,"key",{get:z,configurable:!0})}function n(){var j=b(this.type);return w[j]||(w[j]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),j=this.props.ref,j!==void 0?j:null}function e(j,O,z,V,q,P){var G=z.ref;return j={$$typeof:d,type:j,key:O,props:z,_owner:V},(G!==void 0?G:null)!==null?Object.defineProperty(j,"ref",{enumerable:!1,get:n}):Object.defineProperty(j,"ref",{enumerable:!1,value:null}),j._store={},Object.defineProperty(j._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(j,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(j,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:q}),Object.defineProperty(j,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:P}),Object.freeze&&(Object.freeze(j.props),Object.freeze(j)),j}function r(j,O,z,V,q,P){var G=O.children;if(G!==void 0)if(V)if(D(G)){for(V=0;V<G.length;V++)c(G[V]);Object.freeze&&Object.freeze(G)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else c(G);if(C.call(O,"key")){G=b(j);var I=Object.keys(O).filter(function(H){return H!=="key"});V=0<I.length?"{key: someKey, "+I.join(": ..., ")+": ...}":"{key: someKey}",T[G+V]||(I=0<I.length?"{"+I.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,V,G,I,G),T[G+V]=!0)}if(G=null,z!==void 0&&(t(z),G=""+z),i(O)&&(t(O.key),G=""+O.key),"key"in O){z={};for(var A in O)A!=="key"&&(z[A]=O[A])}else z=O;return G&&a(z,typeof j=="function"?j.displayName||j.name||"Unknown":j),e(j,G,z,m(),q,P)}function c(j){s(j)?j._store&&(j._store.validated=1):typeof j=="object"&&j!==null&&j.$$typeof===L&&(j._payload.status==="fulfilled"?s(j._payload.value)&&j._payload.value._store&&(j._payload.value._store.validated=1):j._store&&(j._store.validated=1))}function s(j){return typeof j=="object"&&j!==null&&j.$$typeof===d}var o=Z,d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),S=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),$=Symbol.for("react.client.reference"),W=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.prototype.hasOwnProperty,D=Array.isArray,k=console.createTask?console.createTask:function(){return null};o={react_stack_bottom_frame:function(j){return j()}};var y,w={},v=o.react_stack_bottom_frame.bind(o,l)(),_=k(h(l)),T={};Wr.Fragment=u,Wr.jsx=function(j,O,z){var V=1e4>W.recentlyCreatedOwnerStacks++;return r(j,O,z,!1,V?Error("react-stack-top-frame"):v,V?k(h(j)):_)},Wr.jsxs=function(j,O,z){var V=1e4>W.recentlyCreatedOwnerStacks++;return r(j,O,z,!0,V?Error("react-stack-top-frame"):v,V?k(h(j)):_)}}()),Wr}process.env.NODE_ENV==="production"?bs.exports=Qa():bs.exports=tl();var U=bs.exports;const ji=6048e5,el=864e5,Ii=6e4,Ni=36e5,Oi=Symbol.for("constructDateFrom");function $e(b,E){return typeof b=="function"?b(E):b&&typeof b=="object"&&Oi in b?b[Oi](E):b instanceof Date?new b.constructor(E):new Date(E)}function Te(b,E){return $e(E||b,b)}function qt(b,E,t){const h=Te(b,t==null?void 0:t.in);return isNaN(E)?$e(b,NaN):(E&&h.setDate(h.getDate()+E),h)}function Ri(b,E){return Te(b,E==null?void 0:E.in).getDay()===6}function Pi(b,E){return Te(b,E==null?void 0:E.in).getDay()===0}let rl={};function zr(){return rl}function hr(b,E){var a,n,e,r;const t=zr(),h=(E==null?void 0:E.weekStartsOn)??((n=(a=E==null?void 0:E.locale)==null?void 0:a.options)==null?void 0:n.weekStartsOn)??t.weekStartsOn??((r=(e=t.locale)==null?void 0:e.options)==null?void 0:r.weekStartsOn)??0,m=Te(b,E==null?void 0:E.in),l=m.getDay(),i=(l<h?7:0)+l-h;return m.setDate(m.getDate()-i),m.setHours(0,0,0,0),m}function yn(b,E){return hr(b,{...E,weekStartsOn:1})}function Li(b,E){const t=Te(b,E==null?void 0:E.in),h=t.getFullYear(),m=$e(t,0);m.setFullYear(h+1,0,4),m.setHours(0,0,0,0);const l=yn(m),i=$e(t,0);i.setFullYear(h,0,4),i.setHours(0,0,0,0);const a=yn(i);return t.getTime()>=l.getTime()?h+1:t.getTime()>=a.getTime()?h:h-1}function Bi(b){const E=Te(b),t=new Date(Date.UTC(E.getFullYear(),E.getMonth(),E.getDate(),E.getHours(),E.getMinutes(),E.getSeconds(),E.getMilliseconds()));return t.setUTCFullYear(E.getFullYear()),+b-+t}function Sr(b,...E){const t=$e.bind(null,b||E.find(h=>typeof h=="object"));return E.map(t)}function Ae(b,E){const t=Te(b,E==null?void 0:E.in);return t.setHours(0,0,0,0),t}function Fi(b,E,t){const[h,m]=Sr(t==null?void 0:t.in,b,E),l=Ae(h),i=Ae(m),a=+l-Bi(l),n=+i-Bi(i);return Math.round((a-n)/el)}function nl(b,E){const t=Li(b,E),h=$e(b,0);return h.setFullYear(t,0,4),h.setHours(0,0,0,0),yn(h)}function Hr(b,E,t){const[h,m]=Sr(t==null?void 0:t.in,b,E);return+Ae(h)==+Ae(m)}function sl(b){return b instanceof Date||typeof b=="object"&&Object.prototype.toString.call(b)==="[object Date]"}function il(b){return!(!sl(b)&&typeof b!="number"||isNaN(+Te(b)))}function Le(b,E,t){const[h,m]=Sr(t==null?void 0:t.in,b,E),l=Wi(h,m),i=Math.abs(Fi(h,m));h.setDate(h.getDate()-l*i);const a=+(Wi(h,m)===-l),n=l*(i-a);return n===0?0:n}function Wi(b,E){const t=b.getFullYear()-E.getFullYear()||b.getMonth()-E.getMonth()||b.getDate()-E.getDate()||b.getHours()-E.getHours()||b.getMinutes()-E.getMinutes()||b.getSeconds()-E.getSeconds()||b.getMilliseconds()-E.getMilliseconds();return t<0?-1:t>0?1:t}function ol(b,E){const[t,h]=Sr(b,E.start,E.end);return{start:t,end:h}}function al(b,E){const{start:t,end:h}=ol(E==null?void 0:E.in,b);let m=+t>+h;const l=m?+t:+h,i=m?h:t;i.setHours(0,0,0,0);let a=1;const n=[];for(;+i<=l;)n.push($e(t,i)),i.setDate(i.getDate()+a),i.setHours(0,0,0,0);return m?n.reverse():n}function ll(b,E){const t=Te(b,E==null?void 0:E.in);return t.setDate(1),t.setHours(0,0,0,0),t}function cl(b,E){const t=Te(b,E==null?void 0:E.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const ul={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dl=(b,E,t)=>{let h;const m=ul[b];return typeof m=="string"?h=m:E===1?h=m.one:h=m.other.replace("{{count}}",E.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+h:h+" ago":h};function Er(b){return(E={})=>{const t=E.width?String(E.width):b.defaultWidth;return b.formats[t]||b.formats[b.defaultWidth]}}const fl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ml={date:Er({formats:fl,defaultWidth:"full"}),time:Er({formats:hl,defaultWidth:"full"}),dateTime:Er({formats:pl,defaultWidth:"full"})},gl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bl=(b,E,t,h)=>gl[b];function Ve(b){return(E,t)=>{const h=t!=null&&t.context?String(t.context):"standalone";let m;if(h==="formatting"&&b.formattingValues){const i=b.defaultFormattingWidth||b.defaultWidth,a=t!=null&&t.width?String(t.width):i;m=b.formattingValues[a]||b.formattingValues[i]}else{const i=b.defaultWidth,a=t!=null&&t.width?String(t.width):b.defaultWidth;m=b.values[a]||b.values[i]}const l=b.argumentCallback?b.argumentCallback(E):E;return m[l]}}const yl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sl={ordinalNumber:(b,E)=>{const t=Number(b),h=t%100;if(h>20||h<10)switch(h%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:Ve({values:yl,defaultWidth:"wide"}),quarter:Ve({values:vl,defaultWidth:"wide",argumentCallback:b=>b-1}),month:Ve({values:wl,defaultWidth:"wide"}),day:Ve({values:xl,defaultWidth:"wide"}),dayPeriod:Ve({values:_l,defaultWidth:"wide",formattingValues:kl,defaultFormattingWidth:"wide"})};function Ge(b){return(E,t={})=>{const h=t.width,m=h&&b.matchPatterns[h]||b.matchPatterns[b.defaultMatchWidth],l=E.match(m);if(!l)return null;const i=l[0],a=h&&b.parsePatterns[h]||b.parsePatterns[b.defaultParseWidth],n=Array.isArray(a)?Cl(a,c=>c.test(i)):El(a,c=>c.test(i));let e;e=b.valueCallback?b.valueCallback(n):n,e=t.valueCallback?t.valueCallback(e):e;const r=E.slice(i.length);return{value:e,rest:r}}}function El(b,E){for(const t in b)if(Object.prototype.hasOwnProperty.call(b,t)&&E(b[t]))return t}function Cl(b,E){for(let t=0;t<b.length;t++)if(E(b[t]))return t}function zi(b){return(E,t={})=>{const h=E.match(b.matchPattern);if(!h)return null;const m=h[0],l=E.match(b.parsePattern);if(!l)return null;let i=b.valueCallback?b.valueCallback(l[0]):l[0];i=t.valueCallback?t.valueCallback(i):i;const a=E.slice(m.length);return{value:i,rest:a}}}const Tl=/^(\d+)(th|st|nd|rd)?/i,Ml=/\d+/i,Dl={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Al={any:[/^b/i,/^(a|c)/i]},jl={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Il={any:[/1/i,/2/i,/3/i,/4/i]},Nl={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ol={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rl={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pl={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ll={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bl={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fl={ordinalNumber:zi({matchPattern:Tl,parsePattern:Ml,valueCallback:b=>parseInt(b,10)}),era:Ge({matchPatterns:Dl,defaultMatchWidth:"wide",parsePatterns:Al,defaultParseWidth:"any"}),quarter:Ge({matchPatterns:jl,defaultMatchWidth:"wide",parsePatterns:Il,defaultParseWidth:"any",valueCallback:b=>b+1}),month:Ge({matchPatterns:Nl,defaultMatchWidth:"wide",parsePatterns:Ol,defaultParseWidth:"any"}),day:Ge({matchPatterns:Rl,defaultMatchWidth:"wide",parsePatterns:Pl,defaultParseWidth:"any"}),dayPeriod:Ge({matchPatterns:Ll,defaultMatchWidth:"any",parsePatterns:Bl,defaultParseWidth:"any"})},Wl={code:"en-US",formatDistance:dl,formatLong:ml,formatRelative:bl,localize:Sl,match:Fl,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zl(b,E){const t=Te(b,E==null?void 0:E.in);return Fi(t,cl(t))+1}function Hl(b,E){const t=Te(b,E==null?void 0:E.in),h=+yn(t)-+nl(t);return Math.round(h/ji)+1}function Hi(b,E){var r,c,s,o;const t=Te(b,E==null?void 0:E.in),h=t.getFullYear(),m=zr(),l=(E==null?void 0:E.firstWeekContainsDate)??((c=(r=E==null?void 0:E.locale)==null?void 0:r.options)==null?void 0:c.firstWeekContainsDate)??m.firstWeekContainsDate??((o=(s=m.locale)==null?void 0:s.options)==null?void 0:o.firstWeekContainsDate)??1,i=$e((E==null?void 0:E.in)||b,0);i.setFullYear(h+1,0,l),i.setHours(0,0,0,0);const a=hr(i,E),n=$e((E==null?void 0:E.in)||b,0);n.setFullYear(h,0,l),n.setHours(0,0,0,0);const e=hr(n,E);return+t>=+a?h+1:+t>=+e?h:h-1}function $l(b,E){var a,n,e,r;const t=zr(),h=(E==null?void 0:E.firstWeekContainsDate)??((n=(a=E==null?void 0:E.locale)==null?void 0:a.options)==null?void 0:n.firstWeekContainsDate)??t.firstWeekContainsDate??((r=(e=t.locale)==null?void 0:e.options)==null?void 0:r.firstWeekContainsDate)??1,m=Hi(b,E),l=$e((E==null?void 0:E.in)||b,0);return l.setFullYear(m,0,h),l.setHours(0,0,0,0),hr(l,E)}function Ul(b,E){const t=Te(b,E==null?void 0:E.in),h=+hr(t,E)-+$l(t,E);return Math.round(h/ji)+1}function _e(b,E){const t=b<0?"-":"",h=Math.abs(b).toString().padStart(E,"0");return t+h}const sr={y(b,E){const t=b.getFullYear(),h=t>0?t:1-t;return _e(E==="yy"?h%100:h,E.length)},M(b,E){const t=b.getMonth();return E==="M"?String(t+1):_e(t+1,2)},d(b,E){return _e(b.getDate(),E.length)},a(b,E){const t=b.getHours()/12>=1?"pm":"am";switch(E){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(b,E){return _e(b.getHours()%12||12,E.length)},H(b,E){return _e(b.getHours(),E.length)},m(b,E){return _e(b.getMinutes(),E.length)},s(b,E){return _e(b.getSeconds(),E.length)},S(b,E){const t=E.length,h=b.getMilliseconds(),m=Math.trunc(h*Math.pow(10,t-3));return _e(m,E.length)}},Cr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$i={G:function(b,E,t){const h=b.getFullYear()>0?1:0;switch(E){case"G":case"GG":case"GGG":return t.era(h,{width:"abbreviated"});case"GGGGG":return t.era(h,{width:"narrow"});case"GGGG":default:return t.era(h,{width:"wide"})}},y:function(b,E,t){if(E==="yo"){const h=b.getFullYear(),m=h>0?h:1-h;return t.ordinalNumber(m,{unit:"year"})}return sr.y(b,E)},Y:function(b,E,t,h){const m=Hi(b,h),l=m>0?m:1-m;if(E==="YY"){const i=l%100;return _e(i,2)}return E==="Yo"?t.ordinalNumber(l,{unit:"year"}):_e(l,E.length)},R:function(b,E){const t=Li(b);return _e(t,E.length)},u:function(b,E){const t=b.getFullYear();return _e(t,E.length)},Q:function(b,E,t){const h=Math.ceil((b.getMonth()+1)/3);switch(E){case"Q":return String(h);case"QQ":return _e(h,2);case"Qo":return t.ordinalNumber(h,{unit:"quarter"});case"QQQ":return t.quarter(h,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(h,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(h,{width:"wide",context:"formatting"})}},q:function(b,E,t){const h=Math.ceil((b.getMonth()+1)/3);switch(E){case"q":return String(h);case"qq":return _e(h,2);case"qo":return t.ordinalNumber(h,{unit:"quarter"});case"qqq":return t.quarter(h,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(h,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(h,{width:"wide",context:"standalone"})}},M:function(b,E,t){const h=b.getMonth();switch(E){case"M":case"MM":return sr.M(b,E);case"Mo":return t.ordinalNumber(h+1,{unit:"month"});case"MMM":return t.month(h,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(h,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(h,{width:"wide",context:"formatting"})}},L:function(b,E,t){const h=b.getMonth();switch(E){case"L":return String(h+1);case"LL":return _e(h+1,2);case"Lo":return t.ordinalNumber(h+1,{unit:"month"});case"LLL":return t.month(h,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(h,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(h,{width:"wide",context:"standalone"})}},w:function(b,E,t,h){const m=Ul(b,h);return E==="wo"?t.ordinalNumber(m,{unit:"week"}):_e(m,E.length)},I:function(b,E,t){const h=Hl(b);return E==="Io"?t.ordinalNumber(h,{unit:"week"}):_e(h,E.length)},d:function(b,E,t){return E==="do"?t.ordinalNumber(b.getDate(),{unit:"date"}):sr.d(b,E)},D:function(b,E,t){const h=zl(b);return E==="Do"?t.ordinalNumber(h,{unit:"dayOfYear"}):_e(h,E.length)},E:function(b,E,t){const h=b.getDay();switch(E){case"E":case"EE":case"EEE":return t.day(h,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(h,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(h,{width:"short",context:"formatting"});case"EEEE":default:return t.day(h,{width:"wide",context:"formatting"})}},e:function(b,E,t,h){const m=b.getDay(),l=(m-h.weekStartsOn+8)%7||7;switch(E){case"e":return String(l);case"ee":return _e(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(m,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(m,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(m,{width:"short",context:"formatting"});case"eeee":default:return t.day(m,{width:"wide",context:"formatting"})}},c:function(b,E,t,h){const m=b.getDay(),l=(m-h.weekStartsOn+8)%7||7;switch(E){case"c":return String(l);case"cc":return _e(l,E.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(m,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(m,{width:"narrow",context:"standalone"});case"cccccc":return t.day(m,{width:"short",context:"standalone"});case"cccc":default:return t.day(m,{width:"wide",context:"standalone"})}},i:function(b,E,t){const h=b.getDay(),m=h===0?7:h;switch(E){case"i":return String(m);case"ii":return _e(m,E.length);case"io":return t.ordinalNumber(m,{unit:"day"});case"iii":return t.day(h,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(h,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(h,{width:"short",context:"formatting"});case"iiii":default:return t.day(h,{width:"wide",context:"formatting"})}},a:function(b,E,t){const m=b.getHours()/12>=1?"pm":"am";switch(E){case"a":case"aa":return t.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(m,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(m,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(m,{width:"wide",context:"formatting"})}},b:function(b,E,t){const h=b.getHours();let m;switch(h===12?m=Cr.noon:h===0?m=Cr.midnight:m=h/12>=1?"pm":"am",E){case"b":case"bb":return t.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(m,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(m,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(m,{width:"wide",context:"formatting"})}},B:function(b,E,t){const h=b.getHours();let m;switch(h>=17?m=Cr.evening:h>=12?m=Cr.afternoon:h>=4?m=Cr.morning:m=Cr.night,E){case"B":case"BB":case"BBB":return t.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(m,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(m,{width:"wide",context:"formatting"})}},h:function(b,E,t){if(E==="ho"){let h=b.getHours()%12;return h===0&&(h=12),t.ordinalNumber(h,{unit:"hour"})}return sr.h(b,E)},H:function(b,E,t){return E==="Ho"?t.ordinalNumber(b.getHours(),{unit:"hour"}):sr.H(b,E)},K:function(b,E,t){const h=b.getHours()%12;return E==="Ko"?t.ordinalNumber(h,{unit:"hour"}):_e(h,E.length)},k:function(b,E,t){let h=b.getHours();return h===0&&(h=24),E==="ko"?t.ordinalNumber(h,{unit:"hour"}):_e(h,E.length)},m:function(b,E,t){return E==="mo"?t.ordinalNumber(b.getMinutes(),{unit:"minute"}):sr.m(b,E)},s:function(b,E,t){return E==="so"?t.ordinalNumber(b.getSeconds(),{unit:"second"}):sr.s(b,E)},S:function(b,E){return sr.S(b,E)},X:function(b,E,t){const h=b.getTimezoneOffset();if(h===0)return"Z";switch(E){case"X":return Vi(h);case"XXXX":case"XX":return pr(h);case"XXXXX":case"XXX":default:return pr(h,":")}},x:function(b,E,t){const h=b.getTimezoneOffset();switch(E){case"x":return Vi(h);case"xxxx":case"xx":return pr(h);case"xxxxx":case"xxx":default:return pr(h,":")}},O:function(b,E,t){const h=b.getTimezoneOffset();switch(E){case"O":case"OO":case"OOO":return"GMT"+Ui(h,":");case"OOOO":default:return"GMT"+pr(h,":")}},z:function(b,E,t){const h=b.getTimezoneOffset();switch(E){case"z":case"zz":case"zzz":return"GMT"+Ui(h,":");case"zzzz":default:return"GMT"+pr(h,":")}},t:function(b,E,t){const h=Math.trunc(+b/1e3);return _e(h,E.length)},T:function(b,E,t){return _e(+b,E.length)}};function Ui(b,E=""){const t=b>0?"-":"+",h=Math.abs(b),m=Math.trunc(h/60),l=h%60;return l===0?t+String(m):t+String(m)+E+_e(l,2)}function Vi(b,E){return b%60===0?(b>0?"-":"+")+_e(Math.abs(b)/60,2):pr(b,E)}function pr(b,E=""){const t=b>0?"-":"+",h=Math.abs(b),m=_e(Math.trunc(h/60),2),l=_e(h%60,2);return t+m+E+l}const Gi=(b,E)=>{switch(b){case"P":return E.date({width:"short"});case"PP":return E.date({width:"medium"});case"PPP":return E.date({width:"long"});case"PPPP":default:return E.date({width:"full"})}},qi=(b,E)=>{switch(b){case"p":return E.time({width:"short"});case"pp":return E.time({width:"medium"});case"ppp":return E.time({width:"long"});case"pppp":default:return E.time({width:"full"})}},Vl={p:qi,P:(b,E)=>{const t=b.match(/(P+)(p+)?/)||[],h=t[1],m=t[2];if(!m)return Gi(b,E);let l;switch(h){case"P":l=E.dateTime({width:"short"});break;case"PP":l=E.dateTime({width:"medium"});break;case"PPP":l=E.dateTime({width:"long"});break;case"PPPP":default:l=E.dateTime({width:"full"});break}return l.replace("{{date}}",Gi(h,E)).replace("{{time}}",qi(m,E))}},Gl=/^D+$/,ql=/^Y+$/,Xl=["D","DD","YY","YYYY"];function Yl(b){return Gl.test(b)}function Kl(b){return ql.test(b)}function Zl(b,E,t){const h=Jl(b,E,t);if(console.warn(h),Xl.includes(b))throw new RangeError(h)}function Jl(b,E,t){const h=b[0]==="Y"?"years":"days of the month";return`Use \`${b.toLowerCase()}\` instead of \`${b}\` (in \`${E}\`) for formatting ${h} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ql=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ec=/^'([^]*?)'?$/,rc=/''/g,nc=/[a-zA-Z]/;function Se(b,E,t){var r,c,s,o,d,f,u,g;const h=zr(),m=(t==null?void 0:t.locale)??h.locale??Wl,l=(t==null?void 0:t.firstWeekContainsDate)??((c=(r=t==null?void 0:t.locale)==null?void 0:r.options)==null?void 0:c.firstWeekContainsDate)??h.firstWeekContainsDate??((o=(s=h.locale)==null?void 0:s.options)==null?void 0:o.firstWeekContainsDate)??1,i=(t==null?void 0:t.weekStartsOn)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??h.weekStartsOn??((g=(u=h.locale)==null?void 0:u.options)==null?void 0:g.weekStartsOn)??0,a=Te(b,t==null?void 0:t.in);if(!il(a))throw new RangeError("Invalid time value");let n=E.match(tc).map(p=>{const x=p[0];if(x==="p"||x==="P"){const S=Vl[x];return S(p,m.formatLong)}return p}).join("").match(Ql).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const x=p[0];if(x==="'")return{isToken:!1,value:sc(p)};if($i[x])return{isToken:!0,value:p};if(x.match(nc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:p}});m.localize.preprocessor&&(n=m.localize.preprocessor(a,n));const e={firstWeekContainsDate:l,weekStartsOn:i,locale:m};return n.map(p=>{if(!p.isToken)return p.value;const x=p.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Kl(x)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Yl(x))&&Zl(x,E,String(b));const S=$i[x[0]];return S(a,x,m.localize,e)}).join("")}function sc(b){const E=b.match(ec);return E?E[1].replace(rc,"'"):b}function ic(b,E){return Te(b,E==null?void 0:E.in).getDate()}function vn(b,E){return Te(b,E==null?void 0:E.in).getDay()}function Xi(b,E){var n,e,r,c;const t=zr(),h=(E==null?void 0:E.weekStartsOn)??((e=(n=E==null?void 0:E.locale)==null?void 0:n.options)==null?void 0:e.weekStartsOn)??t.weekStartsOn??((c=(r=t.locale)==null?void 0:r.options)==null?void 0:c.weekStartsOn)??0,m=ic(Te(b,E==null?void 0:E.in));if(isNaN(m))return NaN;const l=vn(ll(b,E));let i=h-l;i<=0&&(i+=7);const a=m-i;return Math.ceil(a/7)+1}function ys(b,E){return Te(b,E==null?void 0:E.in).getFullYear()}function oc(b,E,t){const[h,m]=Sr(t==null?void 0:t.in,b,E);return+hr(h,t)==+hr(m,t)}function ac(b,E,t){const[h,m]=Sr(t==null?void 0:t.in,b,E);return h.getFullYear()===m.getFullYear()&&h.getMonth()===m.getMonth()}function Ze(b,E){const t=()=>$e(E==null?void 0:E.in,NaN),m=dc(b);let l;if(m.date){const e=fc(m.date,2);l=hc(e.restDateString,e.year)}if(!l||isNaN(+l))return t();const i=+l;let a=0,n;if(m.time&&(a=pc(m.time),isNaN(a)))return t();if(m.timezone){if(n=mc(m.timezone),isNaN(n))return t()}else{const e=new Date(i+a),r=Te(0,E==null?void 0:E.in);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}return Te(i+a+n,E==null?void 0:E.in)}const wn={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lc=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,cc=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uc=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dc(b){const E={},t=b.split(wn.dateTimeDelimiter);let h;if(t.length>2)return E;if(/:/.test(t[0])?h=t[0]:(E.date=t[0],h=t[1],wn.timeZoneDelimiter.test(E.date)&&(E.date=b.split(wn.timeZoneDelimiter)[0],h=b.substr(E.date.length,b.length))),h){const m=wn.timezone.exec(h);m?(E.time=h.replace(m[1],""),E.timezone=m[1]):E.time=h}return E}function fc(b,E){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+E)+"})|(\\d{2}|[+-]\\d{"+(2+E)+"})$)"),h=b.match(t);if(!h)return{year:NaN,restDateString:""};const m=h[1]?parseInt(h[1]):null,l=h[2]?parseInt(h[2]):null;return{year:l===null?m:l*100,restDateString:b.slice((h[1]||h[2]).length)}}function hc(b,E){if(E===null)return new Date(NaN);const t=b.match(lc);if(!t)return new Date(NaN);const h=!!t[4],m=$r(t[1]),l=$r(t[2])-1,i=$r(t[3]),a=$r(t[4]),n=$r(t[5])-1;if(h)return wc(E,a,n)?gc(E,a,n):new Date(NaN);{const e=new Date(0);return!yc(E,l,i)||!vc(E,m)?new Date(NaN):(e.setUTCFullYear(E,l,Math.max(m,i)),e)}}function $r(b){return b?parseInt(b):1}function pc(b){const E=b.match(cc);if(!E)return NaN;const t=vs(E[1]),h=vs(E[2]),m=vs(E[3]);return xc(t,h,m)?t*Ni+h*Ii+m*1e3:NaN}function vs(b){return b&&parseFloat(b.replace(",","."))||0}function mc(b){if(b==="Z")return 0;const E=b.match(uc);if(!E)return 0;const t=E[1]==="+"?-1:1,h=parseInt(E[2]),m=E[3]&&parseInt(E[3])||0;return _c(h,m)?t*(h*Ni+m*Ii):NaN}function gc(b,E,t){const h=new Date(0);h.setUTCFullYear(b,0,4);const m=h.getUTCDay()||7,l=(E-1)*7+t+1-m;return h.setUTCDate(h.getUTCDate()+l),h}const bc=[31,null,31,30,31,30,31,31,30,31,30,31];function Yi(b){return b%400===0||b%4===0&&b%100!==0}function yc(b,E,t){return E>=0&&E<=11&&t>=1&&t<=(bc[E]||(Yi(b)?29:28))}function vc(b,E){return E>=1&&E<=(Yi(b)?366:365)}function wc(b,E,t){return E>=1&&E<=53&&t>=0&&t<=6}function xc(b,E,t){return b===24?E===0&&t===0:t>=0&&t<60&&E>=0&&E<60&&b>=0&&b<25}function _c(b,E){return E>=0&&E<=59}const Me=(b,E=[],t)=>!!(!t.workOnSaturdays&&Ri(b)||!t.workOnSundays&&Pi(b)||!t.workOnHolidays&&E.some(h=>Hr(h,b))),kc=b=>Ri(b)||Pi(b),Ki=(b,E,t=[],h)=>{const m=[];let l=Ae(new Date(b));const i=Ae(new Date(E));let a=0;for(;l<=i;)Me(l,t,h)&&m.push({date:new Date(l),offset:a}),l=qt(l,1),a++;return m},ws=(b,E,t,h)=>{let m=new Date(b);const l=E==="right"?1:-1;for(;Me(m,t,h);)m=qt(m,l);return m},mr=(b,E,t=[],h)=>{let m=new Date(b);if(E===0)return m;if(E<0)return xs(m,Math.abs(E),t,h);let l=0;const i=Math.ceil(E);for(;Me(m,t,h);)m=qt(m,1);for(;l<i;)Me(m,t,h)||l++,l<i&&(m=qt(m,1));return m},xs=(b,E,t=[],h)=>{let m=new Date(b),l=0;if(E<=0)return m;for(;l<E;)m=qt(m,-1),Me(m,t,h)||l++;return m},_s=(b,E,t=[],h)=>{if(Hr(b,E))return 0;const m=b<E;let l=0,i=new Date(b);const a=new Date(E);if(m)for(;i<a;)Me(i,t,h)||l++,i=qt(i,1);else for(;i>a;)i=qt(i,-1),Me(i,t,h)||l--;return l},Zi=(b,E,t=[],h)=>E===0?new Date(b):E>0?mr(b,E+1,t,h):xs(b,Math.abs(E),t,h),ks=(b,E)=>{if(E<=0)return b;const t=Math.ceil(E);return qt(b,t-1)},Ji={workOnSaturdays:!0,workOnSundays:!1,workOnHolidays:!1},Ss=(b,E=Ji)=>b?{workOnSaturdays:b.workOnSaturdays??E.workOnSaturdays,workOnSundays:b.workOnSundays??E.workOnSundays,workOnHolidays:b.workOnHolidays??E.workOnHolidays}:E,Qi=(b,E=[],t)=>{if(!b.task)return{startDate:b.startDate,endDate:b.endDate,netWorkStartDate:b.startDate,netWorkEndDate:b.endDate};const{netWorkDays:h,indirectWorkDaysPre:m,indirectWorkDaysPost:l}=b.task,i=Ae(new Date(b.startDate));let a=i,n,e;m>0&&(n=a,e=ks(a,m),a=qt(e,1));let r=a,c=r;if(h>0){for(;Me(r,E,t);)r=qt(r,1);c=mr(r,h,E,t),a=qt(c,1)}else m===0&&(r=i,c=i);let s,o;return l>0&&(s=a,o=ks(a,l)),{startDate:n||r,endDate:o||c,netWorkStartDate:r,netWorkEndDate:c,indirectPreStartDate:n,indirectPreEndDate:e,indirectPostStartDate:s,indirectPostEndDate:o}},Sc=(b,E,t)=>{switch(E){case"START":return t.startDate;case"NET_WORK_START":return t.netWorkStartDate;case"NET_WORK_END":return t.netWorkEndDate;case"END":return t.endDate;default:return t.endDate}},vt={vermilion:"var(--gantt-vermilion)",teal:"var(--gantt-teal)",red:"var(--gantt-red)",blue:"var(--gantt-blue)",milestone:"var(--gantt-milestone)",milestoneDetail:"var(--gantt-milestone-detail)",milestoneDetailHover:"var(--gantt-milestone-detail-hover)",dependency:"var(--gantt-dependency)",grid:"var(--gantt-grid)",gridDark:"var(--gantt-grid-dark)",focus:"var(--gantt-focus)",success:"var(--gantt-success)",bgPrimary:"var(--gantt-bg-primary)",bgSecondary:"var(--gantt-bg-secondary)",bgHover:"var(--gantt-bg-hover)",bgSelected:"var(--gantt-bg-selected)",textPrimary:"var(--gantt-text-primary)",textSecondary:"var(--gantt-text-secondary)",textMuted:"var(--gantt-text-muted)",textInverse:"var(--gantt-text-inverse)",border:"var(--gantt-border)",borderLight:"var(--gantt-border-light)",borderFocus:"var(--gantt-border-focus)",weekend:"var(--gantt-weekend-bg)",holiday:"var(--gantt-holiday-bg)",sunday:"var(--gantt-sunday-bg)",summaryBar:"var(--gantt-summary-bar)",summaryProgress:"var(--gantt-summary-progress)",anchorFill:"var(--gantt-anchor-fill)",anchorStroke:"var(--gantt-anchor-stroke)",anchorHover:"var(--gantt-anchor-hover)",tooltipBg:"var(--gantt-tooltip-bg)",tooltipText:"var(--gantt-tooltip-text)",dragPreview:"var(--gantt-drag-preview)",badgeBlock:"#e5e7eb",badgeBlockText:"#1f2937",badgeBlockBorder:"#374151",badgeGroup:"#b0b3b8"};function Ec(b){return vt[b]}const Cc={vermilion:"#E34234",teal:"#008080",red:"#FF5252",blue:"#448AFF",milestone:"#4B5563",milestoneDetail:"#F59E0B",dependency:"#9CA3AF",grid:"#E5E7EB",focus:"#3B82F6"},he={ROW_HEIGHT:30,ROW_HEIGHT_COMPACT:12,GROUP_ROW_HEIGHT_COMPACT:21,HEADER_HEIGHT:80,MILESTONE_LANE_HEIGHT:40,BAR_HEIGHT:9,BAR_HEIGHT_COMPACT:4,SIDEBAR_WIDTH:500,SIDEBAR_MIN_WIDTH:300,SIDEBAR_MAX_WIDTH:800,SIDEBAR_MASTER_WIDTH:500,SIDEBAR_DETAIL_WIDTH:600,SIDEBAR_UNIFIED_WIDTH:450,SCROLL_DELAY_MS:100,BOTTOM_PADDING:100};function Tc(b){return{rowHeight:b?he.ROW_HEIGHT_COMPACT:he.ROW_HEIGHT,barHeight:b?he.BAR_HEIGHT_COMPACT:he.BAR_HEIGHT}}const Ur=[{id:"name",label:"CP명",width:200,minWidth:100},{id:"total",label:"총 공기",width:90,minWidth:60},{id:"workDays",label:"작업일수",width:90,minWidth:60},{id:"nonWorkDays",label:"비작업일수",width:90,minWidth:60}],Vr=[{id:"name",label:"단위공정명",width:180,minWidth:80},{id:"indirectPre",label:"선간접",width:65,minWidth:45},{id:"netWork",label:"순작업",width:65,minWidth:45},{id:"indirectPost",label:"후간접",width:65,minWidth:45},{id:"startDate",label:"시작일",width:95,minWidth:75},{id:"endDate",label:"종료일",width:95,minWidth:75}],xn=[{id:"name",label:"작업명",width:220,minWidth:120},{id:"duration",label:"기간",width:70,minWidth:50},{id:"startDate",label:"시작일",width:80,minWidth:70},{id:"endDate",label:"종료일",width:80,minWidth:70}],Tr={DAY:{pixelsPerDay:30,label:"일"},WEEK:{pixelsPerDay:10,label:"주"},MONTH:{pixelsPerDay:2,label:"월"}},Je={RADIUS:1.5,RADIUS_ACTIVE:2.5,RADIUS_CONNECTED:2,HIT_AREA:10,STROKE_WIDTH:1.5},Gr={HANDLE_WIDTH:8,BOUNDARY_HANDLE_WIDTH:6,DROP_DOWN_OFFSET:10,PATH_OFFSET_X:15},Es={BAR_HEIGHT:8,VERTICAL_OFFSET:4},_n={DEFAULT:1.5,HOVER:2,SELECTED:2.5},to={RADIUS:1,RADIUS_ACTIVE:1.5,RADIUS_CONNECTED:1.25,STROKE_WIDTH:.75},Cs={DEFAULT:.75,HOVER:1,SELECTED:1.25},De={WIDTH:3,HEIGHT:3,REF_X:2.5,REF_Y:1.5,STROKE_WIDTH:.75},Be=(b,E,t)=>Le(b,E)*t,eo=(b,E,t)=>{const h=Math.round(b/t);return qt(E,h)},Mc=(b,E,t)=>(Le(E,b)+1)*t,Dc=b=>Tr[b].pixelsPerDay,kn=(b,E=[],t=5)=>{const h=[...b.flatMap(e=>[e.startDate,e.endDate].filter(Boolean)),...E.map(e=>e.date)];if(h.length===0){const e=new Date;return{minDate:e,maxDate:qt(e,30),totalDays:30}}const m=new Date(Math.min(...h.map(e=>e.getTime()))),l=new Date(Math.max(...h.map(e=>e.getTime()))),i=qt(m,-t),a=qt(l,t),n=Le(a,i);return{minDate:i,maxDate:a,totalDays:n}},Ts=[new Date("2025-01-01"),new Date("2025-01-27"),new Date("2025-01-28"),new Date("2025-01-29"),new Date("2025-01-30"),new Date("2025-03-01"),new Date("2025-03-03"),new Date("2025-05-05"),new Date("2025-05-06"),new Date("2025-06-03"),new Date("2025-06-06"),new Date("2025-08-15"),new Date("2025-10-03"),new Date("2025-10-05"),new Date("2025-10-06"),new Date("2025-10-07"),new Date("2025-10-08"),new Date("2025-10-09"),new Date("2025-12-25")],Ms=[new Date("2026-01-01"),new Date("2026-02-16"),new Date("2026-02-17"),new Date("2026-02-18"),new Date("2026-03-01"),new Date("2026-03-02"),new Date("2026-05-05"),new Date("2026-05-24"),new Date("2026-05-25"),new Date("2026-06-06"),new Date("2026-08-15"),new Date("2026-08-17"),new Date("2026-09-24"),new Date("2026-09-25"),new Date("2026-09-26"),new Date("2026-10-03"),new Date("2026-10-05"),new Date("2026-10-09"),new Date("2026-12-25")],Ds=[new Date("2027-01-01"),new Date("2027-02-06"),new Date("2027-02-07"),new Date("2027-02-08"),new Date("2027-02-09"),new Date("2027-03-01"),new Date("2027-05-05"),new Date("2027-05-13"),new Date("2027-06-06"),new Date("2027-06-07"),new Date("2027-08-15"),new Date("2027-08-16"),new Date("2027-09-14"),new Date("2027-09-15"),new Date("2027-09-16"),new Date("2027-10-03"),new Date("2027-10-04"),new Date("2027-10-09"),new Date("2027-10-11"),new Date("2027-12-25"),new Date("2027-12-27")],ro=[...Ts,...Ms,...Ds],no=b=>{switch(b){case 2025:return Ts;case 2026:return Ms;case 2027:return Ds;default:return[]}},Ac=b=>b.flatMap(E=>no(E)),jc=({taskNames:b,onConfirm:E,onCancel:t})=>He.createPortal(U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 transition-opacity",onClick:t}),U.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:U.jsxs("div",{className:"w-[400px] rounded-xl bg-white shadow-2xl border border-gray-200",onClick:h=>h.stopPropagation(),children:[U.jsx("div",{className:"px-5 py-4 border-b border-gray-100",children:U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100",children:U.jsx("svg",{className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-base font-bold text-gray-900",children:"삭제 확인"}),U.jsx("p",{className:"text-sm text-gray-500",children:"이 작업은 되돌릴 수 없습니다"})]})]})}),U.jsx("div",{className:"px-5 py-4",children:U.jsxs("div",{className:"rounded-lg bg-red-50 p-4",children:[U.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["다음 ",U.jsxs("span",{className:"font-semibold text-red-600",children:[b.length,"개"]})," 항목을 삭제하시겠습니까?"]}),U.jsx("ul",{className:"max-h-[150px] overflow-auto space-y-1.5",children:b.map((h,m)=>U.jsxs("li",{className:"flex items-center gap-2 text-sm font-medium text-gray-800",children:[U.jsx("span",{className:"h-2 w-2 rounded-full bg-red-400 shrink-0"}),h]},m))})]})}),U.jsxs("div",{className:"flex justify-end gap-3 px-5 py-4 border-t border-gray-100 bg-gray-50/50 rounded-b-xl",children:[U.jsx("button",{onClick:t,className:"rounded-lg px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-200 transition-colors",children:"취소"}),U.jsx("button",{onClick:E,className:"rounded-lg bg-red-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-red-700 transition-colors shadow-sm",children:"삭제"})]})]})})]}),document.body),Ic=({x:b,y:E,taskId:t,selectedTaskIds:h,tasks:m,onTaskGroup:l,onTaskUngroup:i,onTaskDelete:a,onStartRename:n,onClose:e,onDeselect:r})=>{var M;const[c,s]=Z.useState(!1),o=Array.from(h).some(R=>{const B=m.find(N=>N.id===R);return(B==null?void 0:B.type)==="GROUP"}),d=()=>{h.size>=1&&!o&&l&&(l(Array.from(h)),e())},f=()=>{if(h.size===1&&i){const R=Array.from(h)[0],B=m.find(N=>N.id===R);(B==null?void 0:B.type)==="GROUP"&&(i(R),e())}},u=()=>{s(!0)},g=()=>{a&&(h.size>0?Array.from(h):[t]).forEach(B=>{a(B)}),s(!1),r(),e()},p=()=>{s(!1)},x=h.size===1&&(()=>{const R=Array.from(h)[0],B=m.find(N=>N.id===R);return(B==null?void 0:B.type)==="GROUP"})(),S=h.size>0?Array.from(h).map(R=>{var B;return((B=m.find(N=>N.id===R))==null?void 0:B.name)||R}):[((M=m.find(R=>R.id===t))==null?void 0:M.name)||t];return He.createPortal(U.jsxs("div",{className:"fixed z-[9999] min-w-[160px] rounded-lg border border-gray-200 bg-white py-1 shadow-lg",style:{left:b,top:E},onClick:R=>R.stopPropagation(),children:[h.size>=1&&!o&&l&&U.jsxs("button",{onClick:d,className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"그룹화 (",h.size,"개 선택됨)"]}),x&&i&&U.jsxs("button",{onClick:f,className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16m-7 6h7"})}),"그룹 해제"]}),h.size===1&&n&&U.jsxs("button",{onClick:()=>{const R=Array.from(h)[0];n(R),e()},className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"이름 변경"]}),a&&U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"my-1 border-t border-gray-200"}),U.jsxs("button",{onClick:u,className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50",children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"삭제 ",h.size>1?`(${h.size}개)`:""]})]}),U.jsx("div",{className:"my-1 border-t border-gray-200"}),U.jsxs("button",{onClick:()=>{r(),e()},className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-gray-500 hover:bg-gray-100",children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"선택 해제"]}),c&&U.jsx(jc,{taskNames:S,onConfirm:g,onCancel:p})]}),document.body)};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=b=>b.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oc=b=>b.replace(/^([A-Z])|[\s-_]+(\w)/g,(E,t,h)=>h?h.toUpperCase():t.toLowerCase()),so=b=>{const E=Oc(b);return E.charAt(0).toUpperCase()+E.slice(1)},io=(...b)=>b.filter((E,t,h)=>!!E&&E.trim()!==""&&h.indexOf(E)===t).join(" ").trim(),Rc=b=>{for(const E in b)if(E.startsWith("aria-")||E==="role"||E==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Z.forwardRef(({color:b="currentColor",size:E=24,strokeWidth:t=2,absoluteStrokeWidth:h,className:m="",children:l,iconNode:i,...a},n)=>Z.createElement("svg",{ref:n,...Pc,width:E,height:E,stroke:b,strokeWidth:h?Number(t)*24/Number(E):t,className:io("lucide",m),...!l&&!Rc(a)&&{"aria-hidden":"true"},...a},[...i.map(([e,r])=>Z.createElement(e,r)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=(b,E)=>{const t=Z.forwardRef(({className:h,...m},l)=>Z.createElement(Lc,{ref:l,iconNode:E,className:io(`lucide-${Nc(so(b))}`,`lucide-${b}`,h),...m}));return t.displayName=so(b),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ir("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ir("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ir("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ir("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ir("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ir("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ir("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ir("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),{ROW_HEIGHT:lo}=he,En={name:"",indirectWorkDaysPre:0,netWorkDays:1,indirectWorkDaysPost:0},Wc=({columns:b,tasks:E,activeCPId:t,onTaskCreate:h,onCancel:m,isVirtualized:l=!1,virtualRowIndex:i})=>{const[a,n]=Z.useState(En),e=Z.useRef(null);Z.useEffect(()=>{n(En),setTimeout(()=>{var d;(d=e.current)==null||d.focus()},0)},[]);const r=Z.useCallback(()=>{n(En),m()},[m]),c=Z.useCallback(async()=>{if(!(!a.name.trim()||!h||!t))try{const d=E[E.length-1],f=d?qt(d.endDate,1):new Date,u=a.indirectWorkDaysPre+a.netWorkDays+a.indirectWorkDaysPost,g=qt(f,Math.max(u-1,0)),p={id:`task-${Date.now()}`,parentId:t,wbsLevel:2,type:"TASK",name:a.name.trim(),startDate:f,endDate:g,task:{netWorkDays:a.netWorkDays,indirectWorkDaysPre:a.indirectWorkDaysPre,indirectWorkDaysPost:a.indirectWorkDaysPost},dependencies:[]};await h(p),n(En),m()}catch(d){console.error("Failed to create task:",d),alert("태스크 생성 중 오류가 발생했습니다.")}},[a,h,t,E,m]),s=Z.useCallback(d=>{d.key==="Enter"?(d.preventDefault(),c()):d.key==="Escape"&&(d.preventDefault(),r())},[c,r]),o=l&&i!==void 0?{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${E.length*lo}px)`}:{};return U.jsxs("div",{className:"box-border flex items-center border-b-2 border-blue-300 bg-blue-50 transition-colors",style:{height:lo,...o},children:[U.jsx("div",{className:"flex shrink-0 items-center overflow-hidden border-r border-blue-200 px-2",style:{width:b[0].width},children:U.jsx("input",{ref:e,type:"text",placeholder:"공정명...",className:"w-full rounded border border-blue-300 bg-white px-2 py-1 text-sm text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a.name,onChange:d=>n(f=>({...f,name:d.target.value})),onKeyDown:s})}),U.jsx("div",{className:"flex shrink-0 items-center justify-center border-r border-blue-200 px-1",style:{width:b[1].width},children:U.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"w-full max-w-[40px] rounded border border-blue-300 bg-white px-1 py-1 text-center text-xs text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a.indirectWorkDaysPre,onChange:d=>{const f=d.target.value.replace(/[^0-9]/g,""),u=parseInt(f)||0;n(g=>({...g,indirectWorkDaysPre:u}))},onKeyDown:s,title:"선 간접작업일"})}),U.jsx("div",{className:"flex shrink-0 items-center justify-center border-r border-blue-200 px-1",style:{width:b[2].width},children:U.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"w-full max-w-[40px] rounded border border-blue-300 bg-white px-1 py-1 text-center text-xs text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a.netWorkDays,onChange:d=>{const f=d.target.value.replace(/[^0-9]/g,""),u=parseInt(f)||0;n(g=>({...g,netWorkDays:u}))},onKeyDown:s,title:"순작업일"})}),U.jsx("div",{className:"flex shrink-0 items-center justify-center border-r border-blue-200 px-1",style:{width:b[3].width},children:U.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"w-full max-w-[40px] rounded border border-blue-300 bg-white px-1 py-1 text-center text-xs text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a.indirectWorkDaysPost,onChange:d=>{const f=d.target.value.replace(/[^0-9]/g,""),u=parseInt(f)||0;n(g=>({...g,indirectWorkDaysPost:u}))},onKeyDown:s,title:"후 간접작업일"})}),U.jsxs("div",{className:"flex shrink-0 items-center justify-center gap-1 px-2",style:{width:b[4].width+b[5].width},children:[U.jsx("button",{onClick:c,disabled:!a.name.trim(),className:"flex items-center justify-center rounded bg-blue-500 p-1.5 text-white hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",title:"저장 (Enter)",children:U.jsx(oo,{size:14})}),U.jsx("button",{onClick:r,className:"flex items-center justify-center rounded bg-gray-400 p-1.5 text-white hover:bg-gray-500 transition-colors",title:"취소 (Esc)",children:U.jsx(Sn,{size:14})})]})]})},{ROW_HEIGHT:co}=he,Cn={name:"",workDaysTotal:30,nonWorkDaysTotal:10},zc=({columns:b,tasks:E,onTaskCreate:t,onCancel:h,isVirtualized:m=!1,virtualRowIndex:l,dragHandleWidth:i=0})=>{const[a,n]=Z.useState(Cn),e=Z.useRef(null);Z.useEffect(()=>{n(Cn),setTimeout(()=>{var d;(d=e.current)==null||d.focus()},0)},[]);const r=Z.useCallback(()=>{n(Cn),h()},[h]),c=Z.useCallback(async()=>{if(!(!a.name.trim()||!t))try{const d=E.filter(S=>S.type==="CP"&&!S.parentId),f=d[d.length-1],u=f?qt(f.endDate,1):new Date,g=a.workDaysTotal+a.nonWorkDaysTotal,p=qt(u,Math.max(g-1,0)),x={id:`cp-${Date.now()}`,parentId:null,wbsLevel:1,type:"CP",name:a.name.trim(),startDate:u,endDate:p,cp:{workDaysTotal:a.workDaysTotal,nonWorkDaysTotal:a.nonWorkDaysTotal},dependencies:[]};await t(x),n(Cn),h()}catch(d){console.error("Failed to create CP:",d),alert("CP 생성 중 오류가 발생했습니다.")}},[a,t,E,h]),s=Z.useCallback(d=>{d.key==="Enter"?(d.preventDefault(),c()):d.key==="Escape"&&(d.preventDefault(),r())},[c,r]),o=m&&l!==void 0?{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${E.length*co}px)`}:{};return U.jsxs("div",{className:"box-border flex items-center border-b-2 border-blue-300 bg-blue-50 transition-colors",style:{height:co,...o},children:[i>0&&U.jsx("div",{style:{width:i},className:"shrink-0"}),U.jsxs("div",{className:"flex shrink-0 items-center overflow-hidden border-r border-blue-200 px-2",style:{width:i>0?b[0].width-i:b[0].width},children:[U.jsx("div",{className:"w-6 shrink-0"})," ",U.jsx("input",{ref:e,type:"text",placeholder:"CP명...",className:"w-full rounded border border-blue-300 bg-white px-2 py-1 text-sm text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:a.name,onChange:d=>n(f=>({...f,name:d.target.value})),onKeyDown:s})]}),U.jsxs("div",{className:"flex shrink-0 items-center justify-center border-r border-blue-200 text-xs text-gray-600",style:{width:b[1].width},children:[a.workDaysTotal+a.nonWorkDaysTotal,"일"]}),U.jsx("div",{className:"flex shrink-0 items-center justify-center border-r border-blue-200 px-1",style:{width:b[2].width},children:U.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"w-full max-w-[50px] rounded border border-blue-300 bg-white px-1 py-1 text-center text-xs text-vermilion focus:border-vermilion focus:outline-none focus:ring-1 focus:ring-vermilion",value:a.workDaysTotal,onChange:d=>{const f=d.target.value.replace(/[^0-9]/g,""),u=parseInt(f)||0;n(g=>({...g,workDaysTotal:u}))},onKeyDown:s,title:"작업일수"})}),U.jsx("div",{className:"flex shrink-0 items-center justify-center px-1",style:{width:b[3].width},children:U.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"w-full max-w-[50px] rounded border border-blue-300 bg-white px-1 py-1 text-center text-xs text-teal focus:border-teal focus:outline-none focus:ring-1 focus:ring-teal",value:a.nonWorkDaysTotal,onChange:d=>{const f=d.target.value.replace(/[^0-9]/g,""),u=parseInt(f)||0;n(g=>({...g,nonWorkDaysTotal:u}))},onKeyDown:s,title:"비작업일수"})}),U.jsxs("div",{className:"flex shrink-0 items-center justify-center gap-1 px-2",children:[U.jsx("button",{onClick:c,disabled:!a.name.trim(),className:"flex items-center justify-center rounded bg-blue-500 p-1.5 text-white hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",title:"저장 (Enter)",children:U.jsx(oo,{size:14})}),U.jsx("button",{onClick:r,className:"flex items-center justify-center rounded bg-gray-400 p-1.5 text-white hover:bg-gray-500 transition-colors",title:"취소 (Esc)",children:U.jsx(Sn,{size:14})})]})]})},{HEADER_HEIGHT:Hc}=he,uo=({viewMode:b,activeGroupName:E,activeCPName:t,columns:h,resizingIndex:m,selectedTaskIds:l,tasks:i,onColumnResizeStart:a,onColumnResizeDoubleClick:n,onTaskGroup:e,onTaskUngroup:r,onClearSelection:c,dragHandleWidth:s=0})=>{const o=l.size===1?i.find(p=>p.id===Array.from(l)[0]&&p.type==="GROUP"):null,d=l.size>=1&&e&&!o,f=o&&r,u=()=>!d&&!f&&l.size===0?null:U.jsxs("div",{className:"flex items-center gap-2",children:[l.size>0&&U.jsxs("span",{className:"text-xs",style:{color:"var(--gantt-text-muted)"},children:[l.size,"개 선택"]}),f&&U.jsxs("button",{onClick:()=>{r(o.id),c()},className:"flex items-center gap-1 rounded px-2 py-1 text-xs font-medium text-white transition-colors",style:{backgroundColor:"var(--gantt-text-muted)"},title:"그룹 해제",children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16m-7 6h7"})}),"해제"]}),l.size>0&&U.jsx("button",{onClick:c,className:"flex items-center justify-center rounded p-1 transition-colors",style:{color:"var(--gantt-text-muted)"},title:"선택 해제 (ESC)",children:U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),g=()=>U.jsxs("div",{className:"flex h-[32px]",style:{borderTop:"1px solid var(--gantt-border-light)"},children:[s>0&&U.jsx("div",{className:"shrink-0",style:{width:s}}),h.map((p,x)=>U.jsxs("div",{className:"relative flex shrink-0 items-center justify-center text-xs font-medium",style:{width:x===0&&s>0?p.width-s:p.width,color:"var(--gantt-text-secondary)"},children:[p.label,x<h.length-1&&U.jsx("div",{className:"absolute right-0 top-0 z-10 h-full w-3 touch-none flex justify-center group",style:{transform:"translateX(50%)",cursor:"col-resize"},onMouseDown:S=>a(S,x),onDoubleClick:S=>n(S,x),title:"드래그하여 컬럼 너비 조절 / 더블클릭으로 내용에 맞게 자동 조절",children:U.jsx("div",{className:"h-full w-[2px] transition-colors pointer-events-none",style:{backgroundColor:m===x?"var(--gantt-focus)":"transparent"}})}),x<h.length-1&&U.jsx("div",{className:"absolute right-0 top-0 h-full w-px pointer-events-none",style:{backgroundColor:"var(--gantt-border-light)"}})]},p.id))]});return U.jsxs("div",{className:"flex shrink-0 flex-col",style:{height:Hc,backgroundColor:"var(--gantt-bg-secondary)",borderBottom:"1px solid var(--gantt-border)"},children:[U.jsxs("div",{className:"flex flex-1 items-center justify-between px-4",children:[U.jsx("span",{style:{color:"var(--gantt-text-secondary)",fontSize:"0.875rem"},children:b==="MASTER"?"공구공정표 Master":b==="UNIFIED"?"통합보기 공정표":U.jsxs(U.Fragment,{children:["주공정(C.P)표 Detail : "," ",U.jsxs("span",{className:"font-bold",style:{color:"var(--gantt-text-primary)"},children:[E?`${E} / `:"",t||""]})]})}),u()]}),g()]})},{ROW_HEIGHT:$c}=he,fo=b=>Number.isInteger(b)?b.toString():b.toFixed(1),Uc=Z.memo(({task:b,rowIndex:E,isVirtualized:t,rowStart:h,isDragging:m,isDragOver:l,dragOverPosition:i,isSelected:a,isFocused:n,isExpanded:e,canExpand:r,indent:c,isGroup:s,onDragStart:o,onDragOver:d,onDragLeave:f,onDrop:u,onDragEnd:g,onRowClick:p,onContextMenu:x,onToggle:S,editingTaskId:M,editingName:R,setEditingName:B,editInputRef:N,onStartEdit:L,onSaveEdit:F,onEditKeyDown:$,columns:W,dragHandleWidth:C,onTaskReorder:D,onTaskMove:k,onTaskUpdate:y,cpSummary:w,onTaskClick:v})=>{const _=Z.useMemo(()=>{let z="var(--gantt-bg-primary)",V="var(--gantt-border-light)",q="none";return m?z="var(--gantt-bg-selected)":l?i==="into"&&(z="var(--gantt-bg-selected)",V="var(--gantt-focus)",q="inset 0 0 0 2px var(--gantt-focus)"):n?(z="var(--gantt-bg-selected)",q="inset 0 0 0 2px var(--gantt-focus)"):a?(z="var(--gantt-bg-selected)",q="inset 0 0 0 2px rgba(59, 130, 246, 0.3)"):s&&(z="var(--gantt-bg-secondary)"),{height:$c,backgroundColor:z,borderBottom:`1px solid ${V}`,borderTop:l&&i==="before"?"2px solid var(--gantt-focus)":"none",boxShadow:q,opacity:m?.5:1,...t?{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${h}px)`}:{}}},[m,l,i,n,a,s,t,h]),T=Z.useCallback(z=>{z.stopPropagation(),S(b.id)},[S,b.id]),j=Z.useCallback(z=>{y&&(z.stopPropagation(),L(b))},[y,L,b]),O=Z.useMemo(()=>s?{backgroundColor:vt.badgeBlock,color:vt.badgeBlockText,border:`1.5px solid ${vt.badgeBlockBorder}`}:{backgroundColor:vt.vermilion,color:"white"},[s]);return U.jsxs("div",{draggable:!!(D||k),onDragStart:z=>o(z,b.id),onDragOver:z=>d(z,b.id,s),onDragLeave:f,onDrop:z=>u(z,b.id),onDragEnd:g,onClick:z=>p(z,b,E),onContextMenu:z=>x(z,b),className:"box-border flex items-center transition-all duration-150",style:_,onDoubleClick:()=>{s&&r?S(b.id):s||v(b)},title:s&&r?"더블클릭하여 접기/펼치기":s?void 0:"더블클릭하여 상세 공정표 보기",children:[D&&U.jsx("div",{className:"flex shrink-0 items-center justify-center cursor-grab active:cursor-grabbing",style:{width:C,color:"var(--gantt-text-muted)"},children:U.jsx(Is,{size:14})}),U.jsxs("div",{className:"flex shrink-0 items-center overflow-hidden px-2",style:{width:D?W[0].width-C:W[0].width,paddingLeft:c+8,borderRight:"1px solid var(--gantt-border-light)"},children:[r?U.jsx("button",{onClick:T,className:"mr-1 shrink-0 rounded p-1",style:{color:"var(--gantt-text-muted)"},children:e?U.jsx(As,{size:14}):U.jsx(js,{size:14})}):U.jsx("div",{className:"w-6 shrink-0"}),U.jsx("span",{className:"mr-1.5 shrink-0 rounded px-1 text-[10px] font-medium",style:O,children:s?"B":"CP"}),M===b.id?U.jsx("input",{ref:N,type:"text",value:R,onChange:z=>B(z.target.value),onKeyDown:$,onBlur:F,onClick:z=>z.stopPropagation(),className:"w-full rounded px-1 py-0.5 text-xs font-normal focus:outline-none focus:ring-1",style:{backgroundColor:"var(--gantt-bg-primary)",color:"var(--gantt-text-secondary)",border:"1px solid var(--gantt-focus)"}}):U.jsx("span",{className:"truncate text-xs",style:{fontWeight:500,color:"var(--gantt-text-primary)",cursor:s?"text":"default"},onDoubleClick:j,title:y?"더블클릭하여 이름 편집":void 0,children:b.name})]}),U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs",style:{width:W[1].width,color:"var(--gantt-text-muted)",borderRight:"1px solid var(--gantt-border-light)"},children:s?"-":w?`${w.totalDays}일`:"-"}),U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs",style:{width:W[2].width,color:vt.vermilion,borderRight:"1px solid var(--gantt-border-light)"},children:s?"-":w?`${fo(w.workDays)}일`:"-"}),U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs",style:{width:W[3].width,color:vt.teal},children:s?"-":w?`${fo(w.nonWorkDays)}일`:"-"})]})}),{ROW_HEIGHT:ho}=he,Vc={indirectWorkDaysPre:{localKey:"pre",bgColor:"var(--gantt-blue)",focusBorderColor:"var(--gantt-blue)",title:"선 간접작업일 (바 드래그로도 조절 가능, 0.1 단위)"},netWorkDays:{localKey:"net",bgColor:"var(--gantt-red)",focusBorderColor:"var(--gantt-red)",title:"순작업일 (0.1 단위)"},indirectWorkDaysPost:{localKey:"post",bgColor:"var(--gantt-blue)",focusBorderColor:"var(--gantt-blue)",title:"후 간접작업일 (바 드래그로도 조절 가능, 0.1 단위)"}},Ns=({task:b,field:E,editingDays:t,setEditingDays:h,onDurationChange:m,width:l,rowHeight:i})=>{const a=i??ho,n=a<ho;if(!b.task)return U.jsx("div",{className:"flex shrink-0 items-center justify-center px-1",style:{width:l,borderRight:"1px solid var(--gantt-border-light)"},children:U.jsx("span",{className:"text-xs",style:{color:"var(--gantt-text-muted)"},children:"-"})});const e=Vc[E],r=b.task[E],c=(t==null?void 0:t.taskId)===b.id&&(t==null?void 0:t.field)===e.localKey;return U.jsx("div",{className:"flex shrink-0 items-center justify-center px-1",style:{width:l,borderRight:"1px solid var(--gantt-border-light)"},children:U.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*\\.?[0-9]?",className:`w-full rounded text-center focus:outline-none focus:ring-1 ${n?"max-w-[32px] px-0.5 py-0 text-[9px]":"max-w-[45px] px-1 py-1 text-xs"}`,style:{backgroundColor:`color-mix(in srgb, ${e.bgColor} 15%, var(--gantt-bg-primary))`,color:"var(--gantt-text-primary)",border:"1px solid var(--gantt-border)",height:n?a-2:"auto",lineHeight:n?`${a-4}px`:"normal"},value:c?t.value:r,onFocus:()=>h({taskId:b.id,field:e.localKey,value:String(r)}),onChange:s=>{const o=s.target.value.replace(/[^0-9.]/g,"");h({taskId:b.id,field:e.localKey,value:o})},onBlur:()=>{if(c){const s=parseFloat(t.value)||0,o=Math.round(s*10)/10;m(b,E,o),h(null)}},onKeyDown:s=>{(s.key==="-"||s.key==="e"||s.key==="+")&&s.preventDefault(),s.key==="Enter"&&s.target.blur()},title:e.title})})},{ROW_HEIGHT:Tn,GROUP_ROW_HEIGHT_COMPACT:Gc}=he,qc=Z.memo(({task:b,rowIndex:E,isVirtualized:t,rowStart:h,isDragging:m,isDragOver:l,dragOverPosition:i,isSelected:a,isFocused:n,isExpanded:e,canExpand:r,indent:c,isGroup:s,onDragStart:o,onDragOver:d,onDragLeave:f,onDrop:u,onDragEnd:g,onRowClick:p,onContextMenu:x,onToggle:S,editingTaskId:M,editingName:R,setEditingName:B,editInputRef:N,onStartEdit:L,onSaveEdit:F,onEditKeyDown:$,columns:W,dragHandleWidth:C,onTaskReorder:D,onTaskMove:k,onTaskUpdate:y,onTaskDoubleClick:w,editingDays:v,setEditingDays:_,onDurationChange:T,rowHeight:j})=>{const O=(j??Tn)<Tn,z=s?O?Gc:Tn:j??Tn,V=Z.useMemo(()=>{let I="var(--gantt-bg-primary)",A="var(--gantt-border-light)",H="none";return m?I="var(--gantt-bg-selected)":l?i==="into"&&(I="var(--gantt-bg-selected)",A="var(--gantt-focus)",H="inset 0 0 0 2px var(--gantt-focus)"):n?(I="var(--gantt-bg-selected)",H="inset 0 0 0 2px var(--gantt-focus)"):a?(I="var(--gantt-bg-selected)",H="inset 0 0 0 2px rgba(59, 130, 246, 0.3)"):s&&(I="var(--gantt-bg-secondary)"),{height:z,backgroundColor:I,borderBottom:`1px solid ${A}`,borderTop:l&&i==="before"?"2px solid var(--gantt-focus)":"none",boxShadow:H,opacity:m?.5:1,...t?{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${h}px)`}:{}}},[m,l,i,n,a,s,t,h,z]),q=Z.useCallback(I=>{I.stopPropagation(),S(b.id)},[S,b.id]),P=Z.useCallback(I=>{y&&(I.stopPropagation(),L(b))},[y,L,b]),G=Z.useMemo(()=>s?{backgroundColor:vt.badgeGroup,color:"white"}:null,[s]);return U.jsxs("div",{draggable:!!(D||k),onDragStart:I=>o(I,b.id),onDragOver:I=>d(I,b.id,s),onDragLeave:f,onDrop:I=>u(I,b.id),onDragEnd:g,onClick:I=>p(I,b,E),onDoubleClick:()=>{s&&r?S(b.id):!s&&b.type==="TASK"&&w&&w(b)},onContextMenu:I=>x(I,b),className:"box-border flex items-center transition-colors",style:V,title:s&&r?"더블클릭하여 접기/펼치기":!s&&b.type==="TASK"?"더블클릭하여 공정 설정":void 0,children:[D&&U.jsx("div",{className:"flex shrink-0 items-center justify-center cursor-grab active:cursor-grabbing",style:{width:C,color:"var(--gantt-text-muted)"},children:U.jsx(Is,{size:14})}),U.jsxs("div",{className:"flex shrink-0 items-center overflow-hidden px-2",style:{width:D?W[0].width-C:W[0].width,paddingLeft:c+8,borderRight:"1px solid var(--gantt-border-light)"},children:[r?U.jsx("button",{onClick:q,className:"mr-1 shrink-0 rounded p-1",style:{color:"var(--gantt-text-muted)"},"aria-label":e?"접기":"펼치기","aria-expanded":e,children:e?U.jsx(As,{size:14}):U.jsx(js,{size:14})}):U.jsx("div",{className:"w-6 shrink-0"}),s&&G?U.jsx("span",{className:"mr-1.5 shrink-0 rounded px-1 text-[10px] font-medium",style:G,children:"G"}):U.jsx("span",{className:"mr-1.5 shrink-0 rounded-full",style:{width:4,height:4,backgroundColor:vt.red}}),M===b.id?U.jsx("input",{ref:N,type:"text",value:R,onChange:I=>B(I.target.value),onKeyDown:$,onBlur:F,onClick:I=>I.stopPropagation(),className:"w-full rounded px-1 py-0.5 text-xs font-normal focus:outline-none focus:ring-1",style:{backgroundColor:"var(--gantt-bg-primary)",color:"var(--gantt-text-secondary)",border:"1px solid var(--gantt-focus)"}}):U.jsx("span",{className:"truncate text-xs",style:{fontWeight:500,color:"var(--gantt-text-primary)",cursor:s?"text":"default"},onDoubleClick:P,title:y?"더블클릭하여 이름 편집":void 0,children:b.name})]}),U.jsx(Ns,{task:b,field:"indirectWorkDaysPre",editingDays:v,setEditingDays:_,onDurationChange:T,width:W[1].width,rowHeight:j}),U.jsx(Ns,{task:b,field:"netWorkDays",editingDays:v,setEditingDays:_,onDurationChange:T,width:W[2].width,rowHeight:j}),U.jsx(Ns,{task:b,field:"indirectWorkDaysPost",editingDays:v,setEditingDays:_,onDurationChange:T,width:W[3].width,rowHeight:j}),U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs cursor-pointer",style:{width:W[4].width,color:s?"var(--gantt-text-muted)":"var(--gantt-text-secondary)",borderRight:"1px solid var(--gantt-border-light)"},onDoubleClick:I=>{!s&&w&&(I.stopPropagation(),w(b))},title:s?void 0:"더블클릭하여 시작일 편집",children:s?"-":Se(b.startDate,"yyyy-MM-dd")}),U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs",style:{width:W[5].width,color:"var(--gantt-text-muted)"},children:s?"-":Se(b.endDate,"yyyy-MM-dd")})]})}),{ROW_HEIGHT:qr,GROUP_ROW_HEIGHT_COMPACT:Xc}=he,po=Z.memo(({task:b,rowIndex:E,isVirtualized:t,rowStart:h,isDragging:m,isDragOver:l,dragOverPosition:i,isSelected:a,isFocused:n,isExpanded:e,canExpand:r,indent:c,isGroup:s,isCP:o,isBlock:d,onDragStart:f,onDragOver:u,onDragLeave:g,onDrop:p,onDragEnd:x,onRowClick:S,onContextMenu:M,onToggle:R,editingTaskId:B,editingName:N,setEditingName:L,editInputRef:F,onStartEdit:$,onSaveEdit:W,onEditKeyDown:C,columns:D,dragHandleWidth:k,onTaskReorder:y,onTaskMove:w,onTaskUpdate:v,onTaskClick:_,rowHeight:T,onTaskDoubleClick:j})=>{const O=(T??qr)<qr,z=d||o?qr:s?O?Xc:qr:T??qr,V=Z.useMemo(()=>Le(b.endDate,b.startDate)+1,[b.startDate,b.endDate]),q=Z.useMemo(()=>{let A="var(--gantt-bg-primary)",H="var(--gantt-border-light)",X="none";return m?A="var(--gantt-bg-selected)":l?i==="into"&&(A="var(--gantt-bg-selected)",H="var(--gantt-focus)",X="inset 0 0 0 2px var(--gantt-focus)"):n?(A="var(--gantt-bg-selected)",X="inset 0 0 0 2px var(--gantt-focus)"):a?(A="var(--gantt-bg-selected)",X="inset 0 0 0 2px rgba(59, 130, 246, 0.3)"):d?A="var(--gantt-bg-tertiary)":(o||s)&&(A="var(--gantt-bg-secondary)"),{height:z,backgroundColor:A,borderBottom:`1px solid ${H}`,borderTop:l&&i==="before"?"2px solid var(--gantt-focus)":"none",boxShadow:X,opacity:m?.5:1,...t?{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${h}px)`}:{}}},[m,l,i,n,a,d,o,s,t,h,z]),P=Z.useCallback(A=>{A.stopPropagation(),R(b.id)},[R,b.id]),G=Z.useCallback(A=>{v&&(A.stopPropagation(),$(b))},[v,$,b]),I=Z.useMemo(()=>d?{backgroundColor:vt.badgeBlock,color:vt.badgeBlockText,border:`1.5px solid ${vt.badgeBlockBorder}`}:o?{backgroundColor:vt.vermilion,color:"white"}:s?{backgroundColor:vt.badgeGroup,color:"white"}:{backgroundColor:vt.red,color:"white"},[d,o,s]);return U.jsxs("div",{draggable:!!(y||w),onDragStart:A=>f(A,b.id),onDragOver:A=>u(A,b.id,s||o),onDragLeave:g,onDrop:A=>p(A,b.id),onDragEnd:x,onClick:A=>S(A,b,E),onContextMenu:A=>M(A,b),className:"box-border flex items-center transition-all duration-150",style:q,onDoubleClick:()=>{r?R(b.id):j?j(b):_&&_(b)},title:r?"더블클릭하여 접기/펼치기":void 0,children:[y&&U.jsx("div",{className:"flex shrink-0 items-center justify-center cursor-grab active:cursor-grabbing",style:{width:k,color:"var(--gantt-text-muted)"},children:U.jsx(Is,{size:14})}),U.jsxs("div",{className:"flex shrink-0 items-center overflow-hidden px-2",style:{width:y?D[0].width-k:D[0].width,paddingLeft:c+8,borderRight:"1px solid var(--gantt-border-light)"},children:[r?U.jsx("button",{onClick:P,className:"mr-1 shrink-0 rounded p-1",style:{color:"var(--gantt-text-muted)"},"aria-label":e?"접기":"펼치기","aria-expanded":e,children:e?U.jsx(As,{size:14}):U.jsx(js,{size:14})}):U.jsx("div",{className:"w-6 shrink-0"}),d||o||s?U.jsx("span",{className:"mr-1.5 shrink-0 rounded px-1 text-[10px] font-medium",style:I,children:d?"B":o?"CP":"G"}):U.jsx("span",{className:"mr-1.5 shrink-0 rounded-full",style:{width:4,height:4,backgroundColor:vt.red}}),B===b.id?U.jsx("input",{ref:F,type:"text",value:N,onChange:A=>L(A.target.value),onKeyDown:C,onBlur:W,onClick:A=>A.stopPropagation(),className:"w-full rounded px-1 py-0.5 text-xs font-normal focus:outline-none focus:ring-1",style:{backgroundColor:"var(--gantt-bg-primary)",color:"var(--gantt-text-secondary)",border:"1px solid var(--gantt-focus)"}}):U.jsx("span",{className:"truncate text-xs",style:{fontWeight:500,color:"var(--gantt-text-primary)"},onDoubleClick:G,title:v?"더블클릭하여 이름 편집":void 0,children:b.name})]}),U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs",style:{width:D[1].width,color:"var(--gantt-text-muted)",borderRight:"1px solid var(--gantt-border-light)"},children:s||d?"-":`${V}일`}),U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs",style:{width:D[2].width,color:"var(--gantt-text-secondary)",borderRight:"1px solid var(--gantt-border-light)"},children:s||d?"-":Se(b.startDate,"yyyy-MM-dd")}),U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs",style:{width:D[3].width,color:"var(--gantt-text-muted)"},children:s||d?"-":Se(b.endDate,"yyyy-MM-dd")})]})});po.displayName="SidebarRowUnified";const{MILESTONE_LANE_HEIGHT:Yc}=he,Os=Z.memo(({columns:b,dragHandleWidth:E,totalWidth:t})=>U.jsxs("div",{className:"flex items-center",style:{height:Yc,minWidth:t,backgroundColor:"var(--gantt-bg-secondary)",borderBottom:"1px solid var(--gantt-border-light)"},children:[E>0&&U.jsx("div",{className:"shrink-0",style:{width:E}}),b.map((h,m)=>U.jsx("div",{className:"flex shrink-0 items-center justify-center text-xs",style:{width:m===0&&E>0?h.width-E:h.width,color:"var(--gantt-text-primary)",borderRight:"1px solid var(--gantt-border-light)"},children:m===0&&"Milestone"},h.id))]}));Os.displayName="MilestoneLaneSpacer";const Kc=({viewMode:b,tasks:E,allTasks:t,activeCPId:h,cpSummaryMap:m,onTotalWidthChange:l,onTaskReorder:i})=>{const[a,n]=Z.useState(Ur.map(D=>D.width)),[e,r]=Z.useState(Vr.map(D=>D.width)),[c,s]=Z.useState(xn.map(D=>D.width)),[o,d]=Z.useState(null),f=Z.useRef(!1),u=Z.useMemo(()=>{switch(b){case"MASTER":return Ur;case"DETAIL":return Vr;case"UNIFIED":return xn}},[b]),g=Z.useMemo(()=>{switch(b){case"MASTER":return a;case"DETAIL":return e;case"UNIFIED":return c}},[b,a,e,c]),p=Z.useMemo(()=>{switch(b){case"MASTER":return n;case"DETAIL":return r;case"UNIFIED":return s}},[b]),x=Z.useMemo(()=>u.map((D,k)=>({...D,width:g[k]??D.width})),[u,g]),S=i?24:0,M=x.reduce((D,k)=>D+k.width,0)+S;Z.useEffect(()=>{l&&l(M)},[M,l]);const R=Z.useCallback((D,k=12,y="normal")=>{const v=document.createElement("canvas").getContext("2d");return v?(v.font=`${y} ${k}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,v.measureText(D).width):0},[]),B=Z.useCallback(D=>{if(!h||D.parentId===h)return 0;let k=0,y=D.parentId;for(;y&&y!==h;){const w=t.find(v=>v.id===y);(w==null?void 0:w.type)==="GROUP"&&k++,y=(w==null?void 0:w.parentId)||null}return k},[h,t]),N=Z.useCallback(D=>{if(!D.parentId)return 0;let k=0,y=D.parentId;for(;y;){const w=t.find(v=>v.id===y);(w==null?void 0:w.type)==="GROUP"&&k++,y=w==null?void 0:w.parentId}return k},[t]),L=Z.useCallback(D=>{if(D.type==="GROUP"){const w=D.parentId?t.find(v=>v.id===D.parentId):null;if(!w||w.type!=="CP")return 0}if(D.type==="CP")return 1;let k=2,y=D.parentId;for(;y;){const w=t.find(v=>v.id===y);if(!w||w.type==="CP")break;if(w.type==="GROUP"){const v=w.parentId?t.find(_=>_.id===w.parentId):null;(v==null?void 0:v.type)==="CP"&&k++}y=w.parentId}return k},[t]),F=Z.useCallback(D=>{const k=u[D].minWidth,y=D===0,w=y?72:20,v=u[D].label;let _=R(v,12,"500")+16;return E.forEach(T=>{let j="",O=0;if(b==="MASTER"){y&&(O=N(T)*12);const P=T.type==="CP"?m.get(T.id):null,G=A=>Number.isInteger(A)?A.toString():A.toFixed(1),I=T.type==="GROUP";switch(D){case 0:j=T.name;break;case 1:j=I?"-":P?`${P.totalDays}일`:"-";break;case 2:j=I?"-":P?`${G(P.workDays)}일`:"-";break;case 3:j=I?"-":P?`${G(P.nonWorkDays)}일`:"-";break}}else if(b==="DETAIL")switch(y&&(O=B(T)*12),D){case 0:j=T.name;break;case 1:j=T.task?String(T.task.indirectWorkDaysPre):"-";break;case 2:j=T.task?String(T.task.netWorkDays):"-";break;case 3:j=T.task?String(T.task.indirectWorkDaysPost):"-";break;case 4:j="yyyy-MM-dd";break;case 5:j="yyyy-MM-dd";break}else{y&&(O=L(T)*16);const P=T.type==="GROUP";switch(D){case 0:j=T.name;break;case 1:j=P?"-":"999일";break;case 2:case 3:j=P?"-":"yyyy-MM-dd";break}}const q=R(j,y?14:12,y?"500":"normal")+w+O;_=Math.max(_,q)}),Math.max(k,Math.ceil(_))},[E,b,u,R,N,B,L,m]),$=Z.useCallback((D,k)=>{if(D.detail>=2)return;D.preventDefault(),D.stopPropagation(),f.current=!0,d(k);const y=D.clientX,w=g[k],v=u[k].minWidth,_=j=>{if(!f.current)return;const O=j.clientX-y,z=Math.max(v,w+O);p(V=>{const q=[...V];return q[k]=z,q})},T=()=>{f.current=!1,d(null),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",T)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",T)},[g,u,p]),W=Z.useCallback((D,k)=>{D.preventDefault(),D.stopPropagation(),f.current=!1,d(null);const y=F(k);p(w=>{const v=[...w];return v[k]=y,v})},[F,p]),C=Z.useRef({master:"",detail:"",unified:""});return Z.useEffect(()=>{if(E.length===0)return;const D=()=>{const k=u.map((y,w)=>F(w));switch(b){case"MASTER":n(k),C.current.master=`${t.length}-${E.length}-${m.size}`;break;case"DETAIL":r(k),C.current.detail=`${h}-${E.length}`;break;case"UNIFIED":s(k),C.current.unified=`${t.length}-${E.length}`;break}};if(b==="MASTER"){const k=`${t.length}-${E.length}-${m.size}`;C.current.master!==k&&D()}else if(b==="DETAIL"){const k=`${h}-${E.length}`;C.current.detail!==k&&D()}else if(b==="UNIFIED"){const k=`${t.length}-${E.length}`;C.current.unified!==k&&D()}},[E,t.length,b,h,F,m.size,u]),{columns:x,totalWidth:M,dragHandleWidth:S,resizingIndex:o,handleColumnResizeStart:$,handleColumnResizeDoubleClick:W,getGroupDepth:B,getMasterGroupDepth:N,getUnifiedDepth:L,calculateOptimalWidth:F}},Zc=({tasks:b,onTaskReorder:E,onTaskMove:t})=>{const[h,m]=Z.useState(null),[l,i]=Z.useState(null),[a,n]=Z.useState(null),e=Z.useCallback((d,f)=>{d.dataTransfer.effectAllowed="move",d.dataTransfer.setData("text/plain",f),m(f);const u=document.createElement("div");u.style.opacity="0",document.body.appendChild(u),d.dataTransfer.setDragImage(u,0,0),setTimeout(()=>document.body.removeChild(u),0)},[]),r=Z.useCallback((d,f,u)=>{if(d.preventDefault(),d.dataTransfer.dropEffect="move",f===h)return;const g=d.currentTarget.getBoundingClientRect(),p=d.clientY-g.top,x=g.height;let S;u?p<x/3?S="before":p<x*2/3?S="into":S="after":S=p<x/2?"before":"after",i(f),n(S)},[h]),c=Z.useCallback(()=>{i(null),n(null)},[]),s=Z.useCallback((d,f)=>{if(d.preventDefault(),!h||h===f||!a){m(null),i(null),n(null);return}if(t)t(h,f,a);else if(E&&a!=="into"){const u=b.findIndex(p=>p.id===f),g=a==="after"?u+1:u;E(h,g)}m(null),i(null),n(null)},[h,a,t,E,b]),o=Z.useCallback(()=>{m(null),i(null),n(null)},[]);return{draggedTaskId:h,dragOverTaskId:l,dragOverPosition:a,handleDragStart:e,handleDragOver:r,handleDragLeave:c,handleDrop:s,handleDragEnd:o}},mo=b=>{let E;const t=new Set,h=(e,r)=>{const c=typeof e=="function"?e(E):e;if(!Object.is(c,E)){const s=E;E=r??(typeof c!="object"||c===null)?c:Object.assign({},E,c),t.forEach(o=>o(E,s))}},m=()=>E,a={setState:h,getState:m,getInitialState:()=>n,subscribe:e=>(t.add(e),()=>t.delete(e))},n=E=b(h,m,a);return a},Jc=b=>b?mo(b):mo,Qc=b=>b;function tu(b,E=Qc){const t=Z.useSyncExternalStore(b.subscribe,Z.useCallback(()=>E(b.getState()),[b,E]),Z.useCallback(()=>E(b.getInitialState()),[b,E]));return Z.useDebugValue(t),t}const go=b=>{const E=Jc(b),t=h=>tu(E,h);return Object.assign(t,E),t},eu=b=>b?go(b):go,bo=b=>Symbol.iterator in b,yo=b=>"entries"in b,vo=(b,E)=>{const t=b instanceof Map?b:new Map(b.entries()),h=E instanceof Map?E:new Map(E.entries());if(t.size!==h.size)return!1;for(const[m,l]of t)if(!h.has(m)||!Object.is(l,h.get(m)))return!1;return!0},ru=(b,E)=>{const t=b[Symbol.iterator](),h=E[Symbol.iterator]();let m=t.next(),l=h.next();for(;!m.done&&!l.done;){if(!Object.is(m.value,l.value))return!1;m=t.next(),l=h.next()}return!!m.done&&!!l.done};function nu(b,E){return Object.is(b,E)?!0:typeof b!="object"||b===null||typeof E!="object"||E===null||Object.getPrototypeOf(b)!==Object.getPrototypeOf(E)?!1:bo(b)&&bo(E)?yo(b)&&yo(E)?vo(b,E):ru(b,E):vo({entries:()=>Object.entries(b)},{entries:()=>Object.entries(E)})}function gr(b){const E=Z.useRef(void 0);return t=>{const h=b(t);return nu(E.current,h)?E.current:E.current=h}}const or=eu((b,E)=>({viewMode:"MASTER",activeCPId:null,zoomLevel:"MONTH",selectedTaskIds:new Set,focusedTaskId:null,lastClickedIndex:null,hoveredTaskId:null,expandedTaskIds:new Set,sidebarWidth:he.SIDEBAR_WIDTH,isDragging:!1,dragType:null,dragTaskId:null,isCompactMode:!1,setViewMode:(t,h)=>{let m,l;switch(t){case"MASTER":m=he.SIDEBAR_MASTER_WIDTH,l="MONTH";break;case"DETAIL":m=he.SIDEBAR_DETAIL_WIDTH,l="DAY";break;case"UNIFIED":m=he.SIDEBAR_UNIFIED_WIDTH,l="WEEK";break}b({viewMode:t,activeCPId:h??null,zoomLevel:l,sidebarWidth:m})},setZoomLevel:t=>{b({zoomLevel:t})},selectTask:(t,h)=>{const{selectedTaskIds:m,lastClickedIndex:l}=E(),{ctrlKey:i,shiftKey:a,visibleTasks:n}=h??{};if(i){const e=new Set(m);e.has(t)?e.delete(t):e.add(t);const r=(n==null?void 0:n.findIndex(c=>c.id===t))??null;b({selectedTaskIds:e,focusedTaskId:t,lastClickedIndex:r})}else if(a&&l!==null&&n){const e=n.findIndex(r=>r.id===t);if(e!==-1){const r=Math.min(l,e),c=Math.max(l,e),s=new Set(m);for(let o=r;o<=c;o++)n[o]&&s.add(n[o].id);b({selectedTaskIds:s,focusedTaskId:t})}}else{const e=(n==null?void 0:n.findIndex(r=>r.id===t))??null;b({selectedTaskIds:new Set([t]),focusedTaskId:t,lastClickedIndex:e})}},selectMultipleTasks:t=>{b({selectedTaskIds:new Set(t),focusedTaskId:t.length>0?t[0]:null})},clearSelection:()=>{b({selectedTaskIds:new Set,focusedTaskId:null,lastClickedIndex:null})},setFocusedTask:t=>{b({focusedTaskId:t})},moveFocus:(t,h)=>{const{focusedTaskId:m,selectedTaskIds:l}=E();let i=-1;if(m)i=h.findIndex(e=>e.id===m);else if(l.size>0){const e=Array.from(l)[0];i=h.findIndex(r=>r.id===e)}let a;i===-1?a=0:t==="up"?a=Math.max(0,i-1):a=Math.min(h.length-1,i+1);const n=h[a];n&&b({focusedTaskId:n.id,selectedTaskIds:new Set([n.id]),lastClickedIndex:a})},hoverTask:t=>{b({hoveredTaskId:t})},toggleTask:t=>{const{expandedTaskIds:h}=E(),m=new Set(h);m.has(t)?m.delete(t):m.add(t),b({expandedTaskIds:m})},expandAll:t=>{const{expandedTaskIds:h}=E(),m=new Set([...h,...t]);b({expandedTaskIds:m})},collapseAll:()=>{b({expandedTaskIds:new Set})},setExpandedTaskIds:t=>{b({expandedTaskIds:t})},setSidebarWidth:t=>{const h=Math.max(he.SIDEBAR_MIN_WIDTH,Math.min(t,he.SIDEBAR_MAX_WIDTH));b({sidebarWidth:h})},startDrag:(t,h)=>{b({isDragging:!0,dragType:t,dragTaskId:h})},endDrag:()=>{b({isDragging:!1,dragType:null,dragTaskId:null})},toggleCompactMode:()=>{b(t=>({isCompactMode:!t.isCompactMode}))},setCompactMode:t=>{b({isCompactMode:t})}})),wo=()=>or(gr(b=>({viewMode:b.viewMode,activeCPId:b.activeCPId,zoomLevel:b.zoomLevel}))),xo=()=>or(gr(b=>({setViewMode:b.setViewMode,setZoomLevel:b.setZoomLevel}))),Xr=()=>or(gr(b=>({selectedTaskIds:b.selectedTaskIds,focusedTaskId:b.focusedTaskId,lastClickedIndex:b.lastClickedIndex,selectTask:b.selectTask,selectMultipleTasks:b.selectMultipleTasks,clearSelection:b.clearSelection,setFocusedTask:b.setFocusedTask,moveFocus:b.moveFocus}))),Rs=()=>or(gr(b=>({expandedTaskIds:b.expandedTaskIds,toggleTask:b.toggleTask,expandAll:b.expandAll,collapseAll:b.collapseAll,setExpandedTaskIds:b.setExpandedTaskIds}))),_o=()=>or(gr(b=>({sidebarWidth:b.sidebarWidth,setSidebarWidth:b.setSidebarWidth}))),su=()=>or(gr(b=>({isDragging:b.isDragging,dragType:b.dragType,dragTaskId:b.dragTaskId,startDrag:b.startDrag,endDrag:b.endDrag}))),iu=()=>or(gr(b=>({isCompactMode:b.isCompactMode,toggleCompactMode:b.toggleCompactMode,setCompactMode:b.setCompactMode}))),ou=({tasks:b,draggedTaskId:E})=>{const{selectedTaskIds:t,focusedTaskId:h,selectTask:m,selectMultipleTasks:l,clearSelection:i}=Xr(),a=Z.useCallback((e,r,c)=>{if(e.stopPropagation(),E)return;const s=e.ctrlKey||e.metaKey,o=e.shiftKey;m(r.id,{ctrlKey:s,shiftKey:o,visibleTasks:b})},[E,b,m]),n=Z.useCallback(e=>{m(e,{visibleTasks:b})},[m,b]);return{selectedTaskIds:t,focusedTaskId:h,handleRowClick:a,clearSelection:i,selectTask:n,selectMultipleTasks:l}},au=({selectedTaskIds:b,allTasks:E,viewMode:t,activeCPId:h,onTaskCreate:m})=>{const[l,i]=Z.useState([]),a=Z.useCallback((r,c)=>{const s=new Set(c.map(d=>d.name)),o=r.match(/^(.+?)\s*(\d+)$/);if(o){const d=o[1].trim();let f=parseInt(o[2],10)+1;for(;s.has(`${d} ${f}`);)f++;return`${d} ${f}`}else{let d=1;for(;s.has(`${r} ${d}`);)d++;return`${r} ${d}`}},[]),n=Z.useCallback(()=>{if(b.size===0)return;const r=Array.from(b),c=[],s=o=>{const d=E.find(f=>f.id===o);d&&!c.some(f=>f.id===d.id)&&(c.push({...d}),(d.type==="GROUP"||d.type==="CP")&&E.filter(f=>f.parentId===o).forEach(f=>s(f.id)))};r.forEach(o=>s(o)),i(c)},[b,E]),e=Z.useCallback(()=>{if(l.length===0||!m)return;const r=Date.now(),c=new Map;l.forEach((d,f)=>{const u=`${d.type.toLowerCase()}-${r+f}`;c.set(d.id,u)});const s=t==="DETAIL"?h:null,o=new Set(l.map(d=>d.id));l.forEach(d=>{let f;d.parentId&&c.has(d.parentId)?f=c.get(d.parentId):o.has(d.id)&&!l.some(p=>p.id===d.parentId)?f=s??null:f=d.parentId;const u=!d.parentId||!o.has(d.parentId),g={...d,id:c.get(d.id),parentId:f,name:u?a(d.name,E):d.name,dependencies:[]};m(g)})},[l,m,t,h,a,E]);return Z.useEffect(()=>{const r=c=>{const s=c.target,o=s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.isContentEditable;(c.metaKey||c.ctrlKey)&&c.key.toLowerCase()==="c"&&!o&&b.size>0&&(c.preventDefault(),n()),(c.metaKey||c.ctrlKey)&&c.key.toLowerCase()==="v"&&!o&&l.length>0&&(c.preventDefault(),e())};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[n,e,b,l]),{clipboardTasks:l,handleCopy:n,handlePaste:e}},lu=({tasks:b,onTaskUpdate:E})=>{const[t,h]=Z.useState(null),[m,l]=Z.useState(""),i=Z.useRef(null),a=Z.useCallback(s=>{h(s.id),l(s.name),setTimeout(()=>{var o,d;(o=i.current)==null||o.focus(),(d=i.current)==null||d.select()},0)},[]),n=Z.useCallback(s=>{const o=b.find(d=>d.id===s);o&&E&&a(o)},[b,E,a]),e=Z.useCallback(()=>{if(!t||!E){h(null);return}const s=b.find(o=>o.id===t);s&&m.trim()&&m!==s.name&&E({...s,name:m.trim()}),h(null),l("")},[t,m,b,E]),r=Z.useCallback(()=>{h(null),l("")},[]),c=Z.useCallback(s=>{s.key==="Enter"?(s.preventDefault(),e()):s.key==="Escape"&&(s.preventDefault(),r())},[e,r]);return{editingTaskId:t,editingName:m,setEditingName:l,editInputRef:i,handleStartEdit:a,handleStartRename:n,handleSaveEdit:e,handleCancelEdit:r,handleEditKeyDown:c}},cu=(b,E,t,h,m)=>{if(!t.task||t.task.netWorkDays<=0)return 0;const l=Ae(b).getTime(),i=Ae(E.netWorkStartDate).getTime(),a=Ae(E.netWorkEndDate).getTime();if(l<i||l>a||Me(b,h,m))return 0;const n=t.task.netWorkDays,e=Math.floor(n),r=n-e;let c=0,s=new Date(i);for(;s.getTime()<l;)Me(new Date(s),h,m)||c++,s=qt(s,1);return c===e&&r>0?r:(c<e||c===e-1&&r===0,1)},uu=(b,E,t)=>{if(!t.task)return 0;const h=Ae(b).getTime(),{indirectWorkDaysPre:m,indirectWorkDaysPost:l}=t.task;if(m>0&&E.indirectPreStartDate&&E.indirectPreEndDate){const i=Ae(E.indirectPreStartDate).getTime(),a=Ae(E.indirectPreEndDate).getTime();if(h>=i&&h<=a){const n=Math.floor(m),e=m-n,r=Le(new Date(h),new Date(i));return r===n&&e>0?e:(r<n||r===n-1&&e===0,1)}}if(l>0&&E.indirectPostStartDate&&E.indirectPostEndDate){const i=Ae(E.indirectPostStartDate).getTime(),a=Ae(E.indirectPostEndDate).getTime();if(h>=i&&h<=a){const n=Math.floor(l),e=l-n,r=Le(new Date(h),new Date(i));return r===n&&e>0?e:(r<n||r===n-1&&e===0,1)}}return 0},Yr=(b,E=[],t=Ji)=>{const h=b.filter(u=>u.type==="TASK"&&u.task);if(h.length===0){const u=Ae(new Date);return{startDate:u,endDate:u,totalDays:0,workDays:0,nonWorkDays:0,netWorkDaysTotal:0,indirectWorkDaysTotal:0,dailyBreakdown:[]}}const m=h.map(u=>{const g=Ss(u.task,t),p=Qi(u,E,g);return{task:u,dates:p,settings:g}}),l=m.map(u=>u.dates.startDate),i=m.map(u=>u.dates.endDate),a=Ae(new Date(Math.min(...l.map(u=>u.getTime())))),n=Ae(new Date(Math.max(...i.map(u=>u.getTime())))),e=Le(n,a)+1,r=[];let c=0,s=0,o=new Date(a);for(let u=0;u<e;u++){const g=Ae(new Date(o));let p=0,x=0,S=!1,M=!1;const R=[];for(const{task:F,dates:$,settings:W}of m){const C=cu(g,$,F,E,W);C>0&&(p=Math.max(p,C),S=!0,R.includes(F.id)||R.push(F.id));const D=uu(g,$,F);D>0&&(x=Math.max(x,D),M=!0,R.includes(F.id)||R.push(F.id))}const B=Me(g,E,t);let N=0,L=0;p>0?(N=p,L=Math.max(0,1-p)):(x>0,L=1,N=0),c+=N,s+=L,r.push({date:g,workDayValue:N,nonWorkDayValue:L,hasNetWork:S,hasIndirectWork:M,isHoliday:B,contributingTaskIds:R}),o=qt(o,1)}let d=0,f=0;return h.forEach(u=>{u.task&&(d+=u.task.netWorkDays,f+=u.task.indirectWorkDaysPre+u.task.indirectWorkDaysPost)}),{startDate:a,endDate:n,totalDays:e,workDays:Math.round(c*2)/2,nonWorkDays:Math.round(s*2)/2,netWorkDaysTotal:d,indirectWorkDaysTotal:f,dailyBreakdown:r}},du=b=>{const E=t=>Number.isInteger(t)?t.toString():t.toFixed(1);return`총 공기: ${b.totalDays}일 | 작업일: ${E(b.workDays)}일 | 비작업일: ${E(b.nonWorkDays)}일`},ko=b=>{const E=new Map;return b.forEach(t=>{const h=t.parentId;E.has(h)||E.set(h,[]),E.get(h).push(t)}),E},br=(b,E,t)=>{const{wbsLevel:h,includeTypes:m=["TASK"],includeGroups:l=!1,childrenMap:i}=t??{},a=i??ko(E),n=[];return(a.get(b)||[]).forEach(r=>{const c=h===void 0||r.wbsLevel===h;r.type==="GROUP"||r.type==="CP"?(l&&c&&n.push(r),n.push(...br(r.id,E,{...t,childrenMap:a}))):m.includes(r.type)&&c&&n.push(r)}),n},Mn=(b,E,t)=>{const h=br(b,E,{childrenMap:t});if(h.length===0)return null;const m=h.map(e=>e.startDate),l=h.map(e=>e.endDate),i=new Date(Math.min(...m.map(e=>e.getTime()))),a=new Date(Math.max(...l.map(e=>e.getTime()))),n=Le(a,i)+1;return{startDate:i,endDate:a,totalDays:n}},{ROW_HEIGHT:Ps,ROW_HEIGHT_COMPACT:fu,GROUP_ROW_HEIGHT_COMPACT:hu}={ROW_HEIGHT:30,ROW_HEIGHT_COMPACT:12,GROUP_ROW_HEIGHT_COMPACT:21},pu=({tasks:b,allTasks:E,viewMode:t,activeCPId:h,holidays:m,calendarSettings:l,effectiveRowHeight:i,virtualRows:a})=>{const n=!!(a&&a.length>0),e=i===fu,r=Z.useMemo(()=>new Map(E.map(p=>[p.id,p])),[E]),c=Z.useCallback(p=>{if(p.type==="CP")return Ps;if(p.type==="GROUP"){const x=p.parentId?r.get(p.parentId):null;return!x||x.type!=="CP"?Ps:e?hu:Ps}return i},[i,r,e]),s=Z.useMemo(()=>{const p=new Map;return E.forEach(x=>{x.parentId&&p.set(x.parentId,(p.get(x.parentId)||0)+1)}),p},[E]),o=Z.useMemo(()=>{const p=new Map;return t!=="MASTER"||E.forEach(x=>{if(x.type==="CP"){const S=br(x.id,E,{wbsLevel:2}),M=Yr(S,m,l);p.set(x.id,M)}}),p},[t,E,m,l]),d=Z.useMemo(()=>{if(n)return a;let p=0;return b.map((x,S)=>{const M=c(x),R={index:S,start:p,size:M,key:S};return p+=M,R})},[n,a,b,c]),f=Z.useMemo(()=>{if(d.length===0)return 100;const p=d[d.length-1];return p.start+p.size+100},[d]),{activeGroupName:u,activeCPName:g}=Z.useMemo(()=>{if(!h)return{activeGroupName:void 0,activeCPName:void 0};const p=E.find(M=>M.id===h);if(!p)return{activeGroupName:void 0,activeCPName:void 0};const x=p.name;if(!p.parentId)return{activeGroupName:void 0,activeCPName:x};const S=E.find(M=>M.id===p.parentId);return{activeGroupName:S==null?void 0:S.name,activeCPName:x}},[h,E]);return{taskMap:r,childrenCountMap:s,cpSummaryMap:o,getRowHeight:c,rowData:d,dynamicTotalHeight:f,activeCPName:g,activeGroupName:u,isVirtualized:n,isCompact:e}},{ROW_HEIGHT:mu}=he,gu={workOnSaturdays:!0,workOnSundays:!1,workOnHolidays:!1},Dn=Z.memo(Z.forwardRef(({tasks:b,allTasks:E,viewMode:t,expandedIds:h,onToggle:m,onTaskClick:l,onTaskUpdate:i,onTaskCreate:a,onTaskReorder:n,activeCPId:e,holidays:r=[],calendarSettings:c,virtualRows:s,totalHeight:o,onTotalWidthChange:d,onTaskGroup:f,onTaskUngroup:u,onTaskDelete:g,onTaskMove:p,isAddingTask:x=!1,onCancelAddTask:S,isAddingCP:M=!1,onCancelAddCP:R,onTaskDoubleClick:B,renderMode:N="all",rowHeight:L,externalColumns:F,externalColumnResizeStart:$,externalColumnResizeDoubleClick:W,externalDragHandleWidth:C,externalResizingIndex:D,onOptimalColumnWidth:k},y)=>{const w=L??mu,v=c??gu,{taskMap:_,childrenCountMap:T,cpSummaryMap:j,rowData:O,dynamicTotalHeight:z,activeCPName:V,activeGroupName:q,isVirtualized:P}=pu({tasks:b,allTasks:E,viewMode:t,activeCPId:e,holidays:r,calendarSettings:v,effectiveRowHeight:w,virtualRows:s}),G=Kc({viewMode:t,tasks:b,allTasks:E,activeCPId:e,cpSummaryMap:j,onTotalWidthChange:F?void 0:d,onTaskReorder:n}),I=F??G.columns,A=C??G.dragHandleWidth,H=D??G.resizingIndex,X=$??G.handleColumnResizeStart,J=Z.useCallback((_t,bt)=>{const Et=G.calculateOptimalWidth(bt);k&&k(bt,Et),W?W(_t,bt):G.handleColumnResizeDoubleClick(_t,bt)},[G,k,W]),Y=I.reduce((_t,bt)=>_t+bt.width,0)+A,{getGroupDepth:Q,getMasterGroupDepth:it,getUnifiedDepth:st}=G;Z.useEffect(()=>{F&&d&&d(Y)},[F,Y,d]);const{draggedTaskId:K,dragOverTaskId:et,dragOverPosition:rt,handleDragStart:at,handleDragOver:ot,handleDragLeave:ct,handleDrop:dt,handleDragEnd:ft}=Zc({tasks:b,onTaskReorder:n,onTaskMove:p}),{selectedTaskIds:gt,focusedTaskId:Dt,handleRowClick:Tt,clearSelection:wt,selectTask:Lt}=ou({tasks:b,draggedTaskId:K});au({selectedTaskIds:gt,allTasks:E,viewMode:t,activeCPId:e,onTaskCreate:a});const{editingTaskId:Wt,editingName:zt,setEditingName:Ht,editInputRef:It,handleStartEdit:St,handleStartRename:Pt,handleSaveEdit:Ft,handleEditKeyDown:Bt}=lu({tasks:b,onTaskUpdate:i}),[Qt,ae]=Z.useState(null),[Vt,le]=Z.useState(null),ne=Z.useCallback((_t,bt)=>{_t.preventDefault(),gt.has(bt.id)||Lt(bt.id),ae({x:_t.clientX,y:_t.clientY,taskId:bt.id})},[gt,Lt]);Z.useEffect(()=>{const _t=()=>ae(null);if(Qt)return document.addEventListener("click",_t),()=>document.removeEventListener("click",_t)},[Qt]),Z.useEffect(()=>{const _t=bt=>{bt.key==="Escape"&&(wt(),ae(null))};return document.addEventListener("keydown",_t),()=>document.removeEventListener("keydown",_t)},[wt]);const Ct=Z.useCallback((_t,bt,Et)=>{if(!_t.task||!i)return;const Gt=_t.task.indirectWorkDaysPre,te=_t.task.indirectWorkDaysPost,Mt=qt(_t.startDate,Gt),nt=qt(_t.endDate,-te);let lt=_t.startDate,pt=_t.endDate;bt==="indirectWorkDaysPre"?lt=qt(Mt,-Et):bt==="indirectWorkDaysPost"&&(pt=qt(nt,Et));const At={..._t,startDate:lt,endDate:pt,task:{..._t.task,[bt]:Et}};i(At)},[i]),mt={isVirtualized:P,draggedTaskId:K,dragOverTaskId:et,dragOverPosition:rt,selectedTaskIds:gt,focusedTaskId:Dt,expandedIds:h,editingTaskId:Wt,editingName:zt,setEditingName:Ht,editInputRef:It,columns:I,dragHandleWidth:A,onDragStart:at,onDragOver:ot,onDragLeave:ct,onDrop:dt,onDragEnd:ft,onRowClick:Tt,onContextMenu:ne,onToggle:m,onStartEdit:St,onSaveEdit:Ft,onEditKeyDown:Bt,onTaskReorder:n,onTaskMove:p,onTaskUpdate:i},ht=Qt&&U.jsx(Ic,{x:Qt.x,y:Qt.y,taskId:Qt.taskId,selectedTaskIds:gt,tasks:b,onTaskGroup:f,onTaskUngroup:u,onTaskDelete:g,onStartRename:Pt,onClose:()=>ae(null),onDeselect:wt}),Nt=()=>t==="MASTER"?U.jsxs(U.Fragment,{children:[O.map(_t=>{const bt=b[_t.index];if(!bt)return null;const Et=bt.type==="GROUP",Gt=Et&&(T.get(bt.id)||0)>0,te=bt.type==="CP"&&j.get(bt.id)||null;return U.jsx(Uc,{task:bt,rowIndex:_t.index,rowStart:_t.start,isDragging:K===bt.id,isDragOver:et===bt.id,isSelected:gt.has(bt.id),isFocused:Dt===bt.id,isExpanded:h.has(bt.id),canExpand:Gt,indent:it(bt)*12,isGroup:Et,cpSummary:te,onTaskClick:l,...mt},_t.key)}),M&&U.jsx(zc,{columns:I,tasks:b,onTaskCreate:a,onCancel:R||(()=>{}),isVirtualized:P,virtualRowIndex:b.length,dragHandleWidth:A})]}):t==="UNIFIED"?O.map(_t=>{const bt=b[_t.index];if(!bt)return null;const Et=bt.type==="CP",Gt=bt.type==="GROUP",te=bt.parentId?_.get(bt.parentId):null,Mt=Gt&&(!te||te.type!=="CP"),nt=(Et||Gt)&&(T.get(bt.id)||0)>0;return U.jsx(po,{task:bt,rowIndex:_t.index,rowStart:_t.start,isDragging:K===bt.id,isDragOver:et===bt.id,isSelected:gt.has(bt.id),isFocused:Dt===bt.id,isExpanded:h.has(bt.id),canExpand:nt,indent:st(bt)*16,isGroup:Gt&&!Mt,isCP:Et,isBlock:Mt,rowHeight:_t.size,onTaskClick:l,onTaskDoubleClick:B,...mt},_t.key)}):U.jsxs(U.Fragment,{children:[O.map(_t=>{const bt=b[_t.index];if(!bt)return null;const Et=bt.type==="GROUP",Gt=Et&&(T.get(bt.id)||0)>0;return U.jsx(qc,{task:bt,rowIndex:_t.index,rowStart:_t.start,isDragging:K===bt.id,isDragOver:et===bt.id,isSelected:gt.has(bt.id),isFocused:Dt===bt.id,isExpanded:h.has(bt.id),canExpand:Gt,indent:Q(bt)*12,isGroup:Et,rowHeight:_t.size,editingDays:Vt,setEditingDays:le,onDurationChange:Ct,onTaskDoubleClick:B,...mt},_t.key)}),x&&e&&U.jsx(Wc,{columns:I,tasks:b,activeCPId:e,onTaskCreate:a,onCancel:S||(()=>{}),isVirtualized:P,virtualRowIndex:b.length})]});return N==="header"?U.jsxs("div",{className:"flex flex-col select-none shrink-0",style:{backgroundColor:"var(--gantt-bg-primary)"},children:[U.jsx(uo,{viewMode:t,activeGroupName:q,activeCPName:V,columns:I,resizingIndex:H,selectedTaskIds:gt,tasks:b,onColumnResizeStart:X,onColumnResizeDoubleClick:J,onTaskGroup:f,onTaskUngroup:u,onClearSelection:wt,dragHandleWidth:A}),U.jsx(Os,{columns:I,dragHandleWidth:A,totalWidth:Y}),H!==null&&U.jsx("div",{className:"fixed inset-0 z-50 cursor-col-resize"})]}):N==="content"?U.jsxs("div",{ref:y,className:"relative select-none",style:{backgroundColor:"var(--gantt-bg-primary)"},onClick:wt,children:[U.jsx("div",{style:{minWidth:Y,height:P?o:z,position:"relative"},onClick:wt,children:Nt()}),ht]}):U.jsxs("div",{className:"flex h-full flex-col select-none",style:{backgroundColor:"var(--gantt-bg-primary)"},children:[U.jsx(uo,{viewMode:t,activeGroupName:q,activeCPName:V,columns:I,resizingIndex:H,selectedTaskIds:gt,tasks:b,onColumnResizeStart:X,onColumnResizeDoubleClick:J,onTaskGroup:f,onTaskUngroup:u,onClearSelection:wt,dragHandleWidth:A}),H!==null&&U.jsx("div",{className:"fixed inset-0 z-50 cursor-col-resize"}),U.jsxs("div",{ref:y,className:"relative flex-1",onClick:wt,children:[U.jsx(Os,{columns:I,dragHandleWidth:A,totalWidth:Y}),U.jsx("div",{style:{minWidth:Y,height:P?o:z,position:"relative"},onClick:wt,children:Nt()})]}),ht]})}));Dn.displayName="GanttSidebar";const{HEADER_HEIGHT:bu}=he,So=({minDate:b,totalDays:E,pixelsPerDay:t,zoomLevel:h,holidays:m,calendarSettings:l})=>{const i=Array.from({length:E},(s,o)=>qt(b,o)),a=E*t,n=Z.useMemo(()=>{const s=[];let o=ys(i[0]),d=0;return i.forEach(f=>{ys(f)!==o?(s.push({label:`${o}년`,days:d}),o=ys(f),d=1):d++}),s.push({label:`${o}년`,days:d}),s},[i]),e=Z.useMemo(()=>{const s=[];let o=i[0],d=0;return i.forEach(f=>{ac(f,o)?d++:(s.push({label:Se(o,"M월"),days:d}),o=f,d=1)}),s.push({label:Se(o,"M월"),days:d}),s},[i]),r=Z.useMemo(()=>{if(h==="MONTH")return null;if(h==="DAY")return U.jsx("div",{className:"flex h-[32px] items-center",style:{minWidth:a,backgroundColor:"var(--gantt-bg-primary)"},children:i.map((s,o)=>{const d=vn(s),f=Me(s,m,l),u=d===0,g=d===6;let p="var(--gantt-text-secondary)",x="transparent";const S=m.some(M=>Hr(M,s));return u?(p="var(--gantt-sunday-text)",x="var(--gantt-sunday-bg)"):S?(p="var(--gantt-holiday-text)",x="var(--gantt-holiday-bg)"):g?(p="var(--gantt-weekend-text)",x="var(--gantt-weekend-bg)"):f&&(p="var(--gantt-holiday-text)",x="var(--gantt-holiday-bg)"),U.jsxs("div",{className:"flex h-full shrink-0 flex-col items-center justify-center font-medium",style:{width:t,minWidth:t,backgroundColor:x,borderRight:"1px solid var(--gantt-border)"},children:[U.jsx("span",{className:"text-[10px] leading-none",style:{color:p},children:Se(s,"d")}),U.jsx("span",{className:"mt-0.5 text-[9px] font-bold leading-none",style:{color:p},children:["일","월","화","수","목","금","토"][d]})]},o)})});{const s=[];let o=i[0],d=0;return i.forEach(f=>{oc(f,o,{weekStartsOn:0})?d++:(s.push({label:`${Xi(o,{weekStartsOn:0})}주`,days:d}),o=f,d=1)}),s.push({label:`${Xi(o,{weekStartsOn:0})}주`,days:d}),U.jsx("div",{className:"flex h-[32px] items-center",style:{minWidth:a,backgroundColor:"var(--gantt-bg-primary)"},children:s.map((f,u)=>U.jsx("div",{className:"flex h-full shrink-0 items-center justify-center text-xs font-medium",style:{width:f.days*t,color:"var(--gantt-text-secondary)",borderRight:"1px solid var(--gantt-border)"},children:f.label},u))})}},[i,h,t,m,l,a]),c=h==="MONTH";return U.jsx("div",{className:"sticky top-0 z-5 flex shrink-0 flex-col",style:{height:bu,minWidth:a,backgroundColor:"var(--gantt-bg-primary)",borderBottom:"1px solid var(--gantt-border)"},children:c?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"flex h-[48px] items-center text-sm font-bold",style:{minWidth:a,backgroundColor:"var(--gantt-bg-tertiary)",borderBottom:"1px solid var(--gantt-border)",color:"var(--gantt-text-primary)"},children:n.map((s,o)=>U.jsx("div",{className:"flex h-full shrink-0 items-center justify-center",style:{width:s.days*t,borderRight:o<n.length-1?"2px solid var(--gantt-grid-dark)":"none"},children:s.label},o))}),U.jsx("div",{className:"flex h-[32px] items-center text-xs font-medium",style:{minWidth:a,backgroundColor:"var(--gantt-bg-secondary)",color:"var(--gantt-text-secondary)"},children:e.map((s,o)=>U.jsx("div",{className:"flex h-full shrink-0 items-center justify-center",style:{width:s.days*t,borderRight:"1px solid var(--gantt-border-light)"},children:s.label},o))})]}):U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"flex h-[24px] items-center text-xs font-bold",style:{minWidth:a,backgroundColor:"var(--gantt-bg-tertiary)",borderBottom:"1px solid var(--gantt-border)",color:"var(--gantt-text-primary)"},children:n.map((s,o)=>U.jsx("div",{className:"flex shrink-0 items-center pl-2",style:{width:s.days*t,borderRight:o<n.length-1?"2px solid var(--gantt-grid-dark)":"none"},children:s.label},o))}),U.jsx("div",{className:"flex h-[24px] items-center text-xs font-medium",style:{minWidth:a,backgroundColor:"var(--gantt-bg-secondary)",borderBottom:"1px solid var(--gantt-border-light)",color:"var(--gantt-text-secondary)"},children:e.map((s,o)=>U.jsx("div",{className:"flex shrink-0 items-center justify-center",style:{width:s.days*t,borderRight:"1px solid var(--gantt-border)"},children:s.label},o))}),r]})})},Ls=({minDate:b,totalDays:E,chartHeight:t,pixelsPerDay:h,holidays:m,calendarSettings:l,zoomLevel:i})=>{const a=Z.useMemo(()=>{if(i==="MONTH")return[];const n=[];for(let e=0;e<E;e++){const r=qt(b,e),c=vn(r),s=c===0,o=c===6,d=Me(r,m,l),f=m.some(u=>Hr(u,r));if(d||o||f){const u=e*h;let g=vt.holiday;s?g=vt.sunday:f?g=vt.holiday:o&&(g=vt.weekend),n.push(U.jsx("rect",{x:u,y:0,width:h,height:t,fill:g,className:"pointer-events-none"},`weekend-${e}`))}}return n},[b,E,t,h,m,l,i]);return U.jsx("g",{children:a})},{MILESTONE_LANE_HEIGHT:yu}=he,vu=(b,E,t)=>{if(b.length===0)return[];const h=25,m=14,l=12,i=b.map(r=>({milestone:r,x:Be(r.date,E,t),labelLevel:0,labelWidth:r.name.length*m+h})).sort((r,c)=>r.x-c.x),a=[],n=[],e=(r,c)=>n.some(s=>!(c<s.start-l||r>s.end+l));for(const r of i){const c=r.labelWidth,s=r.x-c,o=r.x-l;if(!e(s,o))n.push({start:s,end:o}),a.push({milestone:r.milestone,x:r.x,labelLevel:0});else{const d=r.x+l,f=r.x+c;e(d,f)?a.push({milestone:r.milestone,x:r.x,labelLevel:-1}):(n.push({start:d,end:f}),a.push({milestone:r.milestone,x:r.x,labelLevel:1}))}}return a},Eo=({milestone:b,x:E,labelLevel:t=0,isDragging:h=!1,dragX:m,onMouseDown:l,onDoubleClick:i,variant:a="header",lineHeight:n})=>{const e=b.milestoneType==="DETAIL",r=e?8:11,c=h&&m!==void 0?m:E,s=e?vt.milestoneDetail:vt.milestone,o=e?vt.milestoneDetailHover:vt.focus;let d,f,u;t===0?(d=-8,f=4,u="end"):t===1?(d=8,f=4,u="start"):(d=0,f=-12,u="middle");const g=S=>{l&&(S.preventDefault(),S.stopPropagation(),l(S,b))},p=S=>{i&&(S.preventDefault(),S.stopPropagation(),i(b))};if(a==="body"){const M=n||1e3;let R,B;return t===0?(R=-8,B="end"):t===1?(R=8,B="start"):(R=0,B="middle"),U.jsxs("g",{transform:`translate(${c}, 0)`,className:"pointer-events-none",children:[U.jsx("line",{x1:0,y1:0,x2:0,y2:M,stroke:s,strokeWidth:1.2,strokeDasharray:"4, 5",className:"opacity-90"}),U.jsx("path",{d:`M ${-r/2} ${12-r/2} L ${r/2} ${12-r/2} L 0 ${12+r/2} Z`,fill:s,className:"drop-shadow-sm"}),U.jsx("text",{x:R,y:16,textAnchor:B,className:`select-none text-[10px] ${e?"font-medium":"font-bold"}`,fill:e?vt.milestoneDetail:vt.textSecondary,children:b.name})]})}const x=yu-r/2-2;return U.jsxs("g",{transform:`translate(${c}, ${x})`,className:`group ${l?"cursor-ew-resize":"cursor-pointer"} ${h?"cursor-ew-resize":""}`,onMouseDown:g,onDoubleClick:p,children:[U.jsx("path",{d:`M ${-r/2} ${-r/2} L ${r/2} ${-r/2} L 0 ${r/2} Z`,fill:h?o:s,className:"drop-shadow-sm transition-transform duration-150 group-hover:scale-[1.3]",style:{transformOrigin:"center",transformBox:"fill-box",transform:h?"scale(1.3)":void 0}}),U.jsx("circle",{cx:0,cy:0,r,fill:"transparent",className:"cursor-ew-resize"}),U.jsx("text",{x:d,y:f,textAnchor:u,className:`select-none text-[11px] transition-colors ${e?"font-medium":"font-bold"}`,fill:h?e?vt.milestoneDetailHover:vt.focus:e?vt.milestoneDetail:vt.textSecondary,children:b.name})]})},Bs=()=>U.jsxs("defs",{children:[U.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:U.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:vt.dependency})}),U.jsxs("pattern",{id:"holidayHatchPattern",patternUnits:"userSpaceOnUse",width:"6",height:"6",patternTransform:"rotate(45)",children:[U.jsx("rect",{width:"6",height:"6",fill:vt.bgPrimary,fillOpacity:.7}),U.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"6",stroke:vt.blue,strokeWidth:"2"})]}),U.jsx("marker",{id:"dependency-arrow",markerWidth:"5",markerHeight:"5",refX:"4",refY:"2.5",orient:"auto",children:U.jsx("path",{d:"M0.5,0.5 L4,2.5 L0.5,4.5",fill:"none",stroke:vt.textPrimary,strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"})}),U.jsx("marker",{id:"dependency-arrow-selected",markerWidth:"5",markerHeight:"5",refX:"4",refY:"2.5",orient:"auto",children:U.jsx("path",{d:"M0.5,0.5 L4,2.5 L0.5,4.5",fill:"none",stroke:vt.focus,strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}),U.jsx("marker",{id:"dependency-arrow-connecting",markerWidth:"5",markerHeight:"5",refX:"4",refY:"2.5",orient:"auto",children:U.jsx("path",{d:"M0.5,0.5 L4,2.5 L0.5,4.5",fill:"none",stroke:vt.success,strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}),U.jsx("marker",{id:"dependency-arrow-hover",markerWidth:"5",markerHeight:"5",refX:"4",refY:"2.5",orient:"auto",children:U.jsx("path",{d:"M0.5,0.5 L4,2.5 L0.5,4.5",fill:"none",stroke:vt.textPrimary,strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}),U.jsx("marker",{id:"dependency-arrow-compact",markerWidth:De.WIDTH,markerHeight:De.HEIGHT,refX:De.REF_X,refY:De.REF_Y,orient:"auto",children:U.jsx("path",{d:"M0.25,0.25 L2.5,1.5 L0.25,2.75",fill:"none",stroke:vt.textPrimary,strokeWidth:De.STROKE_WIDTH,strokeLinecap:"round",strokeLinejoin:"round"})}),U.jsx("marker",{id:"dependency-arrow-selected-compact",markerWidth:De.WIDTH,markerHeight:De.HEIGHT,refX:De.REF_X,refY:De.REF_Y,orient:"auto",children:U.jsx("path",{d:"M0.25,0.25 L2.5,1.5 L0.25,2.75",fill:"none",stroke:vt.focus,strokeWidth:De.STROKE_WIDTH*1.2,strokeLinecap:"round",strokeLinejoin:"round"})}),U.jsx("marker",{id:"dependency-arrow-connecting-compact",markerWidth:De.WIDTH,markerHeight:De.HEIGHT,refX:De.REF_X,refY:De.REF_Y,orient:"auto",children:U.jsx("path",{d:"M0.25,0.25 L2.5,1.5 L0.25,2.75",fill:"none",stroke:vt.success,strokeWidth:De.STROKE_WIDTH*1.2,strokeLinecap:"round",strokeLinejoin:"round"})}),U.jsx("marker",{id:"dependency-arrow-hover-compact",markerWidth:De.WIDTH,markerHeight:De.HEIGHT,refX:De.REF_X,refY:De.REF_Y,orient:"auto",children:U.jsx("path",{d:"M0.25,0.25 L2.5,1.5 L0.25,2.75",fill:"none",stroke:vt.textPrimary,strokeWidth:De.STROKE_WIDTH*1.2,strokeLinecap:"round",strokeLinejoin:"round"})})]}),Co=6,Fs=.3,wu=({day:b,x:E,width:t,barHeight:h,barY:m})=>{const l=Math.max(t-Fs,1),i=l*b.workDayValue,a=l*b.nonWorkDayValue;return U.jsxs("g",{children:[i>0&&U.jsx("rect",{x:E+Fs/2,y:m,width:i,height:h,fill:vt.vermilion,className:"drop-shadow-sm opacity-90 transition-opacity hover:opacity-100"}),a>0&&U.jsx("rect",{x:E+Fs/2+i,y:m,width:a,height:h,fill:vt.teal,className:"drop-shadow-sm opacity-90 transition-opacity hover:opacity-100"})]})},To=Z.memo(({task:b,y:E,minDate:t,pixelsPerDay:h,renderMode:m="full",allTasks:l=[],holidays:i=[],calendarSettings:a,dragInfo:n,groupDragDeltaDays:e=0,groupDragInfo:r,isFocused:c=!1})=>{const s=m==="full"||m==="bar",o=m==="full"||m==="label";if(b.type==="GROUP")return null;const{effectiveStartDate:d}=Z.useMemo(()=>n?{effectiveStartDate:n.startDate}:r?{effectiveStartDate:r.startDate}:e!==0?{effectiveStartDate:qt(b.startDate,e)}:{effectiveStartDate:b.startDate},[b.startDate,n,r,e]),f=Be(d,t,h),u=br(b.id,l,{wbsLevel:2}),g=Yr(u,i,a||{workOnSaturdays:!0,workOnSundays:!1,workOnHolidays:!1}),p=g.workDays,x=g.nonWorkDays;if(g.totalDays===0)return null;const M=p*h,R=x*h,B=M+R,N=0;return U.jsxs("g",{transform:`translate(${f}, ${E})`,className:"group cursor-pointer",children:[c&&s&&U.jsx("rect",{x:-3,y:N-3,width:B+6,height:Co+6,fill:"none",stroke:vt.focus,strokeWidth:2,rx:4,ry:4,className:"animate-pulse",style:{filter:`drop-shadow(0 0 6px ${vt.focus})`}}),o&&U.jsx("text",{x:B/2,y:N-3,textAnchor:"middle",className:"pointer-events-none select-none font-normal",fill:vt.textSecondary,style:{fontSize:"11px"},children:b.name}),s&&g.dailyBreakdown.map((L,F)=>{const $=Be(L.date,t,h)-f;return U.jsx(wu,{day:L,x:$,width:h,barHeight:Co,barY:N},F)})]})});To.displayName="MasterTaskBar";const Mo=b=>b<0?"left":"right",An=(b,E)=>Math.round(b/E),xu=b=>b==="move"||b==="move-net"?"grabbing":b==="resize-pre-net"||b==="resize-net-post"?"col-resize":"ew-resize",_u=(b,E,t="grabbing")=>(window.addEventListener("mousemove",b),window.addEventListener("mouseup",E),document.body.style.cursor=t,document.body.style.userSelect="none",()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",E),document.body.style.cursor="",document.body.style.userSelect=""}),Do=(b,E,t)=>{const h=b.filter(a=>a.type==="TASK");if(h.length===0)return{referenceTask:null,workingDaysOffsets:new Map};const l=[...h].sort((a,n)=>a.startDate.getTime()-n.startDate.getTime())[0],i=new Map;for(const a of h){const n=_s(l.startDate,a.startDate,E,t);i.set(a.id,n)}return{referenceTask:l,workingDaysOffsets:i}},Ao=(b,E,t,h,m)=>{const l=Math.round(b/E);if(l===0)return 0;const i=qt(t,l);return l>0?_s(t,i,h,m):-_s(i,t,h,m)},ku=(b,E,t,h,m,l)=>{let i=b;E>0&&(i=qt(i,E));const a=mr(i,t,m,l);return h>0?qt(qt(a,1),h-1):a},jo=(b,E,t,h,m,l)=>{const i=new Map;if(h===0){for(const n of t)n.type==="TASK"&&i.set(n.id,{newStartDate:n.startDate,newEndDate:n.endDate});return i}const a=Zi(b.startDate,h,m,l);for(const n of t){if(n.type!=="TASK"||!n.task)continue;const e=E.get(n.id)??0,r=e===0?a:Zi(a,e,m,l),c=ku(r,n.task.indirectWorkDaysPre,n.task.netWorkDays,n.task.indirectWorkDaysPost,m,l);i.set(n.id,{newStartDate:r,newEndDate:c})}return i},Su={move:{calculate(b,E){const{deltaDays:t,direction:h,holidays:m,calendarSettings:l}=E,i=qt(b.originalStartDate,t),a=Me(i,m,l)?ws(i,h,m,l):i;let n=a;b.originalIndirectWorkDaysPre>0&&(n=qt(n,b.originalIndirectWorkDaysPre));const e=mr(n,b.originalNetWorkDays,m,l);n=qt(e,1);let r;return b.originalIndirectWorkDaysPost>0?r=qt(n,b.originalIndirectWorkDaysPost-1):r=e,{currentStartDate:a,currentEndDate:r,currentIndirectWorkDaysPre:b.originalIndirectWorkDaysPre,currentNetWorkDays:b.originalNetWorkDays,currentIndirectWorkDaysPost:b.originalIndirectWorkDaysPost}}},"move-net":{calculate(b,E){const{deltaDays:t}=E,h=b.originalIndirectWorkDaysPost,m=b.originalIndirectWorkDaysPre,l=Math.max(-m,Math.min(h,t)),i=b.originalIndirectWorkDaysPre+l,a=b.originalIndirectWorkDaysPost-l;return{currentStartDate:b.originalStartDate,currentEndDate:b.originalEndDate,currentIndirectWorkDaysPre:i,currentNetWorkDays:b.originalNetWorkDays,currentIndirectWorkDaysPost:a}}},"resize-pre":{calculate(b,E){const{deltaDays:t,holidays:h,calendarSettings:m}=E;let l=b.originalStartDate,i=b.originalIndirectWorkDaysPre,a=b.originalNetWorkDays;if(b.originalIndirectWorkDaysPre>0){i=Math.max(0,b.originalIndirectWorkDaysPre-t);const n=qt(b.originalStartDate,b.originalIndirectWorkDaysPre);l=qt(n,-i)}else{a=Math.max(1,b.originalNetWorkDays-t);const n=b.originalIndirectWorkDaysPost;let r=n>0?qt(b.originalEndDate,-n):b.originalEndDate,c=1;for(;c<a;)r=qt(r,-1),Me(r,h,m)||c++;for(;Me(r,h,m);)r=qt(r,-1);l=r}return{currentStartDate:l,currentEndDate:b.originalEndDate,currentIndirectWorkDaysPre:i,currentNetWorkDays:a,currentIndirectWorkDaysPost:b.originalIndirectWorkDaysPost}}},"resize-post":{calculate(b,E){const{deltaDays:t,holidays:h,calendarSettings:m}=E;let l=b.originalEndDate,i=b.originalIndirectWorkDaysPost,a=b.originalNetWorkDays;if(b.originalIndirectWorkDaysPost>0){i=Math.max(0,b.originalIndirectWorkDaysPost+t);const n=qt(b.originalEndDate,-b.originalIndirectWorkDaysPost);l=qt(n,i)}else{a=Math.max(1,b.originalNetWorkDays+t);const n=qt(b.originalStartDate,b.originalIndirectWorkDaysPre);l=mr(n,a,h,m)}return{currentStartDate:b.originalStartDate,currentEndDate:l,currentIndirectWorkDaysPre:b.originalIndirectWorkDaysPre,currentNetWorkDays:a,currentIndirectWorkDaysPost:i}}},"resize-pre-net":{calculate(b,E){const{deltaDays:t}=E,h=b.originalNetWorkDays-1,m=b.originalIndirectWorkDaysPre,l=Math.max(-m,Math.min(h,t));return{currentStartDate:b.originalStartDate,currentEndDate:b.originalEndDate,currentIndirectWorkDaysPre:b.originalIndirectWorkDaysPre+l,currentNetWorkDays:b.originalNetWorkDays-l,currentIndirectWorkDaysPost:b.originalIndirectWorkDaysPost}}},"resize-net-post":{calculate(b,E){const{deltaDays:t}=E,h=b.originalIndirectWorkDaysPost,m=b.originalNetWorkDays-1,l=Math.max(-m,Math.min(h,t));return{currentStartDate:b.originalStartDate,currentEndDate:b.originalEndDate,currentIndirectWorkDaysPre:b.originalIndirectWorkDaysPre,currentNetWorkDays:b.originalNetWorkDays+l,currentIndirectWorkDaysPost:b.originalIndirectWorkDaysPost-l}}}},Eu=b=>{const E=Su[b];if(!E)throw new Error(`Unknown drag type: ${b}`);return E},Cu=(b,E,t)=>Eu(b).calculate(E,t);function jn({onMove:b,onEnd:E,cursor:t="grabbing"}){const[h,m]=Z.useState(null),l=Z.useRef(null),i=Z.useRef(b),a=Z.useRef(E);Z.useEffect(()=>{i.current=b,a.current=E},[b,E]),Z.useEffect(()=>{l.current=h},[h]);const n=Z.useCallback(s=>{m(s),l.current=s},[]),e=Z.useCallback(()=>{m(null),l.current=null},[]),r=Z.useCallback(s=>{const o=l.current;o&&i.current(s,o,m)},[]),c=Z.useCallback(()=>{const s=l.current;s&&a.current(s),m(null),l.current=null},[]);return Z.useEffect(()=>{if(h)return _u(r,c,t)},[h,r,c,t]),{state:h,stateRef:l,setState:m,start:n,stop:e,isDragging:!!h}}function Ws(b,E){b(t=>t?{...t,...E}:null)}const Tu=({pixelsPerDay:b,holidays:E,calendarSettings:t,onBarDrag:h})=>{const m=Z.useRef(null),{state:l,start:i,isDragging:a}=jn({onMove:(r,c,s)=>{if(!h)return;const o=r.clientX-c.startX,d=An(o,b),f=Mo(o),u=Cu(c.dragType,{originalStartDate:c.originalStartDate,originalEndDate:c.originalEndDate,originalIndirectWorkDaysPre:c.originalIndirectWorkDaysPre,originalNetWorkDays:c.originalNetWorkDays,originalIndirectWorkDaysPost:c.originalIndirectWorkDaysPost},{deltaDays:d,direction:f,holidays:E,calendarSettings:t});s(g=>g?{...g,currentStartDate:u.currentStartDate,currentEndDate:u.currentEndDate,currentIndirectWorkDaysPre:u.currentIndirectWorkDaysPre,currentNetWorkDays:u.currentNetWorkDays,currentIndirectWorkDaysPost:u.currentIndirectWorkDaysPost,lastDeltaX:o}:null)},onEnd:r=>{if(!h)return;const c=Mo(r.lastDeltaX);let s=r.currentStartDate,o=r.currentEndDate;if(r.dragType==="move"&&Me(s,E,t)){const u=ws(s,c,E,t);s=u;let g=u;r.currentIndirectWorkDaysPre>0&&(g=qt(g,r.currentIndirectWorkDaysPre));const p=mr(g,r.currentNetWorkDays,E,t);r.currentIndirectWorkDaysPost>0?o=qt(p,r.currentIndirectWorkDaysPost):o=p}const d=s.getTime()!==r.originalStartDate.getTime()||o.getTime()!==r.originalEndDate.getTime(),f=r.currentIndirectWorkDaysPre!==r.originalIndirectWorkDaysPre||r.currentNetWorkDays!==r.originalNetWorkDays||r.currentIndirectWorkDaysPost!==r.originalIndirectWorkDaysPost;(d||f)&&h({taskId:r.taskId,dragType:r.dragType,newStartDate:s,newEndDate:o,newIndirectWorkDaysPre:r.currentIndirectWorkDaysPre,newIndirectWorkDaysPost:r.currentIndirectWorkDaysPost,newNetWorkDays:r.currentNetWorkDays})},cursor:"grabbing"});Z.useEffect(()=>{if(l){const r=xu(l.dragType);document.body.style.cursor=r}else document.body.style.cursor="";return()=>{document.body.style.cursor="",m.current&&(m.current(),m.current=null)}},[l]);const n=Z.useCallback((r,c,s,o)=>{h&&(r.preventDefault(),r.stopPropagation(),i({taskId:c,dragType:s,startX:r.clientX,originalStartDate:o.startDate,originalEndDate:o.endDate,originalIndirectWorkDaysPre:o.indirectWorkDaysPre,originalNetWorkDays:o.netWorkDays,originalIndirectWorkDaysPost:o.indirectWorkDaysPost,currentStartDate:o.startDate,currentEndDate:o.endDate,currentIndirectWorkDaysPre:o.indirectWorkDaysPre,currentNetWorkDays:o.netWorkDays,currentIndirectWorkDaysPost:o.indirectWorkDaysPost,lastDeltaX:0}))},[h,i]),e=Z.useCallback(r=>l&&l.taskId===r?{startDate:l.currentStartDate,endDate:l.currentEndDate,indirectWorkDaysPre:l.currentIndirectWorkDaysPre,indirectWorkDaysPost:l.currentIndirectWorkDaysPost,netWorkDays:l.currentNetWorkDays}:null,[l]);return{isDragging:a,handleBarMouseDown:n,getDragInfo:e}},Mu=({minDate:b,pixelsPerDay:E,milestones:t,onMilestoneUpdate:h})=>{const{state:m,start:l}=jn({onMove:(e,r,c)=>{const s=e.clientX-r.startX,o=Be(r.originalDate,b,E),d=Math.max(0,o+s);Ws(c,{currentX:d})},onEnd:e=>{if(!h)return;const r=Be(e.originalDate,b,E),c=e.currentX-r,s=An(c,E);if(s!==0){const o=qt(e.originalDate,s),d=t.find(f=>f.id===e.milestoneId);d&&h({...d,date:o})}},cursor:"grabbing"}),i=Z.useCallback((e,r)=>{if(!h)return;e.preventDefault(),e.stopPropagation();const c=Be(r.date,b,E);l({milestoneId:r.id,startX:e.clientX,originalDate:r.date,currentX:c})},[h,b,E,l]),a=Z.useCallback(e=>{if((m==null?void 0:m.milestoneId)===e)return m.currentX},[m]),n=Z.useCallback(e=>(m==null?void 0:m.milestoneId)===e,[m]);return{handleMilestoneMouseDown:i,getMilestoneDragX:a,isMilestoneDragging:n}},Du=({pixelsPerDay:b,allTasks:E,holidays:t,calendarSettings:h,onGroupDrag:m})=>{const{state:l,start:i,isDragging:a}=jn({onMove:(s,o,d)=>{if(!m||!o.referenceTask)return;const f=s.clientX-o.startX,u=An(f,b),g=Ao(f,b,o.referenceTask.startDate,t,h),p=jo(o.referenceTask,o.workingDaysOffsets,o.affectedTasks,g,t,h),x=new Map(o.taskDragInfoMap);for(const[S,M]of p){const R=o.taskDragInfoMap.get(S);R&&x.set(S,{...R,currentStartDate:M.newStartDate,currentEndDate:M.newEndDate})}Ws(d,{currentDeltaDays:u,currentDeltaWorkingDays:g,taskDragInfoMap:x})},onEnd:s=>{if(!m||s.currentDeltaWorkingDays===0)return;const o=Array.from(s.taskDragInfoMap.entries()).map(([d,f])=>({taskId:d,newStartDate:f.currentStartDate,newEndDate:f.currentEndDate}));m({groupId:s.groupId,deltaDays:s.currentDeltaDays,affectedTaskIds:s.affectedTasks.map(d=>d.id),taskUpdates:o})},cursor:"grabbing"}),n=Z.useCallback((s,o,d)=>{if(!m)return;s.preventDefault(),s.stopPropagation();const f=br(o,E),{referenceTask:u,workingDaysOffsets:g}=Do(f,t,h),p=new Map;for(const x of f)x.type==="TASK"&&x.task&&p.set(x.id,{originalStartDate:x.startDate,originalEndDate:x.endDate,indirectWorkDaysPre:x.task.indirectWorkDaysPre,netWorkDays:x.task.netWorkDays,indirectWorkDaysPost:x.task.indirectWorkDaysPost,currentStartDate:x.startDate,currentEndDate:x.endDate});i({groupId:o,startX:s.clientX,originalStartDate:d.startDate,originalEndDate:d.endDate,affectedTasks:f,currentDeltaDays:0,taskDragInfoMap:p,referenceTask:u,workingDaysOffsets:g,currentDeltaWorkingDays:0})},[m,E,t,h,i]),e=Z.useCallback(s=>l&&l.groupId===s?l.currentDeltaDays:0,[l]),r=Z.useCallback(s=>{if(!l)return null;const o=l.taskDragInfoMap.get(s);return o?{startDate:o.currentStartDate,endDate:o.currentEndDate}:null},[l]),c=Z.useCallback(s=>!l||!l.affectedTasks.find(d=>d.id===s)?0:l.currentDeltaDays,[l]);return{isDragging:a,handleGroupBarMouseDown:n,getGroupDragDeltaDays:e,getTaskGroupDragDeltaDays:c,getTaskDragInfo:r}},Io=(b,E)=>{const t=new Map,h=new Map,m=new Map;return b.forEach(l=>{t.set(l.id,l),h.set(l.id,[]),m.set(l.id,[])}),E.forEach(l=>{const i=h.get(l.sourceTaskId),a=m.get(l.targetTaskId);i&&i.push(l),a&&a.push(l)}),{nodes:t,outgoingEdges:h,incomingEdges:m}},Au=(b,E)=>{const t=new Set,h=[b];for(;h.length>0;){const m=h.shift();if(t.has(m))continue;t.add(m),(E.outgoingEdges.get(m)||[]).forEach(a=>{t.has(a.targetTaskId)||h.push(a.targetTaskId)}),(E.incomingEdges.get(m)||[]).forEach(a=>{t.has(a.sourceTaskId)||h.push(a.sourceTaskId)})}return Array.from(t)},ju=(b,E)=>E.some(t=>t.sourceTaskId===b||t.targetTaskId===b),Iu=b=>{const E=new Set,t=new Set,h=new Map,m=l=>{E.add(l),t.add(l);const i=b.outgoingEdges.get(l)||[];for(const a of i){const n=a.targetTaskId;if(E.has(n)){if(t.has(n))return h.set(n,l),n}else{h.set(n,l);const e=m(n);if(e!==null)return e}}return t.delete(l),null};for(const l of b.nodes.keys())if(!E.has(l)){h.set(l,null);const i=m(l);if(i!==null){const a=[i];let n=h.get(i)??null;for(;n!==null&&n!==i;)a.unshift(n),n=h.get(n)??null;return n===i&&a.unshift(i),{hasCycle:!0,cyclePath:a}}}return{hasCycle:!1,cyclePath:[]}},Nu=(b,E,t,h)=>{const m={id:"__temp_cycle_check__",sourceTaskId:b,targetTaskId:E,sourceDayIndex:0,targetDayIndex:0},l=Io(t,[...h,m]);return Iu(l).hasCycle},No=(b,E)=>{if(!b)return!1;if(!b.task)return E<0?(console.warn(`[isValidDayIndex] Negative dayIndex ${E} is invalid for task ${b.id} without indirect work data.`),!1):!0;const{indirectWorkDaysPre:t,netWorkDays:h,indirectWorkDaysPost:m}=b.task;if(E<0){const i=-t;return E<i?(console.warn(`[isValidDayIndex] dayIndex ${E} is out of range. Valid range for task ${b.id}: ${i} to -1`),!1):!0}const l=h+m;return E>l?(console.warn(`[isValidDayIndex] dayIndex ${E} is out of range. Valid range for task ${b.id}: 0 to ${l}`),!1):!0},Ou=({dependencies:b,tasks:E,onDependencyCreate:t,onDependencyDelete:h,onCycleDetected:m})=>{const[l,i]=Z.useState(null),[a,n]=Z.useState(null),[e,r]=Z.useState(null),[c,s]=Z.useState(null),o=Z.useCallback((S,M)=>{if(!l)i({taskId:S,dayIndex:M}),r(null);else{if(l.taskId!==S&&!b.some(B=>B.sourceTaskId===l.taskId&&B.targetTaskId===S&&B.sourceDayIndex===l.dayIndex&&B.targetDayIndex===M||B.sourceTaskId===S&&B.targetTaskId===l.taskId&&B.sourceDayIndex===M&&B.targetDayIndex===l.dayIndex)&&t){const B=E.find(W=>W.id===l.taskId),N=E.find(W=>W.id===S),L=No(B,l.dayIndex),F=No(N,M);if(!L||!F){console.warn(`[handleAnchorClick] Blocking dependency creation due to invalid dayIndex. Source: ${l.taskId}[${l.dayIndex}], Target: ${S}[${M}]`),i(null);return}if(Nu(l.taskId,S,E,b))m==null||m({sourceTaskId:l.taskId,targetTaskId:S});else{const W={id:`dep-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,sourceTaskId:l.taskId,targetTaskId:S,sourceDayIndex:l.dayIndex,targetDayIndex:M};t(W)}}i(null)}},[l,b,E,t,m]),d=Z.useCallback((S,M)=>{n(M===null?null:{taskId:S,dayIndex:M})},[]),f=Z.useCallback(S=>{r(M=>M===S?null:S),i(null)},[]),u=Z.useCallback(S=>{s(S)},[]),g=Z.useCallback(()=>{i(null)},[]),p=Z.useCallback(()=>{r(null),i(null)},[]),x=Z.useCallback(()=>{e&&h&&(h(e),r(null))},[e,h]);return{connectingFrom:l,hoveredAnchor:a,selectedDepId:e,hoveredDepId:c,isConnecting:l!==null,handleAnchorClick:o,handleAnchorHover:d,handleDependencyClick:f,handleDependencyHover:u,cancelConnection:g,deleteSelectedDependency:x,clearSelection:p}},Oo=8,Ro=30,Ru=(b,E,t,h)=>{if(E<0||E>h)return{zone:null,showLeftHandle:!1,showRightHandle:!1};const m=b<Ro,l=b>t-Ro;return b<Oo?{zone:"resize-left",showLeftHandle:!0,showRightHandle:l}:b>t-Oo?{zone:"resize-right",showLeftHandle:m,showRightHandle:!0}:{zone:"move",showLeftHandle:m,showRightHandle:l}},Pu=b=>{if(!b)return"default";switch(b.zone){case"resize-left":case"resize-right":return"ew-resize";case"move":return"grab";default:return"default"}},Lu=({barWidth:b,barHeight:E,isDragging:t,onMouseLeave:h})=>{const[m,l]=Z.useState(null),i=Z.useCallback(e=>{if(t)return;const c=e.currentTarget.getBoundingClientRect(),s=e.clientX-c.left,o=e.clientY-c.top,d=Ru(s,o,b,E);l(d)},[b,E,t]),a=Z.useCallback(()=>{l(null),h==null||h()},[h]),n=Pu(m);return{hoverInfo:m,cursor:n,handleMouseMove:i,handleMouseLeave:a}},Bu=({startDate:b,endDate:E,dragInfo:t,groupDragDeltaDays:h=0,groupDragInfo:m,dependencyDragDeltaDays:l=0,dependencyDragInfo:i})=>{const{effectiveStartDate:a,effectiveEndDate:n}=Z.useMemo(()=>t?{effectiveStartDate:t.startDate,effectiveEndDate:t.endDate}:i?{effectiveStartDate:i.startDate,effectiveEndDate:i.endDate}:l!==0?{effectiveStartDate:qt(b,l),effectiveEndDate:qt(E,l)}:m?{effectiveStartDate:m.startDate,effectiveEndDate:m.endDate}:h!==0?{effectiveStartDate:qt(b,h),effectiveEndDate:qt(E,h)}:{effectiveStartDate:b,effectiveEndDate:E},[b,E,t,i,l,m,h]);return{effectiveStartDate:a,effectiveEndDate:n,isDependencyDragging:l!==0||!!i}},{BAR_HEIGHT:Fu}=he,Po=Z.memo(({task:b,y:E,minDate:t,pixelsPerDay:h,barHeight:m,renderMode:l="full",holidays:i=[],calendarSettings:a,isDraggable:n=!1,dragInfo:e,onDragStart:r,onDoubleClick:c,groupDragDeltaDays:s=0,groupDragInfo:o,dependencyDragDeltaDays:d=0,dependencyDragInfo:f,onDependencyDragStart:u,hasDependency:g=!1,onMouseEnter:p,onMouseLeave:x,isFocused:S=!1})=>{const M=m??Fu,R=l==="full"||l==="bar",B=l==="full"||l==="label";if(b.type==="GROUP"||!b.task)return null;const N=0,L=!!e,{effectiveStartDate:F,effectiveEndDate:$,isDependencyDragging:W}=Bu({startDate:b.startDate,endDate:b.endDate,dragInfo:e,groupDragDeltaDays:s,groupDragInfo:o,dependencyDragDeltaDays:d,dependencyDragInfo:f}),C=Be(F,t,h),D=Z.useMemo(()=>a?Me(F,i,a):!1,[F,i,a]),{netWorkDays:k,indirectWorkDaysPre:y,indirectWorkDaysPost:w,indirectWorkNamePre:v,indirectWorkNamePost:_}=b.task,T=(e==null?void 0:e.indirectWorkDaysPre)??y,j=(e==null?void 0:e.indirectWorkDaysPost)??w,O=(e==null?void 0:e.netWorkDays)??k,z=a?Ss(b.task,a):{workOnSaturdays:!0,workOnSundays:!1,workOnHolidays:!1},V=qt(F,T),q=j>0?qt($,-j):$,P=a&&i?Ki(V,q,i,z):[],G=P.length,I=O>0?O+G:0,A=T*h,H=I*h,X=j*h,J=A+H+X,Y=0,Q=A,it=A+H,st=Gr.HANDLE_WIDTH,K=Gr.BOUNDARY_HANDLE_WIDTH,et={startDate:F,endDate:$,indirectWorkDaysPre:T,netWorkDays:O,indirectWorkDaysPost:j},{hoverInfo:rt,cursor:at,handleMouseMove:ot,handleMouseLeave:ct}=Lu({barWidth:J,barHeight:M,isDragging:L,onMouseLeave:x});return U.jsxs("g",{transform:`translate(${C}, ${E})`,className:`group ${L||W?"opacity-90":""}`,style:{cursor:at},onDoubleClick:c,onMouseEnter:p,onMouseMove:ot,onMouseLeave:ct,children:[W&&R&&U.jsx("rect",{x:-4,y:-4,width:J+8,height:M+8,fill:"none",stroke:vt.success,strokeWidth:2,strokeDasharray:"6,3",rx:4,ry:4,className:"pointer-events-none",style:{animation:"pulse 1.5s ease-in-out infinite",opacity:.8}}),D&&R&&U.jsxs("g",{className:"pointer-events-none",children:[U.jsx("rect",{x:-2,y:-2,width:J+4,height:M+4,fill:"none",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"4,2",rx:2,ry:2,opacity:.9}),U.jsx("rect",{x:0,y:0,width:J,height:M,fill:"url(#holidayHatchPattern)",opacity:.5})]}),S&&R&&U.jsx("rect",{x:-3,y:-3,width:J+6,height:M+6,fill:"none",stroke:vt.focus,strokeWidth:2,rx:N+2,ry:N+2,className:"animate-pulse",style:{filter:`drop-shadow(0 0 6px ${vt.focus})`}}),T>0&&U.jsxs(U.Fragment,{children:[R&&U.jsx("rect",{x:Y,y:0,width:A,height:M,fill:vt.blue,rx:N,ry:N,className:`drop-shadow-sm transition-opacity ${L?"opacity-100":"opacity-90 hover:opacity-100"}`,style:{pointerEvents:"none"}}),B&&v&&U.jsx("text",{x:Y+A/2,y:M+11,textAnchor:"middle",className:"pointer-events-none select-none text-[9px] font-medium",fill:vt.blue,children:v})]}),R&&O>0&&U.jsxs(U.Fragment,{children:[U.jsx("rect",{x:Q,y:0,width:H,height:M,fill:vt.red,rx:N,ry:N,className:`drop-shadow-sm transition-opacity ${L?"opacity-100":"opacity-90 hover:opacity-100"}`,style:{pointerEvents:"none"}}),P.map((dt,ft)=>U.jsx("rect",{x:Q+dt.offset*h,y:0,width:h,height:M,fill:"url(#holidayHatchPattern)",className:"pointer-events-none"},`holiday-${ft}`))]}),j>0&&U.jsxs(U.Fragment,{children:[R&&U.jsx("rect",{x:it,y:0,width:X,height:M,fill:vt.blue,rx:N,ry:N,className:`drop-shadow-sm transition-opacity ${L?"opacity-100":"opacity-90 hover:opacity-100"}`,style:{pointerEvents:"none"}}),B&&_&&U.jsx("text",{x:it+X/2,y:-3,textAnchor:"middle",className:"pointer-events-none select-none text-[9px] font-medium",fill:vt.blue,children:_})]}),R&&n&&O>0&&U.jsx("rect",{x:Q+K,y:0,width:Math.max(0,H-K*2),height:M,fill:"transparent",className:"cursor-grab active:cursor-grabbing",onMouseDown:dt=>{g&&u&&u(dt,b.id,{startDate:F,endDate:$})||r==null||r(dt,b.id,"move",et)},children:U.jsxs("title",{children:[g?"연결된 태스크와 함께 이동":"전체 이동"," (드래그)"]})}),R&&n&&U.jsx("rect",{x:-st/2,y:0,width:st,height:M,fill:"transparent",className:"cursor-ew-resize",onMouseDown:dt=>r==null?void 0:r(dt,b.id,"resize-pre",et),children:U.jsxs("title",{children:[T>0?"앞 간접작업일 조절":"순작업일 조절"," (드래그)"]})}),R&&n&&T>0&&O>0&&U.jsx("rect",{x:A-K/2,y:0,width:K,height:M,fill:"transparent",className:"cursor-col-resize",onMouseDown:dt=>r==null?void 0:r(dt,b.id,"resize-pre-net",et),children:U.jsx("title",{children:"앞간접-순작업 경계 조절 (드래그)"})}),R&&n&&j>0&&O>0&&U.jsx("rect",{x:it-K/2,y:0,width:K,height:M,fill:"transparent",className:"cursor-col-resize",onMouseDown:dt=>r==null?void 0:r(dt,b.id,"resize-net-post",et),children:U.jsx("title",{children:"순작업-뒤간접 경계 조절 (드래그)"})}),R&&n&&U.jsx("rect",{x:J-st/2,y:0,width:st,height:M,fill:"transparent",className:"cursor-ew-resize",onMouseDown:dt=>r==null?void 0:r(dt,b.id,"resize-post",et),children:U.jsxs("title",{children:[j>0?"뒤 간접작업일 조절":"순작업일 조절"," (드래그)"]})}),R&&n&&U.jsxs(U.Fragment,{children:[U.jsx("rect",{x:1,y:M/2-6,width:3,height:12,rx:1.5,fill:vt.textInverse,className:"pointer-events-none",style:{opacity:rt!=null&&rt.showLeftHandle?.8:0,transition:"opacity 0.15s ease"}}),U.jsx("rect",{x:J-4,y:M/2-6,width:3,height:12,rx:1.5,fill:vt.textInverse,className:"pointer-events-none",style:{opacity:rt!=null&&rt.showRightHandle?.8:0,transition:"opacity 0.15s ease"}})]}),B&&U.jsx("text",{x:-8,y:M/2+4,textAnchor:"end",className:"pointer-events-none select-none text-[11px] font-medium",fill:vt.textSecondary,children:b.name}),B&&L&&U.jsxs("g",{children:[U.jsxs("text",{x:J/2,y:-6,textAnchor:"middle",className:"pointer-events-none select-none text-[10px] font-bold",fill:vt.focus,children:[Se(F,"MM/dd")," ~ ",Se($,"MM/dd")]}),U.jsxs("text",{x:J/2,y:M+12,textAnchor:"middle",className:"pointer-events-none select-none text-[9px]",fill:vt.textMuted,children:["앞",T,"일 + 순",O,"일 + 뒤",j,"일"]})]})]})});Po.displayName="DetailTaskBar";const Kr=Z.memo(b=>{const{task:E,isMasterView:t,...h}=b;return E.type==="GROUP"?null:t?U.jsx(To,{task:E,y:h.y,minDate:h.minDate,pixelsPerDay:h.pixelsPerDay,renderMode:h.renderMode,allTasks:h.allTasks,holidays:h.holidays,calendarSettings:h.calendarSettings,groupDragDeltaDays:h.groupDragDeltaDays,groupDragInfo:h.groupDragInfo,isFocused:h.isFocused}):U.jsx(Po,{task:E,y:h.y,minDate:h.minDate,pixelsPerDay:h.pixelsPerDay,barHeight:h.barHeight,renderMode:h.renderMode,holidays:h.holidays,calendarSettings:h.calendarSettings,isDraggable:h.isDraggable,dragInfo:h.dragInfo,onDragStart:h.onDragStart,onDoubleClick:h.onDoubleClick,groupDragDeltaDays:h.groupDragDeltaDays,groupDragInfo:h.groupDragInfo,dependencyDragDeltaDays:h.dependencyDragDeltaDays,dependencyDragInfo:h.dependencyDragInfo,onDependencyDragStart:h.onDependencyDragStart,hasDependency:h.hasDependency,onMouseEnter:h.onMouseEnter,onMouseLeave:h.onMouseLeave,isFocused:h.isFocused})});Kr.displayName="TaskBar";const Wu={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},zu=(b,E,t)=>{let h;const m=Wu[b];return typeof m=="string"?h=m:E===1?h=m.one:h=m.other.replace("{{count}}",E.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?h+" 후":h+" 전":h},Hu={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},$u={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Uu={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Vu={date:Er({formats:Hu,defaultWidth:"full"}),time:Er({formats:$u,defaultWidth:"full"}),dateTime:Er({formats:Uu,defaultWidth:"full"})},Gu={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},qu=(b,E,t,h)=>Gu[b],Xu={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},Yu={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},Ku={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},Zu={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},Ju={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Qu={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},td={ordinalNumber:(b,E)=>{const t=Number(b);switch(String(E==null?void 0:E.unit)){case"minute":case"second":return String(t);case"date":return t+"일";default:return t+"번째"}},era:Ve({values:Xu,defaultWidth:"wide"}),quarter:Ve({values:Yu,defaultWidth:"wide",argumentCallback:b=>b-1}),month:Ve({values:Ku,defaultWidth:"wide"}),day:Ve({values:Zu,defaultWidth:"wide"}),dayPeriod:Ve({values:Ju,defaultWidth:"wide",formattingValues:Qu,defaultFormattingWidth:"wide"})},ed=/^(\d+)(일|번째)?/i,rd=/\d+/i,nd={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},sd={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},id={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},od={any:[/1/i,/2/i,/3/i,/4/i]},ad={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},ld={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},cd={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},ud={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},dd={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},fd={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},hd={ordinalNumber:zi({matchPattern:ed,parsePattern:rd,valueCallback:b=>parseInt(b,10)}),era:Ge({matchPatterns:nd,defaultMatchWidth:"wide",parsePatterns:sd,defaultParseWidth:"any"}),quarter:Ge({matchPatterns:id,defaultMatchWidth:"wide",parsePatterns:od,defaultParseWidth:"any",valueCallback:b=>b+1}),month:Ge({matchPatterns:ad,defaultMatchWidth:"wide",parsePatterns:ld,defaultParseWidth:"any"}),day:Ge({matchPatterns:cd,defaultMatchWidth:"wide",parsePatterns:ud,defaultParseWidth:"any"}),dayPeriod:Ge({matchPatterns:dd,defaultMatchWidth:"any",parsePatterns:fd,defaultParseWidth:"any"})},pd={code:"ko",formatDistance:zu,formatLong:Vu,formatRelative:qu,localize:td,match:hd,options:{weekStartsOn:0,firstWeekContainsDate:1}},Lo=({x:b,y:E,clickedDate:t,viewMode:h,onAddTask:m,onAddMilestone:l,onClose:i,selectedDependencyId:a,onDeleteDependency:n})=>{const e=h==="DETAIL",r=!!a&&!!n,c=200,s=e?140:100,o=r?s+44:s,d=Math.min(b,window.innerWidth-c-10),f=Math.min(E,window.innerHeight-o-10);return Z.useEffect(()=>{const u=g=>{g.key==="Escape"&&i()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[i]),Z.useEffect(()=>{const u=()=>{i()},g=setTimeout(()=>{document.addEventListener("click",u)},0);return()=>{clearTimeout(g),document.removeEventListener("click",u)}},[i]),He.createPortal(U.jsxs("div",{className:"fixed z-100 min-w-[180px] rounded-lg border border-gray-200 bg-white py-1 shadow-lg",style:{left:d,top:f},onClick:u=>u.stopPropagation(),children:[U.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:Se(t,"yyyy-MM-dd (EEE)",{locale:pd})}),r&&U.jsxs(U.Fragment,{children:[U.jsxs("button",{onClick:()=>{n(a),i()},className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50",children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"종속성 삭제"]}),U.jsx("div",{className:"my-1 border-t border-gray-200"})]}),e&&m&&U.jsxs("button",{onClick:()=>{m(t),i()},className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:[U.jsx("svg",{className:"h-4 w-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Task 추가"]}),U.jsxs("button",{onClick:()=>{l(t),i()},className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:[U.jsx("svg",{className:"h-4 w-4 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),"마일스톤 추가"]}),U.jsx("div",{className:"my-1 border-t border-gray-200"}),U.jsxs("button",{onClick:i,className:"flex w-full items-center gap-2 px-4 py-2 text-left text-sm text-gray-500 hover:bg-gray-100",children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"취소"]})]}),document.body)},Bo=(b,E=[],t)=>{if(!b.task||!t||!E.length)return new Set;const{indirectWorkDaysPre:h,indirectWorkDaysPost:m}=b.task,l=Ss(b.task,t),i=qt(b.startDate,h),a=m>0?qt(b.endDate,-m):b.endDate,n=Ki(i,a,E,l);return new Set(n.map(e=>h+e.offset))},Fo=(b,E,t=[],h)=>{const m=Math.floor(E),l=E-m;if(!b.task||!h)return E;const{indirectWorkDaysPre:i}=b.task,a=Bo(b,t,h);if(m<0){const r=i+m;return r<0&&console.warn(`[workingDayToCalendarOffset] Invalid dayIndex ${E} for task ${b.id} with indirectWorkDaysPre=${i}. Clamping to 0.`),Math.max(0,r)+l}if(a.size===0)return i+E;let n=i,e=0;for(;e<m;)a.has(n)||e++,n++;for(;a.has(n);)n++;return n+l},Wo=({task:b,rowIndex:E,minDate:t,pixelsPerDay:h,connectingFrom:m,dependencies:l,onAnchorClick:i,onAnchorHover:a,holidays:n,calendarSettings:e,dependencyDragDeltaDays:r=0,offsetY:c=he.MILESTONE_LANE_HEIGHT,rowStart:s,rowHeight:o,effectiveBarHeight:d,isCompact:f=!1,isHoverActive:u=!1})=>{const g=f?to:Je,p=Z.useMemo(()=>{const B=Le(b.startDate,t),{ROW_HEIGHT:N,BAR_HEIGHT:L}=he,F=s??E*N,$=o??N,W=d??L,C=c+F+($-W)/2+W,D=[];if(b.task){const{netWorkDays:k,indirectWorkDaysPre:y,indirectWorkDaysPost:w}=b.task,v=Bo(b,n,e),_=v.size,T=y+k+_+w,j=Math.floor(T);for(let q=1;q<y;q++){const P=q-1,G=q-y;D.push({taskId:b.id,dayIndex:G,x:(B+P)*h,y:C})}let O=0;for(let q=y;q<=y+k+_;q++)if(!v.has(q)){if(O>k)break;D.push({taskId:b.id,dayIndex:O,x:(B+q)*h,y:C}),O++}const z=y+k+_;for(let q=1;q<=w;q++){const P=z+q,G=k+q;D.push({taskId:b.id,dayIndex:G,x:(B+P)*h,y:C})}if(T-j>=.5){const q=k+w+1;D.push({taskId:b.id,dayIndex:q,x:(B+T)*h,y:C})}}else{const k=Le(b.endDate,b.startDate)+1;for(let w=0;w<=Math.floor(k);w++)D.push({taskId:b.id,dayIndex:w,x:(B+w)*h,y:C});k-Math.floor(k)>=.5&&D.push({taskId:b.id,dayIndex:k,x:(B+k)*h,y:C})}if(r!==0){const k=r*h;D.forEach(y=>{y.x+=k})}return D},[b,E,t,h,n,e,r,c,s,o,d]),x=B=>l.some(N=>N.sourceTaskId===b.id&&N.sourceDayIndex===B||N.targetTaskId===b.id&&N.targetDayIndex===B),S=Z.useMemo(()=>{const B=[];l.forEach(F=>{if(F.sourceTaskId===b.id&&F.targetTaskId===b.id){const $=Math.min(F.sourceDayIndex,F.targetDayIndex),W=Math.max(F.sourceDayIndex,F.targetDayIndex);B.push({from:$,to:W})}});const N=l.filter(F=>F.targetTaskId===b.id).map(F=>F.targetDayIndex),L=l.filter(F=>F.sourceTaskId===b.id).map(F=>F.sourceDayIndex);return N.forEach(F=>{L.forEach($=>{if(F!==$){const W=Math.min(F,$),C=Math.max(F,$);B.push({from:W,to:C})}})}),B},[l,b.id]),M=B=>S.some(N=>B>N.from&&B<N.to),R=B=>(m==null?void 0:m.taskId)===b.id&&(m==null?void 0:m.dayIndex)===B;return U.jsx("g",{className:"anchor-points",children:p.map(B=>{const N=R(B.dayIndex),L=x(B.dayIndex),F=M(B.dayIndex),$=L||F,W=L||N,C=()=>W?1:u&&!F?.4:0;return U.jsxs("g",{children:[U.jsx("rect",{x:B.x-Je.HIT_AREA,y:B.y,width:Je.HIT_AREA*2,height:Je.HIT_AREA,fill:"transparent",style:{cursor:$?"default":"pointer"},onClick:$?void 0:()=>i==null?void 0:i(b.id,B.dayIndex),onMouseEnter:$?void 0:()=>a==null?void 0:a(b.id,B.dayIndex),onMouseLeave:$?void 0:()=>a==null?void 0:a(b.id,null),pointerEvents:$?"none":"auto"}),U.jsx("circle",{cx:B.x,cy:B.y,r:N?g.RADIUS_ACTIVE:L?g.RADIUS_CONNECTED:g.RADIUS,fill:N?vt.success:L?vt.textPrimary:F?vt.dependency:vt.anchorFill,stroke:N?vt.success:$?"none":vt.anchorStroke,strokeWidth:$?0:g.STROKE_WIDTH,opacity:C(),style:{cursor:$?"default":"pointer",transition:"all 0.15s ease",pointerEvents:$?"none":"auto"},onClick:$?void 0:()=>i==null?void 0:i(b.id,B.dayIndex),onMouseEnter:$?void 0:()=>a==null?void 0:a(b.id,B.dayIndex),onMouseLeave:$?void 0:()=>a==null?void 0:a(b.id,null)})]},`anchor-${b.id}-${B.dayIndex}`)})})},In=(b,E,t,h,m,l=[],i,a=he.MILESTONE_LANE_HEIGHT,n,e,r)=>{const c=Le(b.startDate,h),s=Fo(b,E,l,i),o=(c+s)*m,{ROW_HEIGHT:d,BAR_HEIGHT:f}=he,u=n??t*d,g=e??d,p=r??f,x=a+u+(g-p)/2+p;return{taskId:b.id,dayIndex:E,x:o,y:x}},{ROW_HEIGHT:zs,BAR_HEIGHT:Nn}=he,On=(b,E,t,h,m,l=[],i,a=0,n=he.MILESTONE_LANE_HEIGHT,e,r=Nn)=>{const c=Le(b.startDate,h)+a,s=Fo(b,E,l,i),o=(c+s)*m,d=b.type==="GROUP",f=e==null?void 0:e.find(S=>S.index===t),u=(f==null?void 0:f.start)??t*zs,g=d?zs:(f==null?void 0:f.size)??zs,p=d?Nn:r,x=n+u+(g-p)/2+p;return{x:o,y:x}},md=(b,E,t,h)=>{const m=E+Je.RADIUS,l=h-Je.RADIUS,i=h-E;if(Math.abs(i)<5){const a=t-Je.RADIUS;return`M ${b} ${m} L ${a} ${E}`}else if(i>0){const a=m+(l-m)/2;return`M ${b} ${m} V ${a} H ${t} V ${l}`}else{const a=Gr.DROP_DOWN_OFFSET,n=Math.min(b,t)-Gr.PATH_OFFSET_X;return`M ${b} ${m} V ${m+a} H ${n} V ${l-a} H ${t} V ${l}`}},zo=({tasks:b,dependencies:E,minDate:t,pixelsPerDay:h,selectedDepId:m,hoveredDepId:l,onDependencyClick:i,onDependencyHover:a,holidays:n,calendarSettings:e,getTaskDeltaDays:r,offsetY:c,rowData:s,effectiveBarHeight:o=Nn,isCompact:d=!1})=>{const f=d?Cs:_n,u=Z.useMemo(()=>{const S=new Map;return b.forEach((M,R)=>{S.set(M.id,R)}),S},[b]),g=Z.useMemo(()=>{const S=new Map;return b.forEach(M=>{S.set(M.id,M)}),S},[b]),p=Z.useMemo(()=>E.map(S=>{const M=g.get(S.sourceTaskId),R=g.get(S.targetTaskId),B=u.get(S.sourceTaskId),N=u.get(S.targetTaskId);if(!M||!R||B===void 0||N===void 0)return null;const L=(r==null?void 0:r(S.sourceTaskId))??0,F=(r==null?void 0:r(S.targetTaskId))??0,$=On(M,S.sourceDayIndex,B,t,h,n,e,L,c,s,o),W=On(R,S.targetDayIndex,N,t,h,n,e,F,c,s,o),C=md($.x,$.y,W.x,W.y);return{id:S.id,path:C,sourceX:$.x,sourceY:$.y,targetX:W.x,targetY:W.y}}).filter(S=>S!==null),[E,g,u,t,h,n,e,r,c,s,o]),x=S=>{const M=E.find(N=>N.id===S);if(!M||!r)return!1;const R=r(M.sourceTaskId),B=r(M.targetTaskId);return R!==0||B!==0};return U.jsx("g",{className:"dependency-lines",children:p.map(S=>{const M=m===S.id,R=l===S.id,B=x(S.id),N=d?"-compact":"";let L=vt.textPrimary,F=`url(#dependency-arrow${N})`,$=f.DEFAULT,W;return B?(L=vt.success,F=`url(#dependency-arrow-connecting${N})`,$=f.SELECTED):M?(L=vt.focus,F=`url(#dependency-arrow-selected${N})`,$=f.SELECTED):R&&(L=vt.textPrimary,F=`url(#dependency-arrow-hover${N})`,$=f.HOVER),U.jsxs("g",{children:[U.jsx("path",{d:S.path,fill:"none",stroke:"transparent",strokeWidth:12,style:{cursor:"pointer"},onClick:()=>i==null?void 0:i(S.id),onMouseEnter:()=>a==null?void 0:a(S.id),onMouseLeave:()=>a==null?void 0:a(null)}),U.jsx("path",{d:S.path,fill:"none",stroke:L,strokeWidth:$,strokeDasharray:W,markerEnd:F,style:{cursor:"pointer",transition:B?"none":"stroke 0.15s, stroke-width 0.15s"},onClick:()=>i==null?void 0:i(S.id),onMouseEnter:()=>a==null?void 0:a(S.id),onMouseLeave:()=>a==null?void 0:a(null)})]},`dep-${S.id}`)})})},Ho=({sourceX:b,sourceY:E,targetX:t,targetY:h,isCompact:m=!1})=>{const l=m?Cs:_n,i=m?to:Je,a=m?"-compact":"";return U.jsx("line",{x1:b,y1:E+i.RADIUS,x2:t,y2:h+i.RADIUS,stroke:vt.success,strokeWidth:l.HOVER,strokeDasharray:m?"3,2":"5,3",markerEnd:`url(#dependency-arrow-connecting${a})`,style:{pointerEvents:"none"}})},$o=({tasks:b,dependencies:E,minDate:t,pixelsPerDay:h,holidays:m,calendarSettings:l,getTaskDeltaDays:i,offsetY:a,rowData:n,effectiveBarHeight:e=Nn,isCompact:r=!1})=>{const c=r?Cs:_n,s=Z.useMemo(()=>{const d=new Map;return b.forEach((f,u)=>{d.set(f.id,u)}),d},[b]),o=Z.useMemo(()=>{const d=[];return b.forEach(f=>{const u=s.get(f.id);if(u===void 0)return;const g=(i==null?void 0:i(f.id))??0,p=E.filter(S=>S.targetTaskId===f.id).map(S=>S.targetDayIndex),x=E.filter(S=>S.sourceTaskId===f.id).map(S=>S.sourceDayIndex);p.forEach(S=>{x.forEach(M=>{if(S<M){const R=On(f,S,u,t,h,m,l,g,a,n,e),B=On(f,M,u,t,h,m,l,g,a,n,e);d.push({taskId:f.id,fromX:R.x,toX:B.x,y:R.y})}})})}),d},[b,E,s,t,h,m,l,i,a,n,e]);return o.length===0?null:U.jsx("g",{className:"in-bar-connection-lines",children:o.map((d,f)=>U.jsx("line",{x1:d.fromX,y1:d.y,x2:d.toX,y2:d.y,stroke:vt.textPrimary,strokeWidth:c.DEFAULT,style:{pointerEvents:"none"}},`in-bar-${d.taskId}-${f}`))})},gd=({pixelsPerDay:b,holidays:E,calendarSettings:t,allTasks:h,dependencies:m,onDependencyDrag:l})=>{const i=Z.useMemo(()=>Io(h,m),[h,m]),a=Z.useCallback(u=>ju(u,m),[m]),{state:n,start:e,isDragging:r}=jn({onMove:(u,g,p)=>{if(!g.referenceTask)return;const x=u.clientX-g.startX,S=An(x,b),M=Ao(x,b,g.referenceTask.startDate,E,t),R=jo(g.referenceTask,g.workingDaysOffsets,g.connectedTasks,M,E,t),B=new Map(g.taskDragInfoMap);for(const[N,L]of R){const F=g.taskDragInfoMap.get(N);F&&B.set(N,{...F,currentStartDate:L.newStartDate,currentEndDate:L.newEndDate})}Ws(p,{currentDeltaDays:S,currentDeltaWorkingDays:M,lastDeltaX:x,taskDragInfoMap:B})},onEnd:u=>{if(!l||u.currentDeltaWorkingDays===0)return;const g=Array.from(u.taskDragInfoMap.entries()).map(([p,x])=>({taskId:p,newStartDate:x.currentStartDate,newEndDate:x.currentEndDate}));l({sourceTaskId:u.sourceTaskId,deltaDays:u.currentDeltaDays,affectedTaskIds:u.connectedTaskIds,taskUpdates:g})},cursor:"grabbing"}),c=Z.useCallback((u,g,p)=>{if(!a(g))return!1;u.preventDefault(),u.stopPropagation();const x=Au(g,i),S=h.filter(N=>x.includes(N.id)),{referenceTask:M,workingDaysOffsets:R}=Do(S,E,t),B=new Map;for(const N of S)N.type==="TASK"&&N.task&&B.set(N.id,{originalStartDate:N.startDate,originalEndDate:N.endDate,indirectWorkDaysPre:N.task.indirectWorkDaysPre,netWorkDays:N.task.netWorkDays,indirectWorkDaysPost:N.task.indirectWorkDaysPost,currentStartDate:N.startDate,currentEndDate:N.endDate});return e({sourceTaskId:g,startX:u.clientX,originalStartDate:p.startDate,connectedTaskIds:x,connectedTasks:S,currentDeltaDays:0,lastDeltaX:0,taskDeltaMap:new Map,taskDragInfoMap:B,referenceTask:M,workingDaysOffsets:R,currentDeltaWorkingDays:0}),!0},[l,a,i,h,E,t,e]),s=Z.useCallback(u=>n?n.connectedTaskIds.includes(u):!1,[n]),o=Z.useCallback(u=>!n||!n.connectedTaskIds.includes(u)?0:n.currentDeltaDays,[n]),d=Z.useCallback(()=>n?n.connectedTaskIds:[],[n]),f=Z.useCallback(u=>{if(!n)return null;const g=n.taskDragInfoMap.get(u);return g?{startDate:g.currentStartDate,endDate:g.currentEndDate}:null},[n]);return{isDragging:r,taskHasDependency:a,handleDependencyBarMouseDown:c,isDraggingTask:s,getTaskDeltaDays:o,getTaskDragInfo:f,getConnectedTaskIds:d}},{ROW_HEIGHT:Rn,GROUP_ROW_HEIGHT_COMPACT:bd,MILESTONE_LANE_HEIGHT:yd,BAR_HEIGHT:Uo,BOTTOM_PADDING:Vo}=he,vd=b=>{const{tasks:E,allTasks:t,milestones:h,viewMode:m,zoomLevel:l,holidays:i,calendarSettings:a,virtualRows:n,totalHeight:e,rowHeight:r,barHeight:c,onBarDrag:s,onGroupDrag:o,onMilestoneUpdate:d,onMilestoneDoubleClick:f,onContextMenuAddTask:u,onContextMenuAddMilestone:g,anchorDependencies:p=[],onAnchorDependencyCreate:x,onAnchorDependencyDelete:S,onAnchorDependencyDrag:M,onCycleDetected:R}=b,B=Tr[l].pixelsPerDay,N=m==="MASTER",L=m==="UNIFIED",F=!!(n&&n.length>0),$=r??Rn,W=c??Uo,C=W<Uo,D=Z.useMemo(()=>new Map((t||E).map(Ct=>[Ct.id,Ct])),[t,E]),k=Z.useCallback(Ct=>{if(Ct.type==="CP")return Rn;if(Ct.type==="GROUP"){const mt=Ct.parentId?D.get(Ct.parentId):null;return!mt||mt.type!=="CP"?Rn:C?bd:Rn}return $},[$,D,C]),y=Z.useCallback(Ct=>{if(Ct.type!=="GROUP")return!1;if(!Ct.parentId)return!0;const mt=D.get(Ct.parentId);return!mt||mt.type!=="CP"},[D]),{selectTask:w,clearSelection:v}=Xr(),[_,T]=Z.useState(null),{minDate:j,totalDays:O}=Z.useMemo(()=>kn(t||E,h,60),[t,E,h]),z=Z.useMemo(()=>N?h.filter(Ct=>!Ct.milestoneType||Ct.milestoneType==="MASTER"):h,[h,N]),V=Z.useMemo(()=>vu(z,j,B),[z,j,B]),q=O*B,{rowData:P,fullRowData:G,dynamicTotalHeight:I}=Z.useMemo(()=>{let Ct=0;const mt=E.map((_t,bt)=>{const Et=k(_t),Gt={index:bt,start:Ct,size:Et,key:bt};return Ct+=Et,Gt}),ht=mt.length===0?Vo:mt[mt.length-1].start+mt[mt.length-1].size+Vo;return{rowData:F?n:mt,fullRowData:mt,dynamicTotalHeight:ht}},[E,k,F,n]),A=F&&e||I,H=Math.max(A+yd+100,500),{handleBarMouseDown:X,getDragInfo:J}=Tu({pixelsPerDay:B,holidays:i,calendarSettings:a,onBarDrag:s}),{handleMilestoneMouseDown:Y,getMilestoneDragX:Q,isMilestoneDragging:it}=Mu({minDate:j,pixelsPerDay:B,milestones:h,onMilestoneUpdate:d}),{handleGroupBarMouseDown:st,getGroupDragDeltaDays:K,getTaskGroupDragDeltaDays:et,getTaskDragInfo:rt}=Du({pixelsPerDay:B,allTasks:t||E,holidays:i,calendarSettings:a,onGroupDrag:o}),{connectingFrom:at,hoveredAnchor:ot,selectedDepId:ct,hoveredDepId:dt,handleAnchorClick:ft,handleAnchorHover:gt,handleDependencyClick:Dt,handleDependencyHover:Tt,clearSelection:wt}=Ou({dependencies:p,tasks:t||E,onDependencyCreate:x,onDependencyDelete:S,onCycleDetected:R}),{isDragging:Lt,taskHasDependency:Wt,handleDependencyBarMouseDown:zt,getTaskDeltaDays:Ht,getTaskDragInfo:It,getConnectedTaskIds:St}=gd({pixelsPerDay:B,holidays:i,calendarSettings:a,allTasks:t||E,dependencies:p,onDependencyDrag:M}),Pt=Z.useCallback(Ct=>{const mt=Ht(Ct);return mt!==0?mt:et(Ct)},[Ht,et]),[Ft,Bt]=Z.useState(null),Qt=Z.useCallback(Ct=>{f&&f(Ct)},[f]),ae=Z.useCallback(Ct=>{if(!u&&!g)return;Ct.preventDefault();const ht=Ct.currentTarget.getBoundingClientRect(),Nt=Ct.clientX-ht.left,_t=eo(Nt,j,B);T({x:Ct.clientX,y:Ct.clientY,clickedDate:_t})},[j,B,u,g]),Vt=Z.useCallback(()=>{T(null)},[]),le=Z.useCallback(Ct=>{S==null||S(Ct)},[S]),ne=Z.useCallback(Ct=>{Ct.target===Ct.currentTarget&&(wt(),v())},[wt,v]);return{values:{pixelsPerDay:B,isMasterView:N,isUnifiedView:L,isVirtualized:F,isCompact:C,effectiveRowHeight:$,effectiveBarHeight:W,minDate:j,totalDays:O,chartWidth:q,chartHeight:H,taskAreaHeight:A,dynamicTotalHeight:I,taskMap:D,rowData:P,fullRowData:G,filteredMilestones:z,milestoneLayouts:V,getRowHeight:k,isBlockTask:y},dragHandlers:{handleBarMouseDown:X,getDragInfo:J,handleMilestoneMouseDown:Y,getMilestoneDragX:Q,isMilestoneDragging:it,handleGroupBarMouseDown:st,getGroupDragDeltaDays:K,getTaskGroupDragDeltaDays:et,getTaskDragInfo:rt,handleDependencyBarMouseDown:zt,isDependencyDragging:Lt,taskHasDependency:Wt,getDependencyDragDeltaDays:Ht,getDependencyDragInfo:It,getConnectedTaskIds:St,getCombinedTaskDeltaDays:Pt,connectingFrom:at,hoveredAnchor:ot,selectedDepId:ct,hoveredDepId:dt,handleAnchorClick:ft,handleAnchorHover:gt,handleDependencyClick:Dt,handleDependencyHover:Tt,clearSelection:wt},eventHandlers:{selectTask:w,clearTaskSelection:v,handleMilestoneDoubleClick:Qt,handleContextMenu:ae,handleContextMenuClose:Vt,handleSvgClick:ne,handleDepDelete:le,setHoveredTaskId:Bt},contextMenuState:{contextMenu:_}}},Pn=Z.memo(({minDate:b,totalDays:E,chartHeight:t,pixelsPerDay:h,zoomLevel:m})=>U.jsx(U.Fragment,{children:Array.from({length:E},(l,i)=>{const a=qt(b,i),n=vn(a),e=(i+1)*h-.5,r=i*h-.5;return m==="DAY"?n===0?U.jsxs("g",{children:[U.jsx("line",{x1:r,y1:0,x2:r,y2:t,stroke:vt.gridDark,strokeWidth:1}),U.jsx("line",{x1:e,y1:0,x2:e,y2:t,stroke:vt.grid,strokeWidth:1})]},`vline-${i}`):U.jsx("line",{x1:e,y1:0,x2:e,y2:t,stroke:vt.grid,strokeWidth:1},`vline-${i}`):(m==="WEEK"||m==="MONTH")&&n===0?U.jsx("line",{x1:r,y1:0,x2:r,y2:t,stroke:vt.grid,strokeWidth:1},`vline-${i}`):null})}));Pn.displayName="VerticalGridLines";const Hs=Z.memo(({rowData:b,chartWidth:E,offsetY:t=0})=>U.jsx(U.Fragment,{children:b.map(h=>U.jsx("line",{x1:0,y1:h.start+h.size+t,x2:E,y2:h.start+h.size+t,stroke:vt.borderLight,strokeWidth:1},`line-${h.key}`))}));Hs.displayName="HorizontalGridLines";const $s=Z.memo(({tasks:b,rowData:E,chartWidth:t,offsetY:h=0})=>U.jsx(U.Fragment,{children:E.map(m=>{const l=b[m.index];return!l||l.type!=="GROUP"?null:U.jsx("rect",{x:0,y:m.start+h,width:t,height:m.size,fill:vt.bgSecondary,fillOpacity:.6,className:"pointer-events-none"},`group-bg-${m.key}`)})}));$s.displayName="GroupRowBackground";const Us=9,Mr=20,Vs=1,wd=({day:b,x:E,width:t,barY:h,onHover:m})=>{const l=Math.max(t-Vs,1),i=l*b.workDayValue,a=l*b.nonWorkDayValue;return U.jsxs("g",{className:"cursor-pointer",onMouseEnter:()=>m(b,E),onMouseLeave:()=>m(null,E),children:[i>0&&U.jsx("rect",{x:E+Vs/2,y:h,width:i,height:Us,fill:vt.vermilion,className:"transition-opacity hover:opacity-80"}),a>0&&U.jsx("rect",{x:E+Vs/2+i,y:h,width:a,height:Us,fill:vt.teal,className:"transition-opacity hover:opacity-80"})]})},xd=({day:b,x:E,containerWidth:t})=>{const m=Math.min(Math.max(E,10),t-200-10),l=i=>i===0?"0":i===1?"1":i.toFixed(1);return U.jsxs("div",{className:"pointer-events-none absolute z-50 rounded px-3 py-2 text-xs shadow-lg",style:{left:m,top:Mr+4,minWidth:200,backgroundColor:"var(--gantt-tooltip-bg)",color:"var(--gantt-tooltip-text)"},children:[U.jsx("div",{className:"font-semibold",children:Se(b.date,"yyyy-MM-dd (EEE)")}),U.jsxs("div",{className:"mt-1 space-y-0.5",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:vt.vermilion}}),U.jsxs("span",{children:["작업일: ",l(b.workDayValue),"일"]})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:vt.teal}}),U.jsxs("span",{children:["비작업일: ",l(b.nonWorkDayValue),"일"]})]}),b.hasNetWork&&U.jsx("div",{className:"text-green-300",children:"순작업 진행"}),b.hasIndirectWork&&!b.hasNetWork&&U.jsx("div",{className:"text-blue-300",children:"간접작업 (비작업일)"}),b.isHoliday&&U.jsx("div",{className:"text-red-300",children:"휴일"})]})]})},Gs=({tasks:b,holidays:E,calendarSettings:t,minDate:h,pixelsPerDay:m,totalWidth:l,activeCPId:i})=>{const[a,n]=Z.useState(null),[e,r]=Z.useState(0),c=(u,g)=>{let p=u.parentId;for(;p;){if(p===g)return!0;const x=b.find(S=>S.id===p);if(!x)break;p=x.parentId}return!1},s=Z.useMemo(()=>{const u=i?b.filter(g=>c(g,i)):b;return Yr(u,E,t)},[b,i,E,t]),o=(u,g)=>{n(u),r(g)};if(s.totalDays===0)return null;const d=(Mr-Us)/2,f=Be(s.startDate,h,m);return U.jsxs("div",{style:{minWidth:l,height:Mr,backgroundColor:"var(--gantt-bg-secondary)",borderTop:"2px solid var(--gantt-border)"},children:[U.jsxs("svg",{width:l,height:Mr,className:"block",children:[s.dailyBreakdown.map((u,g)=>{const p=Be(u.date,h,m);return U.jsx(wd,{day:u,x:p,width:m,barY:d,onHover:o},g)}),U.jsx("text",{x:f-8,y:Mr/2+3,textAnchor:"end",className:"pointer-events-none select-none text-[9px] font-bold",style:{fill:"var(--gantt-text-secondary)"},children:"Critical Path"}),(()=>{const u=x=>Number.isInteger(x)?x.toString():x.toFixed(1),g=f+s.totalDays*m+8,p=Mr/2;return U.jsxs("g",{className:"pointer-events-none select-none text-[9px]",style:{fill:"var(--gantt-text-muted)"},children:[U.jsxs("text",{x:g,y:p+3,children:["총일: ",s.totalDays,"일 |"]}),U.jsx("rect",{x:g+72,y:p-3,width:6,height:6,fill:vt.vermilion,rx:1}),U.jsxs("text",{x:g+82,y:p+3,children:["작업일: ",u(s.workDays),"일 |"]}),U.jsx("rect",{x:g+152,y:p-3,width:6,height:6,fill:vt.teal,rx:1}),U.jsxs("text",{x:g+162,y:p+3,children:["비작업일: ",u(s.nonWorkDays),"일"]})]})})()]}),a&&U.jsx(xd,{day:a,x:e,containerWidth:l})]})},qs=9,qe=20,Xs=({tasks:b,holidays:E,calendarSettings:t,minDate:h,pixelsPerDay:m,totalWidth:l})=>{const i=Z.useMemo(()=>Yr(b,E,t),[b,E,t]),a=Z.useMemo(()=>{if(i.totalDays===0)return{workRatio:0,nonWorkRatio:0};const d=i.workDays/i.totalDays*100,f=i.nonWorkDays/i.totalDays*100;return{workRatio:d,nonWorkRatio:f}},[i]),n=d=>Number.isInteger(d)?d.toString():d.toFixed(1);if(i.totalDays===0)return null;const e=(qe-qs)/2,r=Be(i.startDate,h,m),c=i.totalDays*m,s=c*(a.workRatio/100),o=c*(a.nonWorkRatio/100);return U.jsx("div",{style:{minWidth:l,height:qe,backgroundColor:"var(--gantt-bg-tertiary)",borderTop:"1px solid var(--gantt-border-light)"},children:U.jsxs("svg",{width:l,height:qe,className:"block",children:[U.jsx("rect",{x:r,y:e,width:s,height:qs,fill:vt.vermilion,rx:1}),U.jsx("rect",{x:r+s,y:e,width:o,height:qs,fill:vt.teal,rx:1}),U.jsx("text",{x:r-8,y:qe/2+3,textAnchor:"end",className:"pointer-events-none select-none text-[9px] font-bold",style:{fill:"var(--gantt-text-secondary)"},children:"Work Ratio"}),s>=40&&U.jsxs("text",{x:r+s/2,y:qe/2+3,textAnchor:"middle",className:"pointer-events-none select-none text-[8px] font-semibold",style:{fill:"white"},children:[a.workRatio.toFixed(1),"%"]}),o>=40&&U.jsxs("text",{x:r+s+o/2,y:qe/2+3,textAnchor:"middle",className:"pointer-events-none select-none text-[8px] font-semibold",style:{fill:"white"},children:[a.nonWorkRatio.toFixed(1),"%"]}),U.jsxs("g",{className:"pointer-events-none select-none text-[9px]",style:{fill:"var(--gantt-text-muted)"},children:[U.jsx("rect",{x:r+c+8,y:qe/2-3,width:6,height:6,fill:vt.vermilion,rx:1}),U.jsxs("text",{x:r+c+18,y:qe/2+3,children:["작업일: ",n(i.workDays),"일 (",a.workRatio.toFixed(1),"%) |"]}),U.jsx("rect",{x:r+c+138,y:qe/2-3,width:6,height:6,fill:vt.teal,rx:1}),U.jsxs("text",{x:r+c+148,y:qe/2+3,children:["비작업일: ",n(i.nonWorkDays),"일 (",a.nonWorkRatio.toFixed(1),"%)"]})]})]})})},{BAR_HEIGHT:_d}=he,{BAR_HEIGHT:Zr}=Es,Ys=Z.memo(({group:b,allTasks:E,y:t,minDate:h,pixelsPerDay:m,parentBarHeight:l,isDraggable:i=!1,currentDeltaDays:a=0,onDragStart:n,onToggle:e,onClick:r,isFocused:c=!1,isCompact:s=!1})=>{var $;const o=l??_d,d=Z.useMemo(()=>Mn(b.id,E),[b.id,E]),f=Z.useMemo(()=>br(b.id,E).map(W=>W.id),[b.id,E]);if(!d)return null;const{startDate:u,endDate:g,totalDays:p}=d,x=(($=b.group)==null?void 0:$.progress)??0,S=a!==0?qt(u,a):u,M=Be(S,h,m),R=p*m,B=R*(x/100),N=0,L=W=>{!i||!n||(W.preventDefault(),W.stopPropagation(),n(W,b.id,{startDate:u,endDate:g,affectedTaskIds:f}))},F=W=>{W.preventDefault(),W.stopPropagation(),e==null||e(b.id)};return U.jsxs("g",{transform:`translate(${M}, ${t})`,className:i?"cursor-grab active:cursor-grabbing":"",children:[c&&U.jsx("rect",{x:-3,y:N-3,width:R+6,height:Zr+6,fill:"none",stroke:vt.focus,strokeWidth:2,rx:4,ry:4,className:"animate-pulse",style:{filter:`drop-shadow(0 0 6px ${vt.focus})`}}),U.jsx("rect",{x:0,y:N,width:R,height:Zr,fill:vt.summaryBar,rx:2,ry:2,opacity:.4}),x>0&&U.jsx("rect",{x:0,y:N,width:B,height:Zr,fill:vt.summaryProgress,rx:2,ry:2}),U.jsx("text",{x:s?-5:R/2,y:s?N+Zr/2+3:N-3,textAnchor:s?"end":"middle",className:"font-normal",fill:vt.textSecondary,style:{fontSize:"11px"},children:b.name}),U.jsxs("text",{x:R+8,y:N+Zr/2+3,fill:vt.textMuted,style:{fontSize:"9px"},children:[x,"%"]}),U.jsx("rect",{x:0,y:0,width:R,height:o,fill:"transparent",className:i?"cursor-grab active:cursor-grabbing":"cursor-pointer",onClick:W=>{W.stopPropagation(),r==null||r(W,b.id)},onMouseDown:L,onDoubleClick:F})]})}),Xe=4,Ln=3,Bn=Z.memo(({block:b,allTasks:E,y:t,minDate:h,pixelsPerDay:m,currentDeltaDays:l=0,onToggle:i,onClick:a,isFocused:n=!1})=>{const e=Z.useMemo(()=>Mn(b.id,E),[b.id,E]);if(!e)return null;const{startDate:r,totalDays:c}=e,s=l!==0?qt(r,l):r,o=Be(s,h,m),d=c*m,f=0,u=g=>{g.preventDefault(),g.stopPropagation(),i==null||i(b.id)};return U.jsxs("g",{transform:`translate(${o}, ${t})`,className:"cursor-pointer",children:[n&&U.jsx("rect",{x:-Xe-3,y:f-3,width:d+Xe*2+6,height:Xe*2+6,fill:"none",stroke:vt.focus,strokeWidth:2,rx:4,ry:4,className:"animate-pulse",style:{filter:`drop-shadow(0 0 6px ${vt.focus})`}}),U.jsx("text",{x:d/2,y:f-5,textAnchor:"middle",className:"pointer-events-none select-none font-normal",fill:vt.textPrimary,style:{fontSize:"11px"},children:b.name}),U.jsx("line",{x1:Xe,y1:f+Ln,x2:d-Xe,y2:f+Ln,stroke:vt.textMuted,strokeWidth:2,strokeLinecap:"round"}),U.jsx("circle",{cx:0,cy:f+Ln,r:Xe,fill:vt.textMuted,stroke:vt.bgPrimary,strokeWidth:1.5}),U.jsx("circle",{cx:d,cy:f+Ln,r:Xe,fill:vt.textMuted,stroke:vt.bgPrimary,strokeWidth:1.5}),U.jsx("rect",{x:-Xe,y:0,width:d+Xe*2,height:f+Xe*2+4,fill:"transparent",className:"cursor-pointer",onClick:g=>{g.stopPropagation(),a==null||a(g,b.id)},onDoubleClick:u})]})});Bn.displayName="BlockBar";const{MILESTONE_LANE_HEIGHT:Ie,BAR_HEIGHT:Ye}=he,{BAR_HEIGHT:Fn}=Es,Wn=Z.forwardRef((b,E)=>{const{tasks:t,allTasks:h,milestones:m,viewMode:l,zoomLevel:i,holidays:a,calendarSettings:n,onBarDrag:e,onGroupDrag:r,onMilestoneUpdate:c,onMilestoneDoubleClick:s,onTaskDoubleClick:o,virtualRows:d,totalHeight:f,showCriticalPath:u=!0,onGroupToggle:g,activeCPId:p,onContextMenuAddTask:x,onContextMenuAddMilestone:S,anchorDependencies:M=[],onAnchorDependencyCreate:R,onAnchorDependencyDelete:B,onAnchorDependencyDrag:N,onCycleDetected:L,focusedTaskId:F,renderMode:$="all",rowHeight:W,barHeight:C}=b,{values:D,dragHandlers:k,eventHandlers:y,contextMenuState:w}=vd({tasks:t,allTasks:h,milestones:m,viewMode:l,zoomLevel:i,holidays:a,calendarSettings:n,virtualRows:d,totalHeight:f,rowHeight:W,barHeight:C,onBarDrag:e,onGroupDrag:r,onMilestoneUpdate:c,onMilestoneDoubleClick:s,onContextMenuAddTask:x,onContextMenuAddMilestone:S,anchorDependencies:M,onAnchorDependencyCreate:R,onAnchorDependencyDelete:B,onAnchorDependencyDrag:N,onCycleDetected:L}),{pixelsPerDay:v,isMasterView:_,isUnifiedView:T,isCompact:j,effectiveBarHeight:O,minDate:z,totalDays:V,chartWidth:q,chartHeight:P,taskAreaHeight:G,rowData:I,fullRowData:A,milestoneLayouts:H,isBlockTask:X}=D,{handleBarMouseDown:J,getDragInfo:Y,handleMilestoneMouseDown:Q,getMilestoneDragX:it,isMilestoneDragging:st,handleGroupBarMouseDown:K,getGroupDragDeltaDays:et,getTaskGroupDragDeltaDays:rt,getTaskDragInfo:at,handleDependencyBarMouseDown:ot,isDependencyDragging:ct,taskHasDependency:dt,getDependencyDragDeltaDays:ft,getDependencyDragInfo:gt,getConnectedTaskIds:Dt,getCombinedTaskDeltaDays:Tt,connectingFrom:wt,hoveredAnchor:Lt,selectedDepId:Wt,hoveredDepId:zt,handleAnchorClick:Ht,handleAnchorHover:It,handleDependencyClick:St,handleDependencyHover:Pt}=k,{selectTask:Ft,handleMilestoneDoubleClick:Bt,handleContextMenu:Qt,handleContextMenuClose:ae,handleSvgClick:Vt,handleDepDelete:le,setHoveredTaskId:ne}=y,{contextMenu:Ct}=w;return $==="header"?U.jsxs("div",{className:"flex flex-col shrink-0",style:{backgroundColor:"var(--gantt-bg-primary)"},children:[U.jsx(So,{minDate:z,totalDays:V,pixelsPerDay:v,zoomLevel:i,holidays:a,calendarSettings:n}),U.jsxs("svg",{width:q,height:Ie,className:"block",style:{backgroundColor:"var(--gantt-bg-primary)",overflow:"visible",borderBottom:"1px solid var(--gantt-border-light)"},children:[U.jsx(Bs,{}),U.jsx(Ls,{minDate:z,totalDays:V,chartHeight:Ie,pixelsPerDay:v,holidays:a,calendarSettings:n,zoomLevel:i}),U.jsx("rect",{x:0,y:0,width:q,height:Ie,fill:"transparent"}),U.jsx(Pn,{minDate:z,totalDays:V,chartHeight:G+Ie,pixelsPerDay:v,zoomLevel:i}),H.map(mt=>{const ht=st(mt.milestone.id);return U.jsx(Eo,{milestone:mt.milestone,x:mt.x,labelLevel:mt.labelLevel,isDragging:ht,dragX:it(mt.milestone.id),onMouseDown:c?Q:void 0,onDoubleClick:s?Bt:void 0,lineHeight:G+Ie},mt.milestone.id)})]})]}):$==="content"?U.jsxs("div",{ref:E,className:"relative flex-1",style:{backgroundColor:"var(--gantt-bg-primary)"},children:[U.jsxs("svg",{width:q,height:G,className:"block",onContextMenu:Qt,onClick:Vt,children:[U.jsx(Bs,{}),U.jsx(Ls,{minDate:z,totalDays:V,chartHeight:G,pixelsPerDay:v,holidays:a,calendarSettings:n,zoomLevel:i}),U.jsx($s,{tasks:t,rowData:I,chartWidth:q}),U.jsx(Pn,{minDate:z,totalDays:V,chartHeight:G,pixelsPerDay:v,zoomLevel:i}),U.jsx(Hs,{rowData:I,chartWidth:q}),I.map(mt=>{const ht=t[mt.index];if(!ht)return null;const Nt=ht.type==="GROUP",_t=ht.type==="CP";let bt;_t?bt=Ye:Nt?bt=X(ht)?Ye:Fn:bt=O;const Et=mt.start+(mt.size-bt)/2;if(!_&&Nt)return X(ht)?U.jsx(Bn,{block:ht,allTasks:h||t,y:Et,minDate:z,pixelsPerDay:v,currentDeltaDays:et(ht.id),onToggle:g,onClick:(Mt,nt)=>{Ft(nt,{ctrlKey:Mt.ctrlKey||Mt.metaKey,shiftKey:Mt.shiftKey,visibleTasks:t})},isFocused:F===ht.id},`block-${mt.key}`):U.jsx(Ys,{group:ht,allTasks:h||t,y:Et,minDate:z,pixelsPerDay:v,isDraggable:!T&&!!r,currentDeltaDays:et(ht.id),onDragStart:K,onToggle:g,onClick:(Mt,nt)=>{Ft(nt,{ctrlKey:Mt.ctrlKey||Mt.metaKey,shiftKey:Mt.shiftKey,visibleTasks:t})},isFocused:F===ht.id,parentBarHeight:Ye,isCompact:j},`group-${mt.key}`);const Gt=_||T&&_t;return U.jsx(Kr,{task:ht,y:Et,minDate:z,pixelsPerDay:v,isMasterView:Gt,renderMode:"bar",allTasks:h||t,holidays:a,calendarSettings:n,isDraggable:!_&&!Gt&&!!e,dragInfo:Y(ht.id),groupDragDeltaDays:rt(ht.id),groupDragInfo:at(ht.id),dependencyDragDeltaDays:ft(ht.id),dependencyDragInfo:gt(ht.id),onDragStart:J,onDependencyDragStart:ot,hasDependency:dt(ht.id),isFocused:F===ht.id,onDoubleClick:!_&&ht.type==="TASK"&&o?()=>o(ht):void 0,onMouseEnter:()=>ne(ht.id),onMouseLeave:()=>ne(null),barHeight:O},mt.key)}),!_&&M.length>0&&U.jsx(zo,{tasks:t,dependencies:M,minDate:z,pixelsPerDay:v,selectedDepId:Wt,hoveredDepId:zt,onDependencyClick:St,onDependencyHover:Pt,holidays:a,calendarSettings:n,getTaskDeltaDays:Tt,offsetY:0,rowData:A,effectiveBarHeight:O,isCompact:j}),!_&&M.length>0&&U.jsx($o,{tasks:t,dependencies:M,minDate:z,pixelsPerDay:v,holidays:a,calendarSettings:n,getTaskDeltaDays:Tt,offsetY:0,rowData:A,effectiveBarHeight:O,isCompact:j}),!_&&I.map(mt=>{const ht=t[mt.index];return!ht||ht.type!=="TASK"?null:U.jsx(Wo,{task:ht,rowIndex:mt.index,minDate:z,pixelsPerDay:v,connectingFrom:wt,dependencies:M,onAnchorClick:Ht,onAnchorHover:It,holidays:a,calendarSettings:n,dependencyDragDeltaDays:Tt(ht.id),offsetY:0,rowStart:mt.start,rowHeight:mt.size,effectiveBarHeight:O,isCompact:j,isHoverActive:!1},`anchor-${mt.key}`)}),I.map(mt=>{const ht=t[mt.index];if(!ht||!_&&ht.type==="GROUP")return null;const Nt=ht.type==="CP",_t=ht.type==="GROUP";let bt;Nt?bt=Ye:_t?bt=X(ht)?Ye:Fn:bt=O;const Et=mt.start+(mt.size-bt)/2,Gt=_||T&&Nt;return U.jsx(Kr,{task:ht,y:Et,minDate:z,pixelsPerDay:v,isMasterView:Gt,renderMode:"label",allTasks:h||t,holidays:a,calendarSettings:n,dragInfo:Y(ht.id),groupDragDeltaDays:rt(ht.id),groupDragInfo:at(ht.id),dependencyDragDeltaDays:ft(ht.id),dependencyDragInfo:gt(ht.id),isFocused:F===ht.id,barHeight:O},`label-${mt.key}`)}),H.map(mt=>{const Nt=mt.milestone.milestoneType==="DETAIL"?vt.milestoneDetail:vt.milestone;return U.jsx("line",{x1:mt.x,y1:0,x2:mt.x,y2:G,stroke:Nt,strokeWidth:1.2,strokeDasharray:"4, 5",className:"opacity-90 pointer-events-none"},`ms-line-${mt.milestone.id}`)}),!_&&wt&&Lt&&wt.taskId!==Lt.taskId&&(()=>{const mt=t.find(Mt=>Mt.id===wt.taskId),ht=t.find(Mt=>Mt.id===Lt.taskId),Nt=t.findIndex(Mt=>Mt.id===wt.taskId),_t=t.findIndex(Mt=>Mt.id===Lt.taskId);if(!mt||!ht||Nt<0||_t<0)return null;const bt=A.find(Mt=>Mt.index===Nt),Et=A.find(Mt=>Mt.index===_t),Gt=In(mt,wt.dayIndex,Nt,z,v,a,n,0,bt==null?void 0:bt.start,bt==null?void 0:bt.size,O),te=In(ht,Lt.dayIndex,_t,z,v,a,n,0,Et==null?void 0:Et.start,Et==null?void 0:Et.size,O);return U.jsx(Ho,{sourceX:Gt.x,sourceY:Gt.y,targetX:te.x,targetY:te.y,isCompact:j})})(),ct&&(()=>{const mt=Dt();return mt.length<=1?null:U.jsxs("g",{className:"dependency-drag-indicator",children:[U.jsx("rect",{x:10,y:10,width:180,height:28,rx:6,fill:vt.success,fillOpacity:.9}),U.jsxs("text",{x:100,y:28,textAnchor:"middle",fill:"white",fontSize:12,fontWeight:600,children:["🔗 연결된 ",mt.length,"개 태스크 이동 중"]})]})})()]}),u&&U.jsx(Gs,{tasks:h||t,holidays:a,calendarSettings:n,minDate:z,pixelsPerDay:v,totalWidth:q,activeCPId:p}),_&&u&&U.jsx(Xs,{tasks:h||t,holidays:a,calendarSettings:n,minDate:z,pixelsPerDay:v,totalWidth:q}),Ct&&S&&U.jsx(Lo,{x:Ct.x,y:Ct.y,clickedDate:Ct.clickedDate,viewMode:l,onAddTask:x,onAddMilestone:S,onClose:ae,selectedDependencyId:Wt,onDeleteDependency:B?le:void 0})]}):U.jsx("div",{className:"flex h-full w-full flex-col overflow-hidden",style:{backgroundColor:"var(--gantt-bg-primary)"},children:U.jsxs("div",{ref:E,className:"relative flex-1",children:[U.jsx(So,{minDate:z,totalDays:V,pixelsPerDay:v,zoomLevel:i,holidays:a,calendarSettings:n}),U.jsxs("svg",{width:q,height:P,className:"block",style:{backgroundColor:"var(--gantt-bg-primary)"},onContextMenu:Qt,onClick:Vt,children:[U.jsx(Bs,{}),U.jsx(Ls,{minDate:z,totalDays:V,chartHeight:P,pixelsPerDay:v,holidays:a,calendarSettings:n,zoomLevel:i}),U.jsx($s,{tasks:t,rowData:I,chartWidth:q,offsetY:Ie}),U.jsx(Pn,{minDate:z,totalDays:V,chartHeight:P,pixelsPerDay:v,zoomLevel:i}),U.jsx(Hs,{rowData:I,chartWidth:q,offsetY:Ie}),U.jsx("rect",{x:0,y:0,width:q,height:Ie,fill:"transparent"}),H.map(mt=>{const ht=st(mt.milestone.id);return U.jsx(Eo,{milestone:mt.milestone,x:mt.x,labelLevel:mt.labelLevel,isDragging:ht,dragX:it(mt.milestone.id),onMouseDown:c?Q:void 0,onDoubleClick:s?Bt:void 0},mt.milestone.id)}),U.jsx("line",{x1:0,y1:Ie,x2:q,y2:Ie,stroke:vt.grid,strokeWidth:1}),I.map(mt=>{const ht=t[mt.index];if(!ht)return null;const Nt=ht.type==="GROUP",_t=ht.type==="CP";let bt;_t?bt=Ye:Nt?bt=X(ht)?Ye:Fn:bt=O;const Et=mt.start+(mt.size-bt)/2+Ie;if(!_&&Nt)return X(ht)?U.jsx(Bn,{block:ht,allTasks:h||t,y:Et,minDate:z,pixelsPerDay:v,currentDeltaDays:et(ht.id),onToggle:g,onClick:(Mt,nt)=>{Ft(nt,{ctrlKey:Mt.ctrlKey||Mt.metaKey,shiftKey:Mt.shiftKey,visibleTasks:t})},isFocused:F===ht.id},`block-${mt.key}`):U.jsx(Ys,{group:ht,allTasks:h||t,y:Et,minDate:z,pixelsPerDay:v,isDraggable:!T&&!!r,currentDeltaDays:et(ht.id),onDragStart:K,onToggle:g,onClick:(Mt,nt)=>{Ft(nt,{ctrlKey:Mt.ctrlKey||Mt.metaKey,shiftKey:Mt.shiftKey,visibleTasks:t})},isFocused:F===ht.id,parentBarHeight:Ye,isCompact:j},`group-${mt.key}`);const Gt=_||T&&_t;return U.jsx(Kr,{task:ht,y:Et,minDate:z,pixelsPerDay:v,isMasterView:Gt,renderMode:"bar",allTasks:h||t,holidays:a,calendarSettings:n,isDraggable:!_&&!Gt&&!!e,dragInfo:Y(ht.id),groupDragDeltaDays:rt(ht.id),groupDragInfo:at(ht.id),dependencyDragDeltaDays:ft(ht.id),dependencyDragInfo:gt(ht.id),onDragStart:J,onDependencyDragStart:ot,hasDependency:dt(ht.id),isFocused:F===ht.id,onDoubleClick:!_&&ht.type==="TASK"&&o?()=>o(ht):void 0,onMouseEnter:()=>ne(ht.id),onMouseLeave:()=>ne(null),barHeight:O},mt.key)}),!_&&M.length>0&&U.jsx(zo,{tasks:t,dependencies:M,minDate:z,pixelsPerDay:v,selectedDepId:Wt,hoveredDepId:zt,onDependencyClick:St,onDependencyHover:Pt,holidays:a,calendarSettings:n,getTaskDeltaDays:Tt,offsetY:Ie,rowData:A,effectiveBarHeight:O,isCompact:j}),!_&&M.length>0&&U.jsx($o,{tasks:t,dependencies:M,minDate:z,pixelsPerDay:v,holidays:a,calendarSettings:n,getTaskDeltaDays:Tt,offsetY:Ie,rowData:A,effectiveBarHeight:O,isCompact:j}),!_&&I.map(mt=>{const ht=t[mt.index];return!ht||ht.type!=="TASK"?null:U.jsx(Wo,{task:ht,rowIndex:mt.index,minDate:z,pixelsPerDay:v,connectingFrom:wt,dependencies:M,onAnchorClick:Ht,onAnchorHover:It,holidays:a,calendarSettings:n,dependencyDragDeltaDays:Tt(ht.id),offsetY:Ie,rowStart:mt.start,rowHeight:mt.size,effectiveBarHeight:O,isCompact:j,isHoverActive:!1},`anchor-${mt.key}`)}),I.map(mt=>{const ht=t[mt.index];if(!ht||!_&&ht.type==="GROUP")return null;const Nt=ht.type==="CP",_t=ht.type==="GROUP";let bt;Nt?bt=Ye:_t?bt=X(ht)?Ye:Fn:bt=O;const Et=mt.start+(mt.size-bt)/2+Ie,Gt=_||T&&Nt;return U.jsx(Kr,{task:ht,y:Et,minDate:z,pixelsPerDay:v,isMasterView:Gt,renderMode:"label",allTasks:h||t,holidays:a,calendarSettings:n,dragInfo:Y(ht.id),groupDragDeltaDays:rt(ht.id),groupDragInfo:at(ht.id),dependencyDragDeltaDays:ft(ht.id),dependencyDragInfo:gt(ht.id),isFocused:F===ht.id,barHeight:O},`label-${mt.key}`)}),H.map(mt=>{const Nt=mt.milestone.milestoneType==="DETAIL"?vt.milestoneDetail:vt.milestone;return U.jsx("line",{x1:mt.x,y1:Ie,x2:mt.x,y2:P,stroke:Nt,strokeWidth:1.2,strokeDasharray:"4, 5",className:"opacity-90 pointer-events-none"},`ms-line-${mt.milestone.id}`)}),!_&&wt&&Lt&&wt.taskId!==Lt.taskId&&(()=>{const mt=t.find(Mt=>Mt.id===wt.taskId),ht=t.find(Mt=>Mt.id===Lt.taskId),Nt=t.findIndex(Mt=>Mt.id===wt.taskId),_t=t.findIndex(Mt=>Mt.id===Lt.taskId);if(!mt||!ht||Nt<0||_t<0)return null;const bt=A.find(Mt=>Mt.index===Nt),Et=A.find(Mt=>Mt.index===_t),Gt=In(mt,wt.dayIndex,Nt,z,v,a,n,Ie,bt==null?void 0:bt.start,bt==null?void 0:bt.size,O),te=In(ht,Lt.dayIndex,_t,z,v,a,n,Ie,Et==null?void 0:Et.start,Et==null?void 0:Et.size,O);return U.jsx(Ho,{sourceX:Gt.x,sourceY:Gt.y,targetX:te.x,targetY:te.y,isCompact:j})})(),ct&&(()=>{const mt=Dt();return mt.length<=1?null:U.jsxs("g",{className:"dependency-drag-indicator",children:[U.jsx("rect",{x:10,y:10,width:180,height:28,rx:6,fill:vt.success,fillOpacity:.9}),U.jsxs("text",{x:100,y:28,textAnchor:"middle",fill:"white",fontSize:12,fontWeight:600,children:["🔗 연결된 ",mt.length,"개 태스크 이동 중"]})]})})()]}),u&&U.jsx(Gs,{tasks:h||t,holidays:a,calendarSettings:n,minDate:z,pixelsPerDay:v,totalWidth:q,activeCPId:p}),_&&u&&U.jsx(Xs,{tasks:h||t,holidays:a,calendarSettings:n,minDate:z,pixelsPerDay:v,totalWidth:q}),Ct&&S&&U.jsx(Lo,{x:Ct.x,y:Ct.y,clickedDate:Ct.clickedDate,viewMode:l,onAddTask:x,onAddMilestone:S,onClose:ae,selectedDependencyId:Wt,onDeleteDependency:B?le:void 0})]})})});Wn.displayName="GanttTimeline";const Ks="w-full rounded-md border px-3 py-2 text-sm",Zs="focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20",Js={backgroundColor:"var(--gantt-bg-primary)",borderColor:"var(--gantt-border)",color:"var(--gantt-text-secondary)"},Qs={backgroundColor:"var(--gantt-bg-secondary)",borderRadius:"0.5rem",padding:"1rem"},ti={fontSize:"0.75rem",fontWeight:600,color:"var(--gantt-text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.75rem"},kd=({milestoneName:b,onConfirm:E,onCancel:t})=>{const[h,m]=Z.useState(!1);return He.createPortal(U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 transition-opacity",onClick:t}),U.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:U.jsxs("div",{className:"w-[400px] rounded-xl shadow-2xl",style:{backgroundColor:"var(--gantt-bg-primary)",border:"1px solid var(--gantt-border)"},onClick:l=>l.stopPropagation(),children:[U.jsx("div",{className:"px-5 py-4",style:{borderBottom:"1px solid var(--gantt-border-light)"},children:U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100",children:U.jsx("svg",{className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-base font-bold",style:{color:"var(--gantt-text-primary)"},children:"마일스톤 삭제"}),U.jsx("p",{className:"text-sm",style:{color:"var(--gantt-text-muted)"},children:"이 작업은 되돌릴 수 없습니다"})]})]})}),U.jsx("div",{className:"px-5 py-4",children:U.jsxs("div",{className:"rounded-lg bg-red-50 p-4",children:[U.jsx("p",{className:"text-sm mb-2",style:{color:"var(--gantt-text-secondary)"},children:"다음 마일스톤을 삭제하시겠습니까?"}),U.jsxs("p",{className:"flex items-center gap-2 text-sm font-semibold",style:{color:"var(--gantt-text-primary)"},children:[U.jsx("span",{className:"h-2 w-2 rounded-full bg-purple-500"}),b]})]})}),U.jsxs("div",{className:"flex justify-end gap-3 px-5 py-4 rounded-b-xl",style:{borderTop:"1px solid var(--gantt-border-light)",backgroundColor:"var(--gantt-bg-secondary)"},children:[U.jsx("button",{onClick:t,className:"rounded-lg px-4 py-2.5 text-sm font-medium transition-colors",style:{color:"var(--gantt-text-secondary)",backgroundColor:h?"var(--gantt-bg-hover)":"transparent"},onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:"취소"}),U.jsx("button",{onClick:E,className:"rounded-lg bg-red-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-red-700 transition-colors shadow-sm",children:"삭제"})]})]})})]}),document.body)},Sd=({milestone:b,isOpen:E,isNew:t=!1,onClose:h,onSave:m,onDelete:l})=>{const[i,a]=Z.useState(""),[n,e]=Z.useState(""),[r,c]=Z.useState(""),[s,o]=Z.useState("MASTER"),[d,f]=Z.useState(!1),[u,g]=Z.useState(!1),[p,x]=Z.useState(!1),S=Z.useRef(null);Z.useEffect(()=>{b&&E&&(a(b.name),e(b.description||""),c(Se(b.date,"yyyy-MM-dd")),o(b.milestoneType||"MASTER"),f(!1),setTimeout(()=>{var $,W;($=S.current)==null||$.focus(),(W=S.current)==null||W.select()},100))},[b,E]),Z.useEffect(()=>{const $=W=>{W.key==="Escape"&&E&&(d?f(!1):h())};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[E,d,h]);const M=Z.useMemo(()=>!b||!E?!1:i!==b.name||n!==(b.description||"")||r!==Se(b.date,"yyyy-MM-dd")||s!==(b.milestoneType||"MASTER"),[b,E,i,n,r,s]),R=async()=>{if(!b||!i.trim()||u)return;const $={...b,name:i.trim(),description:n.trim()||void 0,date:new Date(r),milestoneType:s};g(!0);try{await m($)}catch(W){console.error("[MilestoneEditModal] Save failed:",W)}finally{g(!1)}},B=()=>{f(!0)},N=async()=>{if(!(!b||!l||u)){g(!0);try{await l(b.id),f(!1),h()}catch($){console.error("[MilestoneEditModal] Delete failed:",$),f(!1)}finally{g(!1)}}},L=()=>{f(!1)},F=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),R())};return!E||!b?null:U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 transition-opacity",onClick:h}),U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:U.jsxs("div",{className:"w-full max-w-lg rounded-xl shadow-2xl",style:{backgroundColor:"var(--gantt-bg-primary)",border:"1px solid var(--gantt-border)"},onClick:$=>$.stopPropagation(),children:[U.jsxs("div",{className:"flex items-center justify-between px-5 py-4",style:{borderBottom:"1px solid var(--gantt-border-light)"},children:[U.jsxs("div",{children:[U.jsx("h2",{className:"text-base font-bold",style:{color:"var(--gantt-text-primary)"},children:t?"새 마일스톤":"마일스톤 설정"}),!t&&b&&U.jsx("p",{className:"text-sm mt-0.5",style:{color:"var(--gantt-text-muted)"},children:b.name})]}),U.jsx("button",{onClick:h,className:"rounded-lg p-2 transition-colors",style:{color:"var(--gantt-text-muted)",backgroundColor:p?"var(--gantt-bg-hover)":"transparent"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:U.jsx(Sn,{size:20})})]}),U.jsxs("div",{className:"p-5 space-y-5",children:[U.jsxs("div",{style:Qs,children:[U.jsx("h3",{style:ti,children:"📌 기본 정보"}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsxs("label",{className:"mb-2 flex items-center gap-1.5 text-sm font-medium",style:{color:"var(--gantt-text-secondary)"},children:[U.jsx(Fc,{size:14}),"마일스톤 이름"]}),U.jsx("input",{ref:S,type:"text",value:i,onChange:$=>a($.target.value),onKeyDown:F,placeholder:"마일스톤 이름을 입력하세요",className:`${Ks} ${Zs}`,style:Js})]}),U.jsxs("div",{children:[U.jsxs("label",{className:"mb-2 flex items-center gap-1.5 text-sm font-medium",style:{color:"var(--gantt-text-secondary)"},children:[U.jsx(Bc,{size:14}),"날짜"]}),U.jsx("input",{type:"date",value:r,onChange:$=>c($.target.value),onKeyDown:F,className:`${Ks} ${Zs} w-44`,style:Js})]})]})]}),U.jsxs("div",{style:Qs,children:[U.jsx("h3",{style:ti,children:"👁️ 표시 설정"}),U.jsxs("div",{className:"flex gap-3",children:[U.jsxs("label",{className:"flex-1 flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all",style:{borderColor:s==="MASTER"?"var(--gantt-milestone)":"var(--gantt-border)",backgroundColor:s==="MASTER"?"var(--gantt-bg-tertiary)":"transparent"},children:[U.jsx("input",{type:"radio",name:"milestoneType",value:"MASTER",checked:s==="MASTER",onChange:()=>o("MASTER"),className:"h-4 w-4 text-gray-600 focus:ring-gray-500"}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex items-center gap-1.5",children:[U.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:"var(--gantt-milestone)"}}),U.jsx("span",{className:"text-sm font-medium",style:{color:"var(--gantt-text-primary)"},children:"Master View"})]}),U.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--gantt-text-muted)"},children:"전체 공정표에 표시"})]})]}),U.jsxs("label",{className:"flex-1 flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all",style:{borderColor:s==="DETAIL"?"var(--gantt-milestone-detail)":"var(--gantt-border)",backgroundColor:s==="DETAIL"?"color-mix(in srgb, var(--gantt-milestone-detail) 15%, transparent)":"transparent"},children:[U.jsx("input",{type:"radio",name:"milestoneType",value:"DETAIL",checked:s==="DETAIL",onChange:()=>o("DETAIL"),className:"h-4 w-4 text-amber-500 focus:ring-amber-500"}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex items-center gap-1.5",children:[U.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:"var(--gantt-milestone-detail)"}}),U.jsx("span",{className:"text-sm font-medium",style:{color:"var(--gantt-text-primary)"},children:"Detail View"})]}),U.jsx("p",{className:"text-xs mt-0.5",style:{color:"var(--gantt-text-muted)"},children:"상세 공정표에 표시"})]})]})]})]}),U.jsxs("div",{style:Qs,children:[U.jsx("h3",{style:ti,children:"📝 설명 (선택)"}),U.jsx("textarea",{value:n,onChange:$=>e($.target.value),placeholder:"마일스톤에 대한 설명을 입력하세요",rows:3,className:`${Ks} ${Zs} resize-none`,style:Js})]})]}),U.jsxs("div",{className:"flex justify-between items-center px-5 py-4 rounded-b-xl",style:{borderTop:"1px solid var(--gantt-border-light)",backgroundColor:"var(--gantt-bg-secondary)"},children:[U.jsx("div",{children:!t&&l&&U.jsxs("button",{onClick:B,className:"flex items-center gap-1.5 rounded-lg px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[U.jsx(ao,{size:16}),"삭제"]})}),U.jsx("button",{onClick:M?R:h,disabled:M&&!i.trim(),className:`rounded-lg px-5 py-2.5 text-sm font-semibold transition-all shadow-sm ${M?"bg-purple-600 text-white hover:bg-purple-700 shadow-purple-200 disabled:bg-gray-300 disabled:cursor-not-allowed disabled:shadow-none":"bg-gray-600 text-white hover:bg-gray-700"}`,children:M?"저장":"닫기"})]})]})}),d&&U.jsx(kd,{milestoneName:i||b.name,onConfirm:N,onCancel:L})]})};function Go(b){var E,t,h="";if(typeof b=="string"||typeof b=="number")h+=b;else if(typeof b=="object")if(Array.isArray(b)){var m=b.length;for(E=0;E<m;E++)b[E]&&(t=Go(b[E]))&&(h&&(h+=" "),h+=t)}else for(t in b)b[t]&&(h&&(h+=" "),h+=t);return h}function Ed(){for(var b,E,t=0,h="",m=arguments.length;t<m;t++)(b=arguments[t])&&(E=Go(b))&&(h&&(h+=" "),h+=E);return h}const Cd=(b,E)=>{const t=new Array(b.length+E.length);for(let h=0;h<b.length;h++)t[h]=b[h];for(let h=0;h<E.length;h++)t[b.length+h]=E[h];return t},Td=(b,E)=>({classGroupId:b,validator:E}),qo=(b=new Map,E=null,t)=>({nextPart:b,validators:E,classGroupId:t}),zn="-",Xo=[],Md="arbitrary..",Dd=b=>{const E=jd(b),{conflictingClassGroups:t,conflictingClassGroupModifiers:h}=b;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return Ad(i);const a=i.split(zn),n=a[0]===""&&a.length>1?1:0;return Yo(a,n,E)},getConflictingClassGroupIds:(i,a)=>{if(a){const n=h[i],e=t[i];return n?e?Cd(e,n):n:e||Xo}return t[i]||Xo}}},Yo=(b,E,t)=>{if(b.length-E===0)return t.classGroupId;const m=b[E],l=t.nextPart.get(m);if(l){const e=Yo(b,E+1,l);if(e)return e}const i=t.validators;if(i===null)return;const a=E===0?b.join(zn):b.slice(E).join(zn),n=i.length;for(let e=0;e<n;e++){const r=i[e];if(r.validator(a))return r.classGroupId}},Ad=b=>b.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const E=b.slice(1,-1),t=E.indexOf(":"),h=E.slice(0,t);return h?Md+h:void 0})(),jd=b=>{const{theme:E,classGroups:t}=b;return Id(t,E)},Id=(b,E)=>{const t=qo();for(const h in b){const m=b[h];ei(m,t,h,E)}return t},ei=(b,E,t,h)=>{const m=b.length;for(let l=0;l<m;l++){const i=b[l];Nd(i,E,t,h)}},Nd=(b,E,t,h)=>{if(typeof b=="string"){Od(b,E,t);return}if(typeof b=="function"){Rd(b,E,t,h);return}Pd(b,E,t,h)},Od=(b,E,t)=>{const h=b===""?E:Ko(E,b);h.classGroupId=t},Rd=(b,E,t,h)=>{if(Ld(b)){ei(b(h),E,t,h);return}E.validators===null&&(E.validators=[]),E.validators.push(Td(t,b))},Pd=(b,E,t,h)=>{const m=Object.entries(b),l=m.length;for(let i=0;i<l;i++){const[a,n]=m[i];ei(n,Ko(E,a),t,h)}},Ko=(b,E)=>{let t=b;const h=E.split(zn),m=h.length;for(let l=0;l<m;l++){const i=h[l];let a=t.nextPart.get(i);a||(a=qo(),t.nextPart.set(i,a)),t=a}return t},Ld=b=>"isThemeGetter"in b&&b.isThemeGetter===!0,Bd=b=>{if(b<1)return{get:()=>{},set:()=>{}};let E=0,t=Object.create(null),h=Object.create(null);const m=(l,i)=>{t[l]=i,E++,E>b&&(E=0,h=t,t=Object.create(null))};return{get(l){let i=t[l];if(i!==void 0)return i;if((i=h[l])!==void 0)return m(l,i),i},set(l,i){l in t?t[l]=i:m(l,i)}}},ri="!",Zo=":",Fd=[],Jo=(b,E,t,h,m)=>({modifiers:b,hasImportantModifier:E,baseClassName:t,maybePostfixModifierPosition:h,isExternal:m}),Wd=b=>{const{prefix:E,experimentalParseClassName:t}=b;let h=m=>{const l=[];let i=0,a=0,n=0,e;const r=m.length;for(let f=0;f<r;f++){const u=m[f];if(i===0&&a===0){if(u===Zo){l.push(m.slice(n,f)),n=f+1;continue}if(u==="/"){e=f;continue}}u==="["?i++:u==="]"?i--:u==="("?a++:u===")"&&a--}const c=l.length===0?m:m.slice(n);let s=c,o=!1;c.endsWith(ri)?(s=c.slice(0,-1),o=!0):c.startsWith(ri)&&(s=c.slice(1),o=!0);const d=e&&e>n?e-n:void 0;return Jo(l,o,s,d)};if(E){const m=E+Zo,l=h;h=i=>i.startsWith(m)?l(i.slice(m.length)):Jo(Fd,!1,i,void 0,!0)}if(t){const m=h;h=l=>t({className:l,parseClassName:m})}return h},zd=b=>{const E=new Map;return b.orderSensitiveModifiers.forEach((t,h)=>{E.set(t,1e6+h)}),t=>{const h=[];let m=[];for(let l=0;l<t.length;l++){const i=t[l],a=i[0]==="[",n=E.has(i);a||n?(m.length>0&&(m.sort(),h.push(...m),m=[]),h.push(i)):m.push(i)}return m.length>0&&(m.sort(),h.push(...m)),h}},Hd=b=>({cache:Bd(b.cacheSize),parseClassName:Wd(b),sortModifiers:zd(b),...Dd(b)}),$d=/\s+/,Ud=(b,E)=>{const{parseClassName:t,getClassGroupId:h,getConflictingClassGroupIds:m,sortModifiers:l}=E,i=[],a=b.trim().split($d);let n="";for(let e=a.length-1;e>=0;e-=1){const r=a[e],{isExternal:c,modifiers:s,hasImportantModifier:o,baseClassName:d,maybePostfixModifierPosition:f}=t(r);if(c){n=r+(n.length>0?" "+n:n);continue}let u=!!f,g=h(u?d.substring(0,f):d);if(!g){if(!u){n=r+(n.length>0?" "+n:n);continue}if(g=h(d),!g){n=r+(n.length>0?" "+n:n);continue}u=!1}const p=s.length===0?"":s.length===1?s[0]:l(s).join(":"),x=o?p+ri:p,S=x+g;if(i.indexOf(S)>-1)continue;i.push(S);const M=m(g,u);for(let R=0;R<M.length;++R){const B=M[R];i.push(x+B)}n=r+(n.length>0?" "+n:n)}return n},Vd=(...b)=>{let E=0,t,h,m="";for(;E<b.length;)(t=b[E++])&&(h=Qo(t))&&(m&&(m+=" "),m+=h);return m},Qo=b=>{if(typeof b=="string")return b;let E,t="";for(let h=0;h<b.length;h++)b[h]&&(E=Qo(b[h]))&&(t&&(t+=" "),t+=E);return t},Gd=(b,...E)=>{let t,h,m,l;const i=n=>{const e=E.reduce((r,c)=>c(r),b());return t=Hd(e),h=t.cache.get,m=t.cache.set,l=a,a(n)},a=n=>{const e=h(n);if(e)return e;const r=Ud(n,t);return m(n,r),r};return l=i,(...n)=>l(Vd(...n))},qd=[],je=b=>{const E=t=>t[b]||qd;return E.isThemeGetter=!0,E},ta=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ea=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Xd=/^\d+\/\d+$/,Yd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Jd=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=b=>Xd.test(b),fe=b=>!!b&&!Number.isNaN(Number(b)),ar=b=>!!b&&Number.isInteger(Number(b)),ni=b=>b.endsWith("%")&&fe(b.slice(0,-1)),Qe=b=>Yd.test(b),tf=()=>!0,ef=b=>Kd.test(b)&&!Zd.test(b),ra=()=>!1,rf=b=>Jd.test(b),nf=b=>Qd.test(b),sf=b=>!$t(b)&&!Ut(b),of=b=>Ar(b,aa,ra),$t=b=>ta.test(b),yr=b=>Ar(b,la,ef),si=b=>Ar(b,df,fe),na=b=>Ar(b,ia,ra),af=b=>Ar(b,oa,nf),Hn=b=>Ar(b,ca,rf),Ut=b=>ea.test(b),Jr=b=>jr(b,la),lf=b=>jr(b,ff),sa=b=>jr(b,ia),cf=b=>jr(b,aa),uf=b=>jr(b,oa),$n=b=>jr(b,ca,!0),Ar=(b,E,t)=>{const h=ta.exec(b);return h?h[1]?E(h[1]):t(h[2]):!1},jr=(b,E,t=!1)=>{const h=ea.exec(b);return h?h[1]?E(h[1]):t:!1},ia=b=>b==="position"||b==="percentage",oa=b=>b==="image"||b==="url",aa=b=>b==="length"||b==="size"||b==="bg-size",la=b=>b==="length",df=b=>b==="number",ff=b=>b==="family-name",ca=b=>b==="shadow",hf=Gd(()=>{const b=je("color"),E=je("font"),t=je("text"),h=je("font-weight"),m=je("tracking"),l=je("leading"),i=je("breakpoint"),a=je("container"),n=je("spacing"),e=je("radius"),r=je("shadow"),c=je("inset-shadow"),s=je("text-shadow"),o=je("drop-shadow"),d=je("blur"),f=je("perspective"),u=je("aspect"),g=je("ease"),p=je("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...S(),Ut,$t],R=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],N=()=>[Ut,$t,n],L=()=>[Dr,"full","auto",...N()],F=()=>[ar,"none","subgrid",Ut,$t],$=()=>["auto",{span:["full",ar,Ut,$t]},ar,Ut,$t],W=()=>[ar,"auto",Ut,$t],C=()=>["auto","min","max","fr",Ut,$t],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],k=()=>["start","end","center","stretch","center-safe","end-safe"],y=()=>["auto",...N()],w=()=>[Dr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],v=()=>[b,Ut,$t],_=()=>[...S(),sa,na,{position:[Ut,$t]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",cf,of,{size:[Ut,$t]}],O=()=>[ni,Jr,yr],z=()=>["","none","full",e,Ut,$t],V=()=>["",fe,Jr,yr],q=()=>["solid","dashed","dotted","double"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[fe,ni,sa,na],I=()=>["","none",d,Ut,$t],A=()=>["none",fe,Ut,$t],H=()=>["none",fe,Ut,$t],X=()=>[fe,Ut,$t],J=()=>[Dr,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qe],breakpoint:[Qe],color:[tf],container:[Qe],"drop-shadow":[Qe],ease:["in","out","in-out"],font:[sf],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qe],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qe],shadow:[Qe],spacing:["px",fe],text:[Qe],"text-shadow":[Qe],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dr,$t,Ut,u]}],container:["container"],columns:[{columns:[fe,$t,Ut,a]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[ar,"auto",Ut,$t]}],basis:[{basis:[Dr,"full","auto",a,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[fe,Dr,"auto","initial","none",$t]}],grow:[{grow:["",fe,Ut,$t]}],shrink:[{shrink:["",fe,Ut,$t]}],order:[{order:[ar,"first","last","none",Ut,$t]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...k(),"normal"]}],"justify-self":[{"justify-self":["auto",...k()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...k(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...k(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...k(),"baseline"]}],"place-self":[{"place-self":["auto",...k()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:y()}],mx:[{mx:y()}],my:[{my:y()}],ms:[{ms:y()}],me:[{me:y()}],mt:[{mt:y()}],mr:[{mr:y()}],mb:[{mb:y()}],ml:[{ml:y()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:w()}],w:[{w:[a,"screen",...w()]}],"min-w":[{"min-w":[a,"screen","none",...w()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...w()]}],h:[{h:["screen","lh",...w()]}],"min-h":[{"min-h":["screen","lh","none",...w()]}],"max-h":[{"max-h":["screen","lh",...w()]}],"font-size":[{text:["base",t,Jr,yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[h,Ut,si]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ni,$t]}],"font-family":[{font:[lf,$t,E]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[m,Ut,$t]}],"line-clamp":[{"line-clamp":[fe,"none",Ut,si]}],leading:[{leading:[l,...N()]}],"list-image":[{"list-image":["none",Ut,$t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ut,$t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:v()}],"text-color":[{text:v()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[fe,"from-font","auto",Ut,yr]}],"text-decoration-color":[{decoration:v()}],"underline-offset":[{"underline-offset":[fe,"auto",Ut,$t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut,$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut,$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ar,Ut,$t],radial:["",Ut,$t],conic:[ar,Ut,$t]},uf,af]}],"bg-color":[{bg:v()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:v()}],"gradient-via":[{via:v()}],"gradient-to":[{to:v()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:v()}],"border-color-x":[{"border-x":v()}],"border-color-y":[{"border-y":v()}],"border-color-s":[{"border-s":v()}],"border-color-e":[{"border-e":v()}],"border-color-t":[{"border-t":v()}],"border-color-r":[{"border-r":v()}],"border-color-b":[{"border-b":v()}],"border-color-l":[{"border-l":v()}],"divide-color":[{divide:v()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[fe,Ut,$t]}],"outline-w":[{outline:["",fe,Jr,yr]}],"outline-color":[{outline:v()}],shadow:[{shadow:["","none",r,$n,Hn]}],"shadow-color":[{shadow:v()}],"inset-shadow":[{"inset-shadow":["none",c,$n,Hn]}],"inset-shadow-color":[{"inset-shadow":v()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:v()}],"ring-offset-w":[{"ring-offset":[fe,yr]}],"ring-offset-color":[{"ring-offset":v()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":v()}],"text-shadow":[{"text-shadow":["none",s,$n,Hn]}],"text-shadow-color":[{"text-shadow":v()}],opacity:[{opacity:[fe,Ut,$t]}],"mix-blend":[{"mix-blend":[...P(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":P()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":v()}],"mask-image-linear-to-color":[{"mask-linear-to":v()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":v()}],"mask-image-t-to-color":[{"mask-t-to":v()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":v()}],"mask-image-r-to-color":[{"mask-r-to":v()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":v()}],"mask-image-b-to-color":[{"mask-b-to":v()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":v()}],"mask-image-l-to-color":[{"mask-l-to":v()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":v()}],"mask-image-x-to-color":[{"mask-x-to":v()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":v()}],"mask-image-y-to-color":[{"mask-y-to":v()}],"mask-image-radial":[{"mask-radial":[Ut,$t]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":v()}],"mask-image-radial-to-color":[{"mask-radial-to":v()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":v()}],"mask-image-conic-to-color":[{"mask-conic-to":v()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ut,$t]}],filter:[{filter:["","none",Ut,$t]}],blur:[{blur:I()}],brightness:[{brightness:[fe,Ut,$t]}],contrast:[{contrast:[fe,Ut,$t]}],"drop-shadow":[{"drop-shadow":["","none",o,$n,Hn]}],"drop-shadow-color":[{"drop-shadow":v()}],grayscale:[{grayscale:["",fe,Ut,$t]}],"hue-rotate":[{"hue-rotate":[fe,Ut,$t]}],invert:[{invert:["",fe,Ut,$t]}],saturate:[{saturate:[fe,Ut,$t]}],sepia:[{sepia:["",fe,Ut,$t]}],"backdrop-filter":[{"backdrop-filter":["","none",Ut,$t]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[fe,Ut,$t]}],"backdrop-contrast":[{"backdrop-contrast":[fe,Ut,$t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",fe,Ut,$t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[fe,Ut,$t]}],"backdrop-invert":[{"backdrop-invert":["",fe,Ut,$t]}],"backdrop-opacity":[{"backdrop-opacity":[fe,Ut,$t]}],"backdrop-saturate":[{"backdrop-saturate":[fe,Ut,$t]}],"backdrop-sepia":[{"backdrop-sepia":["",fe,Ut,$t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ut,$t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[fe,"initial",Ut,$t]}],ease:[{ease:["linear","initial",g,Ut,$t]}],delay:[{delay:[fe,Ut,$t]}],animate:[{animate:["none",p,Ut,$t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,Ut,$t]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:A()}],"rotate-x":[{"rotate-x":A()}],"rotate-y":[{"rotate-y":A()}],"rotate-z":[{"rotate-z":A()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:X()}],"skew-x":[{"skew-x":X()}],"skew-y":[{"skew-y":X()}],transform:[{transform:[Ut,$t,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:J()}],"translate-x":[{"translate-x":J()}],"translate-y":[{"translate-y":J()}],"translate-z":[{"translate-z":J()}],"translate-none":["translate-none"],accent:[{accent:v()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:v()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut,$t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut,$t]}],fill:[{fill:["none",...v()]}],"stroke-w":[{stroke:[fe,Jr,yr,si]}],stroke:[{stroke:["none",...v()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function Ir(...b){return hf(Ed(b))}const ua=({itemName:b,title:E="삭제 확인",description:t="이 작업은 되돌릴 수 없습니다",onConfirm:h,onCancel:m})=>{const[l,i]=Z.useState(!1);return He.createPortal(U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"fixed inset-0 z-60 bg-black/50 transition-opacity",onClick:m}),U.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center p-4",children:U.jsxs("div",{className:"w-[400px] rounded-xl shadow-2xl",style:{backgroundColor:"var(--gantt-bg-primary)",border:"1px solid var(--gantt-border)"},onClick:a=>a.stopPropagation(),children:[U.jsx("div",{className:"px-5 py-4",style:{borderBottom:"1px solid var(--gantt-border-light)"},children:U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100",children:U.jsx("svg",{className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-base font-bold",style:{color:"var(--gantt-text-primary)"},children:E}),U.jsx("p",{className:"text-sm",style:{color:"var(--gantt-text-muted)"},children:t})]})]})}),U.jsx("div",{className:"px-5 py-4",children:U.jsxs("div",{className:"rounded-lg bg-red-50 p-4",children:[U.jsx("p",{className:"text-sm mb-2",style:{color:"var(--gantt-text-secondary)"},children:"다음 항목을 삭제하시겠습니까?"}),U.jsxs("p",{className:"flex items-center gap-2 text-sm font-semibold",style:{color:"var(--gantt-text-primary)"},children:[U.jsx("span",{className:"h-2 w-2 rounded-full bg-red-500"}),b]})]})}),U.jsxs("div",{className:"flex justify-end gap-3 px-5 py-4 rounded-b-xl",style:{borderTop:"1px solid var(--gantt-border-light)",backgroundColor:"var(--gantt-bg-secondary)"},children:[U.jsx("button",{onClick:m,className:Ir("rounded-lg px-4 py-2.5 text-sm font-medium transition-colors",l&&"gantt-bg-hover"),style:{color:"var(--gantt-text-secondary)"},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:"취소"}),U.jsx("button",{onClick:h,className:"rounded-lg bg-red-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-red-700 transition-colors shadow-sm",children:"삭제"})]})]})})]}),document.body)};ua.displayName="DeleteConfirmModal";const Un=({label:b,checked:E,onChange:t,disabled:h=!1})=>{const[m,l]=Z.useState(!1);return U.jsxs("label",{className:Ir("flex cursor-pointer items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors",h&&"opacity-50 cursor-not-allowed"),style:{color:"var(--gantt-text-secondary)",backgroundColor:m&&!h?"var(--gantt-bg-hover)":"transparent"},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[U.jsx("input",{type:"checkbox",checked:E,onChange:i=>!h&&t(i.target.checked),disabled:h,className:"h-4 w-4 rounded text-blue-600 focus:ring-blue-500",style:{borderColor:"var(--gantt-border)"}}),U.jsx("span",{className:"font-medium",children:b})]})};Un.displayName="WorkDayCheckbox";const da="w-full rounded-md border px-3 py-2 text-sm",pf="focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",mf="focus:border-red-500 focus:outline-none focus:ring-2 focus:ring-red-500/20",fa={backgroundColor:"var(--gantt-bg-primary)",borderColor:"var(--gantt-border)",color:"var(--gantt-text-secondary)"},Vn=({label:b,daysValue:E,nameValue:t="",onDaysChange:h,onNameChange:m,onKeyDown:l,onNumberChange:i,daysInputRef:a,color:n="blue",showNameInput:e=!0})=>{const r=n==="red"?mf:pf,c=n==="red"?"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";return U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("span",{className:Ir("w-20 shrink-0 rounded-md px-2 py-1.5 text-xs font-semibold text-center",c),children:b}),U.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[U.jsxs("div",{className:"relative",children:[U.jsx("input",{ref:a,type:"text",inputMode:"decimal",value:E,onChange:s=>i(h,s.target.value),onKeyDown:l,placeholder:"0",className:Ir(da,r,"w-20 text-center pr-6"),style:fa}),U.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs",style:{color:"var(--gantt-text-muted)"},children:"일"})]}),e&&m&&U.jsx("input",{type:"text",value:t,onChange:s=>m(s.target.value),onKeyDown:l,placeholder:"작업명 (선택사항)",className:Ir("flex-1",da,r),style:fa})]})]})};Vn.displayName="CompactInputRow";const gf="w-full rounded-md border px-3 py-2 text-sm",bf="focus:border-green-500 focus:outline-none focus:ring-2 focus:ring-green-500/20",yf={backgroundColor:"var(--gantt-bg-primary)",borderColor:"var(--gantt-border)",color:"var(--gantt-text-secondary)"},ii={backgroundColor:"var(--gantt-bg-secondary)",borderRadius:"0.5rem",padding:"1rem"},oi={fontSize:"0.75rem",fontWeight:600,color:"var(--gantt-text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.75rem"},ha=({task:b,isOpen:E,onClose:t,onSave:h,onDelete:m})=>{const[l,i]=Z.useState("0"),[a,n]=Z.useState("1"),[e,r]=Z.useState("0"),[c,s]=Z.useState(""),[o,d]=Z.useState(""),[f,u]=Z.useState(!1),[g,p]=Z.useState(!1),[x,S]=Z.useState(!1),[M,R]=Z.useState(!1),[B,N]=Z.useState(!1),[L,F]=Z.useState(""),$=Z.useRef(null),W=V=>{const q=parseFloat(V)||0;return Math.round(q*2)/2},C=W(l),D=W(a),k=W(e);Z.useEffect(()=>{b&&b.task&&E&&(i(String(b.task.indirectWorkDaysPre)),n(String(b.task.netWorkDays)),r(String(b.task.indirectWorkDaysPost)),s(b.task.indirectWorkNamePre||""),d(b.task.indirectWorkNamePost||""),u(b.task.workOnSaturdays===!1),p(b.task.workOnSundays===!0),S(b.task.workOnHolidays===!0),F(Se(b.startDate,"yyyy-MM-dd")),R(!1),setTimeout(()=>{var V;(V=$.current)==null||V.focus()},100))},[b==null?void 0:b.id,E]),Z.useEffect(()=>{const V=q=>{q.key==="Escape"&&E&&(M?R(!1):t())};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[E,M,t]);const y=Z.useMemo(()=>{if(!b||!b.task||!E)return!1;const V=W(l),q=W(a),P=W(e);return V!==b.task.indirectWorkDaysPre||q!==b.task.netWorkDays||P!==b.task.indirectWorkDaysPost||c!==(b.task.indirectWorkNamePre||"")||o!==(b.task.indirectWorkNamePost||"")||f!==(b.task.workOnSaturdays===!1)||g!==(b.task.workOnSundays===!0)||x!==(b.task.workOnHolidays===!0)||L!==Se(b.startDate,"yyyy-MM-dd")},[b,E,l,a,e,c,o,f,g,x,L]),w=async()=>{if(!b||!b.task||B)return;const V=L?new Date(L+"T00:00:00"):b.startDate,q={...b.task,indirectWorkDaysPre:C,netWorkDays:D,indirectWorkDaysPost:k,indirectWorkNamePre:c.trim()||void 0,indirectWorkNamePost:o.trim()||void 0,workOnSaturdays:f?!1:void 0,workOnSundays:g?!0:void 0,workOnHolidays:x?!0:void 0},P={...b,startDate:V,task:q};N(!0);try{await h(P)}catch(G){console.error("[TaskEditModal] Save failed:",G)}finally{N(!1)}},v=async()=>{if(!(!b||!m||B)){N(!0);try{await m(b.id),R(!1),t()}catch(V){console.error("[TaskEditModal] Delete failed:",V),R(!1)}finally{N(!1)}}},_=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),w())},T=(V,q)=>{const P=q.replace(/[^0-9.]/g,""),G=P.split("."),I=G.length>2?G[0]+"."+G.slice(1).join(""):P;V(I)},[j,O]=Z.useState(!1);if(!E||!b||!b.task)return null;const z=C+D+k;return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 transition-opacity",onClick:t}),U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:U.jsxs("div",{className:"w-full max-w-lg rounded-xl shadow-2xl",style:{backgroundColor:"var(--gantt-bg-primary)",border:"1px solid var(--gantt-border)"},onClick:V=>V.stopPropagation(),children:[U.jsxs("div",{className:"flex items-center justify-between px-5 py-4",style:{borderBottom:"1px solid var(--gantt-border-light)"},children:[U.jsxs("div",{children:[U.jsx("h2",{className:"text-base font-bold",style:{color:"var(--gantt-text-primary)"},children:"공정 설정"}),U.jsx("p",{className:"text-sm mt-0.5",style:{color:"var(--gantt-text-muted)"},children:b.name})]}),U.jsx("button",{onClick:t,className:"rounded-lg p-2 transition-colors",style:{color:"var(--gantt-text-muted)",backgroundColor:j?"var(--gantt-bg-hover)":"transparent"},onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:U.jsx(Sn,{size:20})})]}),U.jsxs("div",{className:"p-5 space-y-5",children:[U.jsxs("div",{style:ii,children:[U.jsx("h3",{style:oi,children:"📅 시작일"}),U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("input",{type:"date",value:L,onChange:V=>F(V.target.value),onKeyDown:_,className:`${gf} ${bf} w-44`,style:yf}),U.jsx("span",{className:"text-xs",style:{color:"var(--gantt-text-muted)"},children:"→ 종료일 자동 계산"})]})]}),U.jsxs("div",{style:ii,children:[U.jsx("h3",{style:oi,children:"⏱️ 작업 기간"}),U.jsxs("div",{className:"space-y-3",children:[U.jsx(Vn,{label:"앞 간접",daysValue:l,nameValue:c,onDaysChange:i,onNameChange:s,onKeyDown:_,onNumberChange:T,daysInputRef:$,color:"blue"}),U.jsx(Vn,{label:"순작업",daysValue:a,onDaysChange:n,onKeyDown:_,onNumberChange:T,color:"red",showNameInput:!1}),U.jsx(Vn,{label:"뒤 간접",daysValue:e,nameValue:o,onDaysChange:r,onNameChange:d,onKeyDown:_,onNumberChange:T,color:"blue"})]})]}),U.jsxs("div",{style:ii,children:[U.jsx("h3",{style:oi,children:"📆 작업일 설정"}),U.jsxs("div",{className:"flex flex-wrap gap-1 -mx-1",children:[U.jsx(Un,{label:"토요일 휴무",checked:f,onChange:u}),U.jsx(Un,{label:"일요일 작업",checked:g,onChange:p}),U.jsx(Un,{label:"공휴일 작업",checked:x,onChange:S})]})]}),U.jsxs("div",{className:"flex items-center justify-between rounded-lg px-4 py-3",style:{backgroundColor:"var(--gantt-bg-tertiary)",border:"1px solid var(--gantt-border)"},children:[U.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--gantt-text-secondary)"},children:[U.jsx("span",{className:"font-medium text-blue-600",children:C}),U.jsx("span",{style:{color:"var(--gantt-text-muted)"},children:"+"}),U.jsx("span",{className:"font-medium text-red-600",children:D}),U.jsx("span",{style:{color:"var(--gantt-text-muted)"},children:"+"}),U.jsx("span",{className:"font-medium text-blue-600",children:k})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("span",{className:"text-sm",style:{color:"var(--gantt-text-muted)"},children:"="}),U.jsxs("span",{className:"text-lg font-bold",style:{color:"var(--gantt-text-primary)"},children:[z,"일"]})]})]})]}),U.jsxs("div",{className:"flex justify-between items-center px-5 py-4 rounded-b-xl",style:{borderTop:"1px solid var(--gantt-border-light)",backgroundColor:"var(--gantt-bg-secondary)"},children:[U.jsx("div",{children:m&&U.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-1.5 rounded-lg px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[U.jsx(ao,{size:16}),"삭제"]})}),U.jsx("button",{onClick:y?w:t,className:`rounded-lg px-5 py-2.5 text-sm font-semibold transition-all shadow-sm ${y?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200":"bg-gray-600 text-white hover:bg-gray-700"}`,children:y?"저장":"닫기"})]})]})}),M&&U.jsx(ua,{itemName:b.name,title:"공정 삭제",onConfirm:v,onCancel:()=>R(!1)})]})};function Nr(b,E,t){let h=t.initialDeps??[],m;function l(){var i,a,n,e;let r;t.key&&((i=t.debug)!=null&&i.call(t))&&(r=Date.now());const c=b();if(!(c.length!==h.length||c.some((d,f)=>h[f]!==d)))return m;h=c;let o;if(t.key&&((a=t.debug)!=null&&a.call(t))&&(o=Date.now()),m=E(...c),t.key&&((n=t.debug)!=null&&n.call(t))){const d=Math.round((Date.now()-r)*100)/100,f=Math.round((Date.now()-o)*100)/100,u=f/16,g=(p,x)=>{for(p=String(p);p.length<x;)p=" "+p;return p};console.info(`%c⏱ ${g(f,5)} /${g(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*u,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(e=t==null?void 0:t.onChange)==null||e.call(t,m),m}return l.updateDeps=i=>{h=i},l}function pa(b,E){if(b===void 0)throw new Error("Unexpected undefined");return b}const vf=(b,E)=>Math.abs(b-E)<1.01,wf=(b,E,t)=>{let h;return function(...m){b.clearTimeout(h),h=b.setTimeout(()=>E.apply(this,m),t)}},ma=b=>{const{offsetWidth:E,offsetHeight:t}=b;return{width:E,height:t}},xf=b=>b,_f=b=>{const E=Math.max(b.startIndex-b.overscan,0),t=Math.min(b.endIndex+b.overscan,b.count-1),h=[];for(let m=E;m<=t;m++)h.push(m);return h},kf=(b,E)=>{const t=b.scrollElement;if(!t)return;const h=b.targetWindow;if(!h)return;const m=i=>{const{width:a,height:n}=i;E({width:Math.round(a),height:Math.round(n)})};if(m(ma(t)),!h.ResizeObserver)return()=>{};const l=new h.ResizeObserver(i=>{const a=()=>{const n=i[0];if(n!=null&&n.borderBoxSize){const e=n.borderBoxSize[0];if(e){m({width:e.inlineSize,height:e.blockSize});return}}m(ma(t))};b.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return l.observe(t,{box:"border-box"}),()=>{l.unobserve(t)}},ga={passive:!0},ba=typeof window>"u"?!0:"onscrollend"in window,Sf=(b,E)=>{const t=b.scrollElement;if(!t)return;const h=b.targetWindow;if(!h)return;let m=0;const l=b.options.useScrollendEvent&&ba?()=>{}:wf(h,()=>{E(m,!1)},b.options.isScrollingResetDelay),i=r=>()=>{const{horizontal:c,isRtl:s}=b.options;m=c?t.scrollLeft*(s&&-1||1):t.scrollTop,l(),E(m,r)},a=i(!0),n=i(!1);n(),t.addEventListener("scroll",a,ga);const e=b.options.useScrollendEvent&&ba;return e&&t.addEventListener("scrollend",n,ga),()=>{t.removeEventListener("scroll",a),e&&t.removeEventListener("scrollend",n)}},Ef=(b,E,t)=>{if(E!=null&&E.borderBoxSize){const h=E.borderBoxSize[0];if(h)return Math.round(h[t.options.horizontal?"inlineSize":"blockSize"])}return b[t.options.horizontal?"offsetWidth":"offsetHeight"]},Cf=(b,{adjustments:E=0,behavior:t},h)=>{var m,l;const i=b+E;(l=(m=h.scrollElement)==null?void 0:m.scrollTo)==null||l.call(m,{[h.options.horizontal?"left":"top"]:i,behavior:t})};class Tf{constructor(E){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const h=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(m=>{m.forEach(l=>{const i=()=>{this._measureElement(l.target,l)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var m;(m=h())==null||m.disconnect(),t=null},observe:m=>{var l;return(l=h())==null?void 0:l.observe(m,{box:"border-box"})},unobserve:m=>{var l;return(l=h())==null?void 0:l.unobserve(m)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([h,m])=>{typeof m>"u"&&delete t[h]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:xf,rangeExtractor:_f,onChange:()=>{},measureElement:Ef,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var h,m;(m=(h=this.options).onChange)==null||m.call(h,this,t)},this.maybeNotify=Nr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:process.env.NODE_ENV!=="production"&&"maybeNotify",debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const h=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==h){if(this.cleanup(),!h){this.maybeNotify();return}this.scrollElement=h,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(m=>{this.observer.observe(m)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,m=>{this.scrollRect=m,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(m,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<m?"forward":"backward":null,this.scrollOffset=m,this.isScrolling=l,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,h)=>{const m=new Map,l=new Map;for(let i=h-1;i>=0;i--){const a=t[i];if(m.has(a.lane))continue;const n=l.get(a.lane);if(n==null||a.end>n.end?l.set(a.lane,a):a.end<n.end&&m.set(a.lane,!0),m.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((i,a)=>i.end===a.end?i.index-a.index:i.end-a.end)[0]:void 0},this.getMeasurementOptions=Nr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,h,m,l,i)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:h,scrollMargin:m,getItemKey:l,enabled:i}),{key:!1}),this.getMeasurements=Nr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:h,scrollMargin:m,getItemKey:l,enabled:i},a)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(r=>{this.itemSizeCache.set(r.key,r.size)}));const n=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const e=this.measurementsCache.slice(0,n);for(let r=n;r<t;r++){const c=l(r),s=this.options.lanes===1?e[r-1]:this.getFurthestMeasurement(e,r),o=s?s.end+this.options.gap:h+m,d=a.get(c),f=typeof d=="number"?d:this.options.estimateSize(r),u=o+f,g=s?s.lane:r%this.options.lanes;e[r]={index:r,start:o,size:f,end:u,key:c,lane:g}}return this.measurementsCache=e,e},{key:process.env.NODE_ENV!=="production"&&"getMeasurements",debug:()=>this.options.debug}),this.calculateRange=Nr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,h,m,l)=>this.range=t.length>0&&h>0?Mf({measurements:t,outerSize:h,scrollOffset:m,lanes:l}):null,{key:process.env.NODE_ENV!=="production"&&"calculateRange",debug:()=>this.options.debug}),this.getVirtualIndexes=Nr(()=>{let t=null,h=null;const m=this.calculateRange();return m&&(t=m.startIndex,h=m.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,h]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,h]},(t,h,m,l,i)=>l===null||i===null?[]:t({startIndex:l,endIndex:i,overscan:h,count:m}),{key:process.env.NODE_ENV!=="production"&&"getVirtualIndexes",debug:()=>this.options.debug}),this.indexFromElement=t=>{const h=this.options.indexAttribute,m=t.getAttribute(h);return m?parseInt(m,10):(console.warn(`Missing attribute name '${h}={index}' on measured element.`),-1)},this._measureElement=(t,h)=>{const m=this.indexFromElement(t),l=this.measurementsCache[m];if(!l)return;const i=l.key,a=this.elementsCache.get(i);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.elementsCache.set(i,t)),t.isConnected&&this.resizeItem(m,this.options.measureElement(t,h,this))},this.resizeItem=(t,h)=>{const m=this.measurementsCache[t];if(!m)return;const l=this.itemSizeCache.get(m.key)??m.size,i=h-l;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(m,i,this):m.start<this.getScrollOffset()+this.scrollAdjustments)&&(process.env.NODE_ENV!=="production"&&this.options.debug&&console.info("correction",i),this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0})),this.pendingMeasuredCacheIndexes.push(m.index),this.itemSizeCache=new Map(this.itemSizeCache.set(m.key,h)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((h,m)=>{h.isConnected||(this.observer.unobserve(h),this.elementsCache.delete(m))});return}this._measureElement(t,void 0)},this.getVirtualItems=Nr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,h)=>{const m=[];for(let l=0,i=t.length;l<i;l++){const a=t[l],n=h[a];m.push(n)}return m},{key:process.env.NODE_ENV!=="production"&&"getVirtualItems",debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const h=this.getMeasurements();if(h.length!==0)return pa(h[ya(0,h.length-1,m=>pa(h[m]).start,t)])},this.getOffsetForAlignment=(t,h,m=0)=>{const l=this.getSize(),i=this.getScrollOffset();h==="auto"&&(h=t>=i+l?"end":"start"),h==="center"?t+=(m-l)/2:h==="end"&&(t-=l);const a=this.getTotalSize()+this.options.scrollMargin-l;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,h="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const m=this.measurementsCache[t];if(!m)return;const l=this.getSize(),i=this.getScrollOffset();if(h==="auto")if(m.end>=i+l-this.options.scrollPaddingEnd)h="end";else if(m.start<=i+this.options.scrollPaddingStart)h="start";else return[i,h];const a=h==="end"?m.end+this.options.scrollPaddingEnd:m.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,h,m.size),h]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:h="start",behavior:m}={})=>{m==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,h),{adjustments:void 0,behavior:m})},this.scrollToIndex=(t,{align:h="auto",behavior:m}={})=>{m==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let l=0;const i=10,a=e=>{if(!this.targetWindow)return;const r=this.getOffsetForIndex(t,e);if(!r){console.warn("Failed to get offset for index:",t);return}const[c,s]=r;this._scrollToOffset(c,{adjustments:void 0,behavior:m}),this.targetWindow.requestAnimationFrame(()=>{const o=this.getScrollOffset(),d=this.getOffsetForIndex(t,s);if(!d){console.warn("Failed to get offset for index:",t);return}vf(d[0],o)||n(s)})},n=e=>{this.targetWindow&&(l++,l<i?(process.env.NODE_ENV!=="production"&&this.options.debug&&console.info("Schedule retry",l,i),this.targetWindow.requestAnimationFrame(()=>a(e))):console.warn(`Failed to scroll to index ${t} after ${i} attempts.`))};a(h)},this.scrollBy=(t,{behavior:h}={})=>{h==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:h})},this.getTotalSize=()=>{var t;const h=this.getMeasurements();let m;if(h.length===0)m=this.options.paddingStart;else if(this.options.lanes===1)m=((t=h[h.length-1])==null?void 0:t.end)??0;else{const l=Array(this.options.lanes).fill(null);let i=h.length-1;for(;i>=0&&l.some(a=>a===null);){const a=h[i];l[a.lane]===null&&(l[a.lane]=a.end),i--}m=Math.max(...l.filter(a=>a!==null))}return Math.max(m-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:h,behavior:m})=>{this.options.scrollToFn(t,{behavior:m,adjustments:h},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(E)}}const ya=(b,E,t,h)=>{for(;b<=E;){const m=(b+E)/2|0,l=t(m);if(l<h)b=m+1;else if(l>h)E=m-1;else return m}return b>0?b-1:0};function Mf({measurements:b,outerSize:E,scrollOffset:t,lanes:h}){const m=b.length-1,l=n=>b[n].start;if(b.length<=h)return{startIndex:0,endIndex:m};let i=ya(0,m,l,t),a=i;if(h===1)for(;a<m&&b[a].end<t+E;)a++;else if(h>1){const n=Array(h).fill(0);for(;a<m&&n.some(r=>r<t+E);){const r=b[a];n[r.lane]=r.end,a++}const e=Array(h).fill(t+E);for(;i>=0&&e.some(r=>r>=t);){const r=b[i];e[r.lane]=r.start,i--}i=Math.max(0,i-i%h),a=Math.min(m,a+(h-1-a%h))}return{startIndex:i,endIndex:a}}const va=typeof document<"u"?bn.useLayoutEffect:bn.useEffect;function Df(b){const E=bn.useReducer(()=>({}),{})[1],t={...b,onChange:(m,l)=>{var i;l?He.flushSync(E):E(),(i=b.onChange)==null||i.call(b,m,l)}},[h]=bn.useState(()=>new Tf(t));return h.setOptions(t),va(()=>h._didMount(),[]),va(()=>h._willUpdate()),h}function Af(b){return Df({observeElementRect:kf,observeElementOffset:Sf,scrollToFn:Cf,...b})}const{ROW_HEIGHT:Gn,ROW_HEIGHT_COMPACT:jf,GROUP_ROW_HEIGHT_COMPACT:If}=he;function wa({containerRef:b,count:E,rowHeight:t=Gn,overscan:h=5,paddingEnd:m=50,tasks:l,allTasks:i}){const a=Z.useMemo(()=>{const o=i||l;return o?new Map(o.map(d=>[d.id,d])):new Map},[i,l]),n=t===jf,e=Z.useCallback(o=>{if(!l||!l[o])return t;const d=l[o];if(d.type==="CP")return Gn;if(d.type==="GROUP"){const f=d.parentId?a.get(d.parentId):null;return!f||f.type!=="CP"?Gn:n?If:Gn}return t},[l,t,a,n]),r=Af({count:E,getScrollElement:()=>b.current,estimateSize:e,overscan:h,paddingEnd:m});Z.useEffect(()=>{r.measure()},[t,r]);const c=r.getVirtualItems();return{virtualRows:Z.useMemo(()=>c.map(o=>({index:o.index,start:o.start,size:o.size,key:o.index})),[c]),totalHeight:r.getTotalSize(),virtualizer:r}}function Nf({scrollContainerRef:b,virtualizer:E,visibleTasks:t,allTasks:h,minDate:m,pixelsPerDay:l,sidebarWidth:i}){const a=Z.useCallback((s,o)=>{if(!E)return;const d=t.findIndex(f=>f.id===s);d!==-1&&E.scrollToIndex(d,{align:(o==null?void 0:o.align)??"center",behavior:(o==null?void 0:o.behavior)??"smooth"})},[t,E]),n=Z.useCallback((s,o)=>{const d=b.current;if(!d)return;let f=s.startDate,u=s.endDate;if(s.type==="GROUP"&&h){const N=Mn(s.id,h);N&&(f=N.startDate,u=N.endDate)}const g=f.getTime()+(u.getTime()-f.getTime())/2,p=new Date(g),x=Be(p,m,l),M=d.clientWidth-i-4,R=(o==null?void 0:o.align)??"center";let B;R==="center"?B=x-M/2:R==="start"?B=x-50:B=x-M+50,d.scrollTo({left:Math.max(0,B),behavior:(o==null?void 0:o.behavior)??"smooth"})},[b,m,l,i,h]),e=Z.useCallback((s,o)=>{const d=t.find(f=>f.id===s);d&&(a(s,o),requestAnimationFrame(()=>{n(d,o)}))},[t,a,n]),r=Z.useCallback((s,o="center")=>{const d=b.current;if(!d)return;const f=Be(s,m,l),g=d.clientWidth-i-4;let p;o==="center"?p=f-g/2:p=f-Math.min(200,Math.max(80,g*.15)),d.scrollTo({left:Math.max(0,p),behavior:"smooth"})},[b,m,l,i]),c=Z.useCallback(()=>{if(t.length===0)return;const s=t[0];e(s.id,{behavior:"auto"})},[t,e]);return{scrollToTask:a,scrollToTaskDate:n,focusTask:e,scrollToDate:r,scrollToFirstTask:c}}function Of({visibleTasks:b,viewMode:E,onViewChange:t,focusTask:h,onTaskEdit:m,enabled:l=!0}){const{selectedTaskIds:i,focusedTaskId:a,moveFocus:n,clearSelection:e,selectTask:r}=Xr(),{expandedTaskIds:c,toggleTask:s}=Rs();Z.useEffect(()=>{a&&l&&h(a)},[a,h,l]);const o=Z.useCallback(d=>{if(!l)return;const f=d.target;if(!(f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable))switch(d.key){case"ArrowUp":d.preventDefault(),n("up",b);break;case"ArrowDown":d.preventDefault(),n("down",b);break;case"ArrowLeft":if(a){const u=b.find(g=>g.id===a);u&&(u.type==="CP"||u.type==="GROUP")&&(b.some(p=>p.parentId===u.id)||c.has(u.id))&&c.has(u.id)&&(d.preventDefault(),s(u.id))}break;case"ArrowRight":if(a){const u=b.find(g=>g.id===a);u&&(u.type==="CP"||u.type==="GROUP")&&(c.has(u.id)||(d.preventDefault(),s(u.id)))}break;case"Enter":if(d.preventDefault(),a){const u=b.find(g=>g.id===a);u&&(E==="MASTER"&&u.wbsLevel===1?t("DETAIL",u.id):m&&m(u))}break;case"Escape":d.preventDefault(),e();break;case"Backspace":E==="DETAIL"&&(d.preventDefault(),t("MASTER"));break;case"Home":d.preventDefault(),b.length>0&&r(b[0].id,{visibleTasks:b});break;case"End":d.preventDefault(),b.length>0&&r(b[b.length-1].id,{visibleTasks:b});break}},[l,b,E,a,n,e,t,m,r,c,s]);return Z.useEffect(()=>(document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)),[o]),{focusedTaskId:a,selectedTaskIds:i}}const Qr="flex items-center gap-1 rounded px-2.5 py-1 text-xs font-medium transition-colors",tn={backgroundColor:"var(--gantt-bg-tertiary)",color:"var(--gantt-text-secondary)"},en={onMouseEnter:b=>{b.currentTarget.style.backgroundColor="var(--gantt-bg-hover)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="var(--gantt-bg-tertiary)"}},ai="flex rounded-md p-0.5",rn="rounded px-2.5 py-1 text-xs font-medium transition-colors",nn="flex items-center gap-1.5 rounded px-3 py-1.5 text-xs font-medium transition-colors",li={onMouseEnter:b=>{b.currentTarget.style.filter="brightness(1.1)"},onMouseLeave:b=>{b.currentTarget.style.filter="brightness(1)"}},Rf=({viewMode:b,zoomLevel:E,isAddingTask:t,isAddingCP:h,hasUnsavedChanges:m,saveStatus:l,isCompactMode:i,onViewChange:a,onZoomChange:n,onToggleCompact:e,onStartAddTask:r,onStartAddCP:c,onStartAddMilestone:s,onScrollToFirst:o,onCollapseAll:d,onExpandAll:f,onSave:u,onReset:g,onExport:p,onExportExcel:x,onImport:S,loadedFileName:M,canCreateTask:R,canCreateMilestone:B})=>{const[N,L]=Z.useState(!1),F=Z.useRef(null);Z.useEffect(()=>{const C=D=>{F.current&&!F.current.contains(D.target)&&L(!1)};return N&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[N]);const $=Z.useCallback(()=>L(!1),[]),W=Z.useMemo(()=>{const C=[];return(b==="MASTER"||b==="UNIFIED")&&R&&c&&!h&&C.push({label:"CP 추가",onClick:()=>{c(),$()},color:"var(--gantt-focus)"}),(b==="DETAIL"||b==="UNIFIED")&&R&&r&&!t&&C.push({label:"Task 추가",onClick:()=>{r(),$()},color:"var(--gantt-focus)"}),(b==="MASTER"||b==="UNIFIED")&&B&&s&&C.push({label:"마일스톤 추가",onClick:()=>{s(),$()},color:"var(--gantt-milestone-detail)"}),C},[b,R,B,h,t,c,r,s,$]);return U.jsxs("header",{className:"flex h-[60px] shrink-0 items-center justify-between px-4 shadow-sm",style:{backgroundColor:"var(--gantt-bg-primary)",borderBottom:"1px solid var(--gantt-border)"},children:[U.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[b==="DETAIL"&&U.jsx("button",{onClick:()=>a("MASTER"),className:Qr,style:tn,...en,children:"← 상위 공정표로"}),W.length>0&&U.jsxs("div",{className:"relative",ref:F,children:[U.jsxs("button",{onClick:()=>L(!N),className:Qr,style:{backgroundColor:"var(--gantt-focus)",color:"var(--gantt-text-inverse)"},children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"추가",U.jsx("svg",{className:`h-3 w-3 transition-transform ${N?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),N&&U.jsx("div",{className:"absolute left-0 top-full mt-1 min-w-[140px] rounded-md py-1 shadow-lg z-50",style:{backgroundColor:"var(--gantt-bg-primary)",border:"1px solid var(--gantt-border)"},children:W.map((C,D)=>U.jsxs("button",{onClick:C.onClick,className:"flex w-full items-center gap-2 px-3 py-2 text-xs font-medium transition-colors text-left",style:{color:"var(--gantt-text-secondary)"},onMouseEnter:k=>{k.currentTarget.style.backgroundColor="var(--gantt-bg-hover)"},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent"},children:[U.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:C.color}}),C.label]},D))})]}),h&&U.jsx("span",{className:"text-xs italic",style:{color:"var(--gantt-text-muted)"},children:"CP 추가 중... (Enter 저장 / Esc 취소)"})]}),U.jsxs("div",{className:"flex items-center gap-4",children:[b==="MASTER"&&U.jsxs("button",{onClick:()=>a("UNIFIED"),className:Qr,style:tn,...en,title:"CP와 Task를 계층형으로 통합하여 표시",children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"통합 뷰"]}),b==="UNIFIED"&&U.jsxs("button",{onClick:()=>a("MASTER"),className:Qr,style:tn,...en,title:"마스터 뷰로 전환",children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),"마스터 뷰"]}),(d||f)&&U.jsxs("div",{className:ai,style:{backgroundColor:"var(--gantt-bg-tertiary)"},children:[f&&U.jsxs("button",{onClick:f,className:`${rn} flex items-center gap-1`,style:{color:"var(--gantt-text-secondary)"},onMouseEnter:C=>{C.currentTarget.style.backgroundColor="var(--gantt-bg-hover)"},onMouseLeave:C=>{C.currentTarget.style.backgroundColor="transparent"},title:"모든 그룹 펼치기",children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),"펼치기"]}),d&&U.jsxs("button",{onClick:d,className:`${rn} flex items-center gap-1`,style:{color:"var(--gantt-text-secondary)"},onMouseEnter:C=>{C.currentTarget.style.backgroundColor="var(--gantt-bg-hover)"},onMouseLeave:C=>{C.currentTarget.style.backgroundColor="transparent"},title:"모든 그룹 접기",children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}),"접기"]})]}),U.jsx("button",{onClick:o,className:Qr,style:tn,...en,title:b==="MASTER"?"진행 중인 CP로 스크롤":b==="UNIFIED"?"진행 중인 CP/Task로 스크롤":"진행 중인 작업으로 스크롤",children:"Focusing"}),(b==="DETAIL"||b==="UNIFIED")&&e&&U.jsxs("div",{className:ai,style:{backgroundColor:"var(--gantt-bg-tertiary)"},children:[U.jsx("button",{onClick:()=>i&&e(),className:rn,style:{backgroundColor:i?"transparent":"var(--gantt-bg-primary)",color:i?"var(--gantt-text-muted)":"var(--gantt-text-primary)",boxShadow:i?"none":"0 1px 2px rgba(0,0,0,0.1)"},children:"Normal"}),U.jsx("button",{onClick:()=>!i&&e(),className:rn,style:{backgroundColor:i?"var(--gantt-bg-primary)":"transparent",color:i?"var(--gantt-text-primary)":"var(--gantt-text-muted)",boxShadow:i?"0 1px 2px rgba(0,0,0,0.1)":"none"},children:"Compact"})]}),U.jsx("div",{className:ai,style:{backgroundColor:"var(--gantt-bg-tertiary)"},children:(b==="MASTER"?["WEEK","MONTH"]:b==="UNIFIED"?["DAY","WEEK","MONTH"]:["DAY","WEEK"]).map(C=>U.jsx("button",{onClick:()=>n(C),className:rn,style:{backgroundColor:E===C?"var(--gantt-bg-primary)":"transparent",color:E===C?"var(--gantt-text-primary)":"var(--gantt-text-muted)",boxShadow:E===C?"0 1px 2px rgba(0,0,0,0.1)":"none"},children:Tr[C].label},C))}),U.jsxs("div",{className:"text-sm",style:{color:"var(--gantt-text-muted)"},children:["기준일: ",Se(new Date,"yyyy-MM-dd")]}),M&&U.jsxs("div",{className:"flex items-center gap-1.5 rounded-md px-2 py-1",style:{backgroundColor:"var(--gantt-bg-tertiary)"},title:`로딩된 파일: ${M}`,children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,style:{color:"var(--gantt-text-muted)"},children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),U.jsx("span",{className:"max-w-[150px] truncate text-xs font-medium",style:{color:"var(--gantt-text-secondary)"},children:M})]})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[u&&U.jsx("button",{onClick:u,disabled:!m||l==="saving",className:nn,style:{backgroundColor:m?"var(--gantt-focus)":"var(--gantt-bg-tertiary)",color:m?"var(--gantt-text-inverse)":"var(--gantt-text-muted)",cursor:m?"pointer":"not-allowed"},children:l==="saving"?U.jsxs(U.Fragment,{children:[U.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[U.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),U.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"저장 중..."]}):U.jsxs(U.Fragment,{children:[U.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"저장"]})}),g&&U.jsxs("button",{onClick:g,className:nn,style:tn,...en,children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"초기화"]}),(p||S||x)&&U.jsx("div",{className:"h-6 w-px",style:{backgroundColor:"var(--gantt-border)"}}),S&&U.jsxs("label",{className:`${nn} cursor-pointer`,style:{backgroundColor:"var(--gantt-milestone-detail)",color:"var(--gantt-text-inverse)"},...li,children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"가져오기",U.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:C=>{var k;const D=(k=C.target.files)==null?void 0:k[0];D&&S&&(S(D),C.target.value="")}})]}),p&&U.jsxs("button",{onClick:p,className:nn,style:{backgroundColor:"var(--gantt-success)",color:"var(--gantt-text-inverse)"},...li,title:"현재 데이터를 JSON 파일로 내보내기",children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"JSON"]}),x&&U.jsxs("button",{onClick:x,className:nn,style:{backgroundColor:"var(--gantt-excel)",color:"var(--gantt-text-inverse)"},...li,title:"현재 데이터를 Excel 파일로 내보내기 (간트 차트 형태)",children:[U.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),"Excel"]})]})]})},Pf=({tasks:b,initialView:E,initialZoomLevel:t,initialExpandedIds:h,setViewMode:m,setZoomLevel:l,expandAll:i,collapseAll:a})=>{const n=Z.useRef(!1),e=Z.useMemo(()=>b.map(c=>c.id),[b]);Z.useEffect(()=>{n.current||(n.current=!0,m(E),l(t),a(),h&&h.length>0?i(h):e.length>0&&i(e))},[e,h,E,t,m,l,i,a]);const r=Z.useRef(new Set);Z.useEffect(()=>{const c=new Set(b.map(d=>d.id)),s=r.current,o=[];b.forEach(d=>{d.type==="GROUP"&&!s.has(d.id)&&o.push(d.id)}),o.length>0&&i(o),r.current=c},[b,i])},Lf=({scrollRef:b,viewMode:E,activeCPId:t,zoomLevel:h,sidebarWidth:m,tasks:l,visibleTasks:i,milestones:a})=>{const n=Z.useCallback((c,s="left")=>{const o=b.current;if(!o)return;const d=Tr[h].pixelsPerDay,{minDate:f}=kn(l,a,60),u=Be(c,f,d),p=o.clientWidth-m-4;let x=0;s==="center"?x=p/2:x=Math.min(200,Math.max(80,p*.15)),o.scrollTo({left:Math.max(0,u-x),behavior:"smooth"})},[b,h,l,a,m]),e=Z.useCallback(()=>{if(E==="MASTER")if(a.length>0){const s=[...a].sort((o,d)=>o.date.getTime()-d.date.getTime())[0];n(s.date,"left")}else{const c=new Date;c.setHours(0,0,0,0);const s=i.filter(d=>d.type==="CP"),o=s.filter(d=>{const f=new Date(d.startDate),u=new Date(d.endDate);return f.setHours(0,0,0,0),u.setHours(0,0,0,0),f<=c&&c<=u});if(o.length>0){const d=o.reduce((f,u)=>f.startDate<u.startDate?f:u);n(d.startDate,"left")}else if(s.length>0){const d=s.reduce((f,u)=>f.startDate<u.startDate?f:u);n(d.startDate,"left")}}else if(E==="DETAIL"&&t){const c=d=>{const f=[];return l.forEach(u=>{u.parentId===d&&(f.push(u),u.type==="GROUP"&&f.push(...c(u.id)))}),f},s=c(t),o=s.filter(d=>d.type==="TASK");if(o.length>0){const d=o.reduce((f,u)=>u.startDate<f?u.startDate:f,o[0].startDate);n(d,"left")}else if(s.length>0){const d=s.reduce((f,u)=>u.startDate<f?u.startDate:f,s[0].startDate);n(d,"left")}}},[E,t,l,i,a,n]),r=Z.useRef(null);return Z.useEffect(()=>{E!=="DETAIL"&&(r.current=null)},[E]),Z.useEffect(()=>{if(E==="DETAIL"&&t&&t!==r.current){r.current=t;const c=requestAnimationFrame(()=>{const s=setTimeout(()=>{e()},he.SCROLL_DELAY_MS);return()=>clearTimeout(s)});return()=>cancelAnimationFrame(c)}},[E,t,h,e]),{scrollToDate:n,scrollToFirstTask:e}},Bf=({sidebarWidth:b,setSidebarWidth:E,viewMode:t,sidebarTotalWidth:h})=>{const[m,l]=Z.useState(!1),i=Z.useRef(!1),a=Z.useRef(null),n=Z.useRef(null);Z.useEffect(()=>()=>{a.current&&document.removeEventListener("mousemove",a.current),n.current&&document.removeEventListener("mouseup",n.current)},[]);const e=Z.useCallback(c=>{if(c.detail>=2)return;c.preventDefault(),i.current=!0,l(!0);const s=c.clientX,o=b,d=u=>{if(!i.current)return;const g=u.clientX-s,p=Math.max(he.SIDEBAR_MIN_WIDTH,Math.min(o+g,he.SIDEBAR_MAX_WIDTH));E(p)},f=()=>{i.current=!1,l(!1),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f),a.current=null,n.current=null};a.current=d,n.current=f,document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)},[b,E]),r=Z.useCallback(()=>{if(h!==null)E(h);else{const c=t==="MASTER"?he.SIDEBAR_MASTER_WIDTH:he.SIDEBAR_DETAIL_WIDTH;E(c)}},[h,E,t]);return{isResizing:m,handleResizeStart:e,handleResizeDoubleClick:r}},Ff=({viewMode:b,hasReorder:E})=>{const[t,h]=Z.useState(Ur.map(x=>x.width)),[m,l]=Z.useState(Vr.map(x=>x.width)),[i,a]=Z.useState(xn.map(x=>x.width)),[n,e]=Z.useState(null),r=Z.useRef(!1),c=Z.useMemo(()=>{switch(b){case"MASTER":return Ur;case"DETAIL":return Vr;case"UNIFIED":return xn}},[b]),s=Z.useMemo(()=>{switch(b){case"MASTER":return t;case"DETAIL":return m;case"UNIFIED":return i}},[b,t,m,i]),o=Z.useMemo(()=>{switch(b){case"MASTER":return h;case"DETAIL":return l;case"UNIFIED":return a}},[b]),d=Z.useMemo(()=>c.map((x,S)=>({...x,width:s[S]??x.width})),[c,s]),f=E?24:0,u=Z.useCallback((x,S)=>{if(x.detail>=2)return;x.preventDefault(),x.stopPropagation(),r.current=!0,e(S);const M=x.clientX,R=s[S],B=c[S].minWidth,N=F=>{if(!r.current)return;const $=F.clientX-M,W=Math.max(B,R+$);o(C=>{const D=[...C];return D[S]=W,D})},L=()=>{r.current=!1,e(null),document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",L)},[s,c,o]),g=Z.useCallback((x,S)=>{x.preventDefault(),x.stopPropagation(),r.current=!1,e(null)},[]),p=Z.useCallback((x,S)=>{o(M=>{const R=[...M];return R[x]=S,R})},[o]);return{columns:d,dragHandleWidth:f,resizingIndex:n,handleColumnResizeStart:u,handleColumnResizeDoubleClick:g,handleOptimalColumnWidth:p}},Wf=({tasks:b,viewMode:E,activeCPId:t,expandedTaskIds:h,setExpandedTaskIds:m})=>{const l=Z.useMemo(()=>new Map(b.map(c=>[c.id,c])),[b]),i=Z.useCallback(c=>{if(E==="UNIFIED"){if(c.type==="GROUP"){const d=c.parentId?l.get(c.parentId):null;return!d||d.type!=="CP"?0:2}return c.type==="CP"?1:2}if(E==="DETAIL"){let d=0,f=c.parentId;for(;f;){const u=l.get(f);if(!u||u.type==="CP")break;u.type==="GROUP"&&d++,f=u.parentId}return d}let s=0,o=c.parentId;for(;o;){const d=l.get(o);if(!d)break;d.type==="GROUP"&&s++,o=d.parentId}return s},[E,l]),a=Z.useMemo(()=>{const c=o=>E==="MASTER"?o.wbsLevel===1&&o.type==="GROUP":E==="DETAIL"?o.wbsLevel>=2&&o.type==="GROUP":o.type==="GROUP"||o.type==="CP",s=new Map;return b.filter(c).forEach(o=>{s.set(o.id,{id:o.id,depth:i(o),parentId:o.parentId})}),s},[b,E,i]),n=Z.useCallback(c=>{const s=a.get(c);return s?!s.parentId||E==="DETAIL"&&s.parentId===t?!0:h.has(s.parentId):!1},[a,E,t,h]),e=Z.useCallback(()=>{const c=[];h.forEach(f=>{const u=a.get(f);u&&c.push(u.depth)});const o=(c.length>0?Math.max(...c):-1)+1,d=[];if(a.forEach(f=>{f.depth===o&&n(f.id)&&d.push(f.id)}),d.length>0){const f=new Set([...h,...d]);m(f)}},[a,h,n,m]),r=Z.useCallback(()=>{const c=[];if(h.forEach(d=>{const f=a.get(d);f&&c.push(f.depth)}),c.length===0)return;const s=Math.max(...c),o=new Set([...h].filter(d=>{const f=a.get(d);return f?f.depth<s:!0}));m(o)},[a,h,m]);return{expandNextLevel:e,collapseLastLevel:r,getDepthForTask:i}},zf=({tasks:b,milestones:E,viewMode:t,activeCPId:h,holidays:m,calendarSettings:l,onTaskUpdate:i,onTaskCreate:a,onTaskDelete:n,onMilestoneCreate:e,onMilestoneUpdate:r,onMilestoneDelete:c,onGroupDrag:s,onViewChange:o,onError:d,setViewMode:f})=>{const[u,g]=Z.useState(null),[p,x]=Z.useState(!1),[S,M]=Z.useState(!1),[R,B]=Z.useState(null),[N,L]=Z.useState(!1),F=Z.useCallback((q,P)=>{f(q,P),o==null||o(q,P)},[f,o]),$=Z.useCallback(q=>{t==="MASTER"&&q.type==="CP"&&F("DETAIL",q.id)},[t,F]),W=Z.useCallback(q=>{g(q),M(!1),x(!0)},[]),C=Z.useCallback(()=>{const q={id:`milestone-${Date.now()}`,name:"",date:new Date,description:""};g(q),M(!0),x(!0)},[]),D=Z.useCallback(q=>{const P={id:`milestone-${Date.now()}`,name:"",date:q,description:"",milestoneType:t==="MASTER"?"MASTER":"DETAIL"};g(P),M(!0),x(!0)},[t]),k=Z.useCallback(()=>{x(!1),g(null),M(!1)},[]),y=Z.useCallback(q=>{S&&e?(e(q),M(!1)):r&&r(q)},[S,e,r]),w=Z.useCallback(q=>{c&&c(q),k()},[c,k]),v=Z.useCallback(q=>{B(q),L(!0)},[]),_=Z.useCallback(q=>{if(!h||!a)return;const P={id:`task-${Date.now()}`,parentId:h,wbsLevel:2,type:"TASK",name:"새 공정",startDate:q,endDate:q,task:{netWorkDays:1,indirectWorkDaysPre:0,indirectWorkDaysPost:0},dependencies:[]};a(P)},[h,a]),T=Z.useCallback(()=>{L(!1),B(null)},[]),j=Z.useCallback(q=>{i&&i(q)},[i]),O=Z.useCallback(q=>{n&&n(q),T()},[n,T]);Z.useEffect(()=>{if(R&&N){const q=b.find(P=>P.id===R.id);q&&B(q)}},[b]),Z.useEffect(()=>{if(u&&p){const q=E.find(P=>P.id===u.id);q&&g(q)}},[E]);const z=Z.useCallback(async q=>{if(i)try{const P=b.find(I=>I.id===q.taskId);if(!P||!P.task)return;const G={...P,startDate:q.newStartDate,endDate:q.newEndDate,task:{...P.task,indirectWorkDaysPre:q.newIndirectWorkDaysPre,indirectWorkDaysPost:q.newIndirectWorkDaysPost,netWorkDays:q.newNetWorkDays}};await i(G)}catch(P){console.error("Failed to update task:",P),d==null||d(P,{action:"bar_drag",taskId:q.taskId})}},[b,i,d]),V=Z.useCallback(async q=>{if(!(!i&&!s))try{if(s){await s(q);return}if(i)if(q.taskUpdates&&q.taskUpdates.length>0)for(const P of q.taskUpdates){const G=b.find(X=>X.id===P.taskId);if(!G)continue;const I=Le(G.endDate,G.startDate),A=qt(P.newStartDate,I),H={...G,startDate:P.newStartDate,endDate:A};await i(H)}else{const P=q.deltaDays>=0?"right":"left";for(const G of q.affectedTaskIds){const I=b.find(Y=>Y.id===G);if(!I)continue;let A=qt(I.startDate,q.deltaDays);Me(A,m,l)&&(A=ws(A,P,m,l));const H=Le(I.endDate,I.startDate),X=qt(A,H),J={...I,startDate:A,endDate:X};await i(J)}}}catch(P){console.error("Failed to update group tasks:",P),d==null||d(P,{action:"bar_drag",taskId:q.groupId,details:{affectedTaskIds:q.affectedTaskIds}})}},[b,i,s,d,m,l]);return{editingMilestone:u,isEditModalOpen:p,isNewMilestone:S,editingTask:R,isTaskEditModalOpen:N,handleViewChange:F,handleTaskClick:$,handleMilestoneDoubleClick:W,handleStartAddMilestone:C,handleContextMenuAddMilestone:D,handleCloseEditModal:k,handleMilestoneSave:y,handleMilestoneDelete:w,handleTaskDoubleClick:v,handleContextMenuAddTask:_,handleCloseTaskEditModal:T,handleTaskEditSave:j,handleTaskEditDelete:O,handleBarDrag:z,handleGroupDrag:V}},Hf={workOnSaturdays:!0,workOnSundays:!1,workOnHolidays:!1};function $f({tasks:b,milestones:E=[],holidays:t=ro,calendarSettings:h=Hf,initialView:m="MASTER",initialZoomLevel:l="MONTH",initialExpandedIds:i,onTaskUpdate:a,onTaskCreate:n,onTaskDelete:e,onTaskReorder:r,onTaskGroup:c,onTaskUngroup:s,onTaskMove:o,onGroupDrag:d,onViewChange:f,anchorDependencies:u=[],onAnchorDependencyCreate:g,onAnchorDependencyDelete:p,onAnchorDependencyDrag:x,onCycleDetected:S,onMilestoneCreate:M,onMilestoneUpdate:R,onMilestoneDelete:B,onSave:N,onReset:L,hasUnsavedChanges:F,saveStatus:$,onExport:W,onExportExcel:C,onImport:D,loadedFileName:k,onError:y,className:w,style:v}){const{viewMode:_,activeCPId:T,zoomLevel:j}=wo(),{setViewMode:O,setZoomLevel:z}=xo(),{sidebarWidth:V,setSidebarWidth:q}=_o(),{expandedTaskIds:P,toggleTask:G,expandAll:I,collapseAll:A,setExpandedTaskIds:H}=Rs(),{focusedTaskId:X}=Xr(),{isCompactMode:J,toggleCompactMode:Y}=iu(),Q=Z.useMemo(()=>Tc((_==="DETAIL"||_==="UNIFIED")&&J),[_,J]),it=Z.useRef(null),st=Z.useRef(null),K=Z.useRef(null),[et,rt]=Z.useState(!1),[at,ot]=Z.useState(!1),[ct,dt]=Z.useState(null),{columns:ft,dragHandleWidth:gt,resizingIndex:Dt,handleColumnResizeStart:Tt,handleColumnResizeDoubleClick:wt,handleOptimalColumnWidth:Lt}=Ff({viewMode:_,hasReorder:!!r}),{expandNextLevel:Wt,collapseLastLevel:zt}=Wf({tasks:b,viewMode:_,activeCPId:T,expandedTaskIds:P,setExpandedTaskIds:H}),{editingMilestone:Ht,isEditModalOpen:It,isNewMilestone:St,editingTask:Pt,isTaskEditModalOpen:Ft,handleViewChange:Bt,handleTaskClick:Qt,handleMilestoneDoubleClick:ae,handleStartAddMilestone:Vt,handleContextMenuAddMilestone:le,handleCloseEditModal:ne,handleMilestoneSave:Ct,handleMilestoneDelete:mt,handleTaskDoubleClick:ht,handleContextMenuAddTask:Nt,handleCloseTaskEditModal:_t,handleTaskEditSave:bt,handleTaskEditDelete:Et,handleBarDrag:Gt,handleGroupDrag:te}=zf({tasks:b,milestones:E,viewMode:_,activeCPId:T,holidays:t,calendarSettings:h,onTaskUpdate:a,onTaskCreate:n,onTaskDelete:e,onMilestoneCreate:M,onMilestoneUpdate:R,onMilestoneDelete:B,onGroupDrag:d,onViewChange:f,onError:y,setViewMode:O}),Mt=Z.useCallback(()=>{st.current&&K.current&&(K.current.scrollLeft=st.current.scrollLeft)},[]);Pf({tasks:b,initialView:m,initialZoomLevel:l,initialExpandedIds:i,setViewMode:O,setZoomLevel:z,expandAll:I,collapseAll:A});const nt=Z.useMemo(()=>{const ie=new Map;return b.forEach(ye=>{const ge=ye.parentId;ie.has(ge)||ie.set(ge,[]),ie.get(ge).push(ye)}),ie},[b]),lt=Z.useMemo(()=>{if(_==="MASTER"){const ie=[],ye=ge=>{(nt.get(ge)||[]).forEach(tt=>{tt.wbsLevel===1&&(ge===null||P.has(ge))&&(ie.push(tt),tt.type==="GROUP"&&ye(tt.id))})};return ye(null),ie}else if(_==="DETAIL"){const ie=[],ye=ge=>{(nt.get(ge)||[]).forEach(tt=>{tt.wbsLevel===2&&(ge===T||P.has(ge))&&(ie.push(tt),tt.type==="GROUP"&&ye(tt.id))})};return ye(T),ie}else{const ie=[],ye=ge=>{(nt.get(ge)||[]).forEach(tt=>{tt.wbsLevel===1?(ge===null||P.has(ge))&&(ie.push(tt),P.has(tt.id)&&ye(tt.id)):tt.wbsLevel===2&&(ie.push(tt),tt.type==="GROUP"&&P.has(tt.id)&&ye(tt.id))})};return ye(null),ie}},[nt,_,T,P]),{virtualRows:pt,totalHeight:At,virtualizer:Zt}=wa({containerRef:st,count:lt.length,overscan:30,rowHeight:Q.rowHeight,tasks:lt,allTasks:b}),{minDate:Ot}=Z.useMemo(()=>kn(b,E,60),[b,E]),{focusTask:ee}=Nf({scrollContainerRef:st,virtualizer:Zt,visibleTasks:lt,allTasks:b,minDate:Ot,pixelsPerDay:Tr[j].pixelsPerDay,sidebarWidth:V}),{isResizing:Kt,handleResizeStart:Yt,handleResizeDoubleClick:se}=Bf({sidebarWidth:V,setSidebarWidth:q,viewMode:_,sidebarTotalWidth:ct}),{scrollToFirstTask:re}=Lf({scrollRef:st,viewMode:_,activeCPId:T,zoomLevel:j,sidebarWidth:V,tasks:b,visibleTasks:lt,milestones:E});Of({visibleTasks:lt,viewMode:_,onViewChange:Bt,focusTask:ee,onTaskEdit:ht});const ce=Z.useMemo(()=>({tasks:lt,allTasks:b,viewMode:_,expandedIds:P,onToggle:G,onTaskClick:Qt,onTaskUpdate:a,onTaskCreate:n,onTaskReorder:r,onTaskGroup:c,onTaskUngroup:s,onTaskDelete:e,onTaskMove:o,activeCPId:T,holidays:t,calendarSettings:h,virtualRows:pt,totalHeight:At,onTotalWidthChange:dt,isAddingTask:et,onCancelAddTask:()=>rt(!1),isAddingCP:at,onCancelAddCP:()=>ot(!1),onTaskDoubleClick:ht,rowHeight:Q.rowHeight,externalColumns:ft,externalColumnResizeStart:Tt,externalColumnResizeDoubleClick:wt,externalDragHandleWidth:gt,externalResizingIndex:Dt,onOptimalColumnWidth:Lt}),[lt,b,_,P,G,Qt,a,n,r,c,s,e,o,T,t,h,pt,At,et,at,ht,Q.rowHeight,ft,Tt,wt,gt,Dt,Lt]),Ee=Z.useMemo(()=>({tasks:lt,allTasks:b,milestones:E,viewMode:_,zoomLevel:j,holidays:t,calendarSettings:h,onTaskUpdate:a,onBarDrag:Gt,onGroupDrag:te,onMilestoneUpdate:R,onMilestoneDoubleClick:ae,onTaskDoubleClick:ht,virtualRows:pt,totalHeight:At,onGroupToggle:G,activeCPId:T,anchorDependencies:u,onAnchorDependencyCreate:g,onAnchorDependencyDelete:p,onAnchorDependencyDrag:x,onCycleDetected:S,rowHeight:Q.rowHeight,barHeight:Q.barHeight}),[lt,b,E,_,j,t,h,a,Gt,te,R,ae,ht,pt,At,G,T,u,g,p,x,S,Q.rowHeight,Q.barHeight]);return U.jsxs("div",{ref:it,className:`flex h-full w-full flex-col ${w||""}`,style:{backgroundColor:"var(--gantt-bg-secondary)",...v},children:[U.jsx(Rf,{viewMode:_,zoomLevel:j,activeCPId:T,isAddingTask:et,isAddingCP:at,hasUnsavedChanges:F,saveStatus:$,isCompactMode:_==="DETAIL"||_==="UNIFIED"?J:!1,onViewChange:Bt,onZoomChange:z,onToggleCompact:_==="DETAIL"||_==="UNIFIED"?Y:void 0,onStartAddTask:()=>rt(!0),onStartAddCP:()=>ot(!0),onStartAddMilestone:Vt,onScrollToFirst:re,onCollapseAll:zt,onExpandAll:Wt,onSave:N,onReset:L,onExport:W,onExportExcel:C,onImport:D,loadedFileName:k,canCreateTask:!!n,canCreateMilestone:!!M}),U.jsxs("div",{className:"relative flex flex-1 flex-col overflow-hidden",children:[U.jsx("div",{className:"absolute z-30 cursor-col-resize transition-colors",style:{left:V,top:0,bottom:0,width:4,backgroundColor:Kt?"var(--gantt-resizer-active)":"var(--gantt-resizer)"},onMouseDown:Yt,onDoubleClick:se,onMouseEnter:ie=>{Kt||(ie.currentTarget.style.backgroundColor="var(--gantt-resizer-hover)")},onMouseLeave:ie=>{Kt||(ie.currentTarget.style.backgroundColor="var(--gantt-resizer)")},title:"드래그하여 너비 조절 / 더블클릭으로 초기화"}),U.jsxs("div",{className:"flex shrink-0 shadow-sm relative z-20",style:{backgroundColor:"var(--gantt-bg-primary)"},children:[U.jsx("div",{className:"shrink-0 relative",style:{width:V+4,overflow:"hidden",willChange:"width",backgroundColor:"var(--gantt-bg-primary)"},children:U.jsx(Dn,{...ce,renderMode:"header"})}),U.jsx("div",{ref:K,className:"flex-1",style:{overflowX:"hidden",overflowY:"visible",backgroundColor:"var(--gantt-bg-primary)"},children:U.jsx(Wn,{...Ee,onContextMenuAddTask:_==="DETAIL"&&T&&n?Nt:void 0,onContextMenuAddMilestone:M?le:void 0,focusedTaskId:X,renderMode:"header"})})]}),U.jsxs("div",{ref:st,className:"relative flex flex-1 overflow-auto scrollbar-hide",onScroll:Mt,children:[U.jsx("div",{className:"sticky left-0 z-10 flex shrink-0",style:{width:V+4,willChange:"width",alignSelf:"flex-start"},children:U.jsxs("div",{className:"flex shrink-0 flex-col",style:{width:V,clipPath:"inset(0)",backgroundColor:"var(--gantt-bg-primary)"},children:[U.jsx(Dn,{...ce,renderMode:"content"}),U.jsx("div",{style:{height:_==="MASTER"?90:70,backgroundColor:"var(--gantt-bg-secondary)",borderTop:"2px solid var(--gantt-border)"}})]})}),U.jsx("div",{className:"relative flex flex-1 flex-col",style:{backgroundColor:"var(--gantt-bg-primary)"},children:U.jsx(Wn,{...Ee,onContextMenuAddTask:_==="DETAIL"&&T&&n?Nt:void 0,onContextMenuAddMilestone:M?le:void 0,focusedTaskId:X,renderMode:"content"})}),Kt&&U.jsx("div",{className:"fixed inset-0 z-50 cursor-col-resize"})]})]}),U.jsx(Sd,{milestone:Ht,isOpen:It,isNew:St,onClose:ne,onSave:Ct,onDelete:mt}),U.jsx(ha,{task:Pt,isOpen:Ft,onClose:_t,onSave:bt,onDelete:e?Et:void 0})]})}class Uf extends Z.Component{constructor(t){super(t);gs(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,h){this.setState({errorInfo:h}),this.props.onError&&this.props.onError(t,h),process.env.NODE_ENV==="development"&&(console.error(`[GanttErrorBoundary${this.props.componentName?`: ${this.props.componentName}`:""}] Error caught:`,t),console.error("Component stack:",h.componentStack))}render(){var t,h;return this.state.hasError?this.props.fallback?this.props.fallback:U.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 20px",backgroundColor:"#fef2f2",border:`1px solid ${vt.holiday}`,borderRadius:"8px",minHeight:"200px"},children:[U.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:vt.red,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("circle",{cx:"12",cy:"12",r:"10"}),U.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),U.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),U.jsx("h3",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"16px",fontWeight:600,color:"#991b1b"},children:"간트 차트 렌더링 오류"}),U.jsx("p",{style:{marginBottom:"16px",fontSize:"14px",color:"#7f1d1d",textAlign:"center",maxWidth:"400px"},children:((t=this.state.error)==null?void 0:t.message)||"알 수 없는 오류가 발생했습니다."}),U.jsx("button",{onClick:this.handleRetry,style:{padding:"8px 16px",fontSize:"14px",fontWeight:500,color:"white",backgroundColor:vt.red,border:"none",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:m=>{m.currentTarget.style.backgroundColor="#dc2626"},onMouseOut:m=>{m.currentTarget.style.backgroundColor=vt.red},children:"다시 시도"}),process.env.NODE_ENV==="development"&&this.state.errorInfo&&U.jsxs("details",{style:{marginTop:"20px",padding:"12px",backgroundColor:"#fee2e2",borderRadius:"4px",fontSize:"12px",maxWidth:"100%",overflow:"auto"},children:[U.jsx("summary",{style:{cursor:"pointer",fontWeight:500},children:"개발자 정보 (Development Only)"}),U.jsx("pre",{style:{marginTop:"8px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:(h=this.state.error)==null?void 0:h.stack})]})]}):this.props.children}}const ci=Z.createContext(null);function Vf({children:b,viewMode:E,activeCPId:t,holidays:h,calendarSettings:m,onTaskUpdate:l,onTaskCreate:i,onTaskDelete:a,onTaskReorder:n,onTaskGroup:e,onTaskUngroup:r,onTaskMove:c,onTaskDoubleClick:s}){const o=Z.useMemo(()=>({viewMode:E,activeCPId:t,holidays:h,calendarSettings:m,onTaskUpdate:l,onTaskCreate:i,onTaskDelete:a,onTaskReorder:n,onTaskGroup:e,onTaskUngroup:r,onTaskMove:c,onTaskDoubleClick:s}),[E,t,h,m,l,i,a,n,e,r,c,s]);return U.jsx(ci.Provider,{value:o,children:b})}function Gf(){const b=Z.useContext(ci);if(b===null)throw new Error("useGanttContext must be used within a GanttProvider. Make sure your component is wrapped with <GanttProvider>.");return b}function qf(){return Z.useContext(ci)}const qn=Z.createContext(void 0),Xf="gantt-theme",xa=()=>typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",ui=(b,E)=>{if(typeof document>"u")return;const t=document.documentElement;t.classList.remove("light","dark"),b!=="system"&&t.classList.add(b);const h=document.querySelector('meta[name="color-scheme"]');h&&h.setAttribute("content",E)},Yf=({children:b,defaultTheme:E="system",storageKey:t=Xf})=>{const[h,m]=Z.useState(E),[l,i]=Z.useState("light"),[a,n]=Z.useState(!1);Z.useEffect(()=>{const c=localStorage.getItem(t)||E;m(c);const s=c==="system"?xa():c;i(s),ui(c,s),n(!0)},[E,t]),Z.useEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia("(prefers-color-scheme: dark)"),c=s=>{if(h==="system"){const o=s.matches?"dark":"light";i(o),ui("system",o)}};return r.addEventListener("change",c),()=>r.removeEventListener("change",c)},[h]);const e=Z.useCallback(r=>{m(r),localStorage.setItem(t,r);const c=r==="system"?xa():r;i(c),ui(r,c)},[t]);return a?U.jsx(qn.Provider,{value:{theme:h,resolvedTheme:l,setTheme:e,isDark:l==="dark"},children:b}):U.jsx(qn.Provider,{value:{theme:E,resolvedTheme:"light",setTheme:()=>{},isDark:!1},children:b})},di=()=>{const b=Z.useContext(qn);if(b===void 0)throw new Error("useTheme must be used within a ThemeProvider");return b},Kf=()=>{const b=Z.useContext(qn);return b===void 0?{theme:"system",resolvedTheme:"light",setTheme:()=>{},isDark:!1}:b},_a=({className:b})=>U.jsxs("svg",{className:b,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("circle",{cx:"12",cy:"12",r:"5"}),U.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),U.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),U.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),U.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),U.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),U.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),U.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),U.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),ka=({className:b})=>U.jsx("svg",{className:b,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:U.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Sa=({className:b})=>U.jsxs("svg",{className:b,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[U.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),U.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),U.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),Zf=({className:b="",size:E="md",showLabel:t=!1})=>{const{theme:h,setTheme:m,resolvedTheme:l}=di(),i={sm:"p-1.5 text-xs",md:"p-2 text-sm",lg:"p-2.5 text-base"},a={sm:"w-3.5 h-3.5",md:"w-4 h-4",lg:"w-5 h-5"},n={light:"라이트",dark:"다크",system:"시스템"},e={light:"dark",dark:"system",system:"light"},r=()=>{m(e[h])},c=()=>h==="system"?U.jsx(Sa,{className:a[E]}):l==="dark"?U.jsx(ka,{className:a[E]}):U.jsx(_a,{className:a[E]});return U.jsxs("button",{type:"button",onClick:r,className:`
                inline-flex items-center gap-1.5 rounded-md border
                transition-colors duration-200
                bg-[var(--gantt-bg-primary)]
                border-[var(--gantt-border)]
                text-[var(--gantt-text-secondary)]
                hover:bg-[var(--gantt-bg-hover)]
                hover:text-[var(--gantt-text-primary)]
                focus:outline-none focus:ring-2 focus:ring-[var(--gantt-focus)] focus:ring-offset-1
                ${i[E]}
                ${b}
            `,title:`현재: ${n[h]} 모드 (클릭하여 ${n[e[h]]} 모드로 전환)`,"aria-label":`테마 전환: ${n[h]}`,children:[c(),t&&U.jsx("span",{className:"font-medium",children:n[h]})]})},Jf=({className:b=""})=>{const{theme:E,setTheme:t}=di(),h=[{value:"light",icon:U.jsx(_a,{className:"w-4 h-4"}),label:"라이트"},{value:"dark",icon:U.jsx(ka,{className:"w-4 h-4"}),label:"다크"},{value:"system",icon:U.jsx(Sa,{className:"w-4 h-4"}),label:"시스템"}];return U.jsx("div",{className:`
                inline-flex rounded-lg border p-1
                bg-[var(--gantt-bg-secondary)]
                border-[var(--gantt-border)]
                ${b}
            `,role:"radiogroup","aria-label":"테마 선택",children:h.map(({value:m,icon:l,label:i})=>U.jsxs("button",{type:"button",role:"radio","aria-checked":E===m,onClick:()=>t(m),className:`
                        inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md
                        text-sm font-medium transition-colors duration-200
                        focus:outline-none focus:ring-2 focus:ring-[var(--gantt-focus)]
                        ${E===m?"bg-[var(--gantt-bg-primary)] text-[var(--gantt-text-primary)] shadow-sm":"text-[var(--gantt-text-muted)] hover:text-[var(--gantt-text-secondary)]"}
                    `,title:`${i} 모드`,children:[l,U.jsx("span",{children:i})]},m))})};var fi=Symbol.for("immer-nothing"),sn=Symbol.for("immer-draftable"),Re=Symbol.for("immer-state"),Ea=process.env.NODE_ENV!=="production"?[function(b){return`The plugin for '${b}' has not been loaded into Immer. To enable the plugin, import and call \`enable${b}()\` when initializing your application.`},function(b){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${b}'`},"This object has been frozen and should not be mutated",function(b){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+b},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(b){return`'current' expects a draft, got: ${b}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(b){return`'original' expects a draft, got: ${b}`}]:[];function Ne(b,...E){if(process.env.NODE_ENV!=="production"){const t=Ea[b],h=lr(t)?t.apply(null,E):t;throw new Error(`[Immer] ${h}`)}throw new Error(`[Immer] minified error nr: ${b}. Full error at: https://bit.ly/3cXEKWf`)}var We=Object,vr=We.getPrototypeOf,on="constructor",an="prototype",hi="configurable",Xn="enumerable",Yn="writable",ln="value",tr=b=>!!b&&!!b[Re];function Ke(b){var E;return b?Ta(b)||dn(b)||!!b[sn]||!!((E=b[on])!=null&&E[sn])||fn(b)||hn(b):!1}var Qf=We[an][on].toString(),Ca=new WeakMap;function Ta(b){if(!b||!Or(b))return!1;const E=vr(b);if(E===null||E===We[an])return!0;const t=We.hasOwnProperty.call(E,on)&&E[on];if(t===Object)return!0;if(!lr(t))return!1;let h=Ca.get(t);return h===void 0&&(h=Function.toString.call(t),Ca.set(t,h)),h===Qf}function cn(b,E,t=!0){wr(b)===0?(t?Reflect.ownKeys(b):We.keys(b)).forEach(m=>{E(m,b[m],b)}):b.forEach((h,m)=>E(m,h,b))}function wr(b){const E=b[Re];return E?E.type_:dn(b)?1:fn(b)?2:hn(b)?3:0}var un=(b,E,t=wr(b))=>t===2?b.has(E):We[an].hasOwnProperty.call(b,E),er=(b,E,t=wr(b))=>t===2?b.get(E):b[E],Kn=(b,E,t,h=wr(b))=>{h===2?b.set(E,t):h===3?b.add(t):b[E]=t};function th(b,E){return b===E?b!==0||1/b===1/E:b!==b&&E!==E}var dn=Array.isArray,fn=b=>b instanceof Map,hn=b=>b instanceof Set,Or=b=>typeof b=="object",lr=b=>typeof b=="function",pi=b=>typeof b=="boolean";function eh(b){const E=+b;return Number.isInteger(E)&&String(E)===b}var rh=b=>Or(b)?b==null?void 0:b[Re]:null,rr=b=>b.copy_||b.base_,mi=b=>b.modified_?b.copy_:b.base_;function gi(b,E){if(fn(b))return new Map(b);if(hn(b))return new Set(b);if(dn(b))return Array[an].slice.call(b);const t=Ta(b);if(E===!0||E==="class_only"&&!t){const h=We.getOwnPropertyDescriptors(b);delete h[Re];let m=Reflect.ownKeys(h);for(let l=0;l<m.length;l++){const i=m[l],a=h[i];a[Yn]===!1&&(a[Yn]=!0,a[hi]=!0),(a.get||a.set)&&(h[i]={[hi]:!0,[Yn]:!0,[Xn]:a[Xn],[ln]:b[i]})}return We.create(vr(b),h)}else{const h=vr(b);if(h!==null&&t)return{...b};const m=We.create(h);return We.assign(m,b)}}function bi(b,E=!1){return Jn(b)||tr(b)||!Ke(b)||(wr(b)>1&&We.defineProperties(b,{set:Zn,add:Zn,clear:Zn,delete:Zn}),We.freeze(b),E&&cn(b,(t,h)=>{bi(h,!0)},!1)),b}function nh(){Ne(2)}var Zn={[ln]:nh};function Jn(b){return b===null||!Or(b)?!0:We.isFrozen(b)}var Qn="MapSet",ts="Patches",Ma="ArrayMethods",es={};function xr(b){const E=es[b];return E||Ne(0,b),E}var Da=b=>!!es[b];function sh(b,E){es[b]||(es[b]=E)}var pn,Aa=()=>pn,ih=(b,E)=>({drafts_:[],parent_:b,immer_:E,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Da(Qn)?xr(Qn):void 0,arrayMethodsPlugin_:Da(Ma)?xr(Ma):void 0});function ja(b,E){E&&(b.patchPlugin_=xr(ts),b.patches_=[],b.inversePatches_=[],b.patchListener_=E)}function yi(b){vi(b),b.drafts_.forEach(oh),b.drafts_=null}function vi(b){b===pn&&(pn=b.parent_)}var Ia=b=>pn=ih(pn,b);function oh(b){const E=b[Re];E.type_===0||E.type_===1?E.revoke_():E.revoked_=!0}function Na(b,E){E.unfinalizedDrafts_=E.drafts_.length;const t=E.drafts_[0];if(b!==void 0&&b!==t){t[Re].modified_&&(yi(E),Ne(4)),Ke(b)&&(b=Oa(E,b));const{patchPlugin_:m}=E;m&&m.generateReplacementPatches_(t[Re].base_,b,E)}else b=Oa(E,t);return ah(E,b,!0),yi(E),E.patches_&&E.patchListener_(E.patches_,E.inversePatches_),b!==fi?b:void 0}function Oa(b,E){if(Jn(E))return E;const t=E[Re];if(!t)return ns(E,b.handledSet_,b);if(!rs(t,b))return E;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:h}=t;if(h)for(;h.length>0;)h.pop()(b);La(t,b)}return t.copy_}function ah(b,E,t=!1){!b.parent_&&b.immer_.autoFreeze_&&b.canAutoFreeze_&&bi(E,t)}function Ra(b){b.finalized_=!0,b.scope_.unfinalizedDrafts_--}var rs=(b,E)=>b.scope_===E,lh=[];function Pa(b,E,t,h){const m=rr(b),l=b.type_;if(h!==void 0&&er(m,h,l)===E){Kn(m,h,t,l);return}if(!b.draftLocations_){const a=b.draftLocations_=new Map;cn(m,(n,e)=>{if(tr(e)){const r=a.get(e)||[];r.push(n),a.set(e,r)}})}const i=b.draftLocations_.get(E)??lh;for(const a of i)Kn(m,a,t,l)}function ch(b,E,t){b.callbacks_.push(function(m){var a;const l=E;if(!l||!rs(l,m))return;(a=m.mapSetPlugin_)==null||a.fixSetContents(l);const i=mi(l);Pa(b,l.draft_??l,i,t),La(l,m)})}function La(b,E){var h;if(b.modified_&&!b.finalized_&&(b.type_===3||b.type_===1&&b.allIndicesReassigned_||(((h=b.assigned_)==null?void 0:h.size)??0)>0)){const{patchPlugin_:m}=E;if(m){const l=m.getPath(b);l&&m.generatePatches_(b,l,E)}Ra(b)}}function uh(b,E,t){const{scope_:h}=b;if(tr(t)){const m=t[Re];rs(m,h)&&m.callbacks_.push(function(){is(b);const i=mi(m);Pa(b,t,i,E)})}else Ke(t)&&b.callbacks_.push(function(){const l=rr(b);b.type_===3?l.has(t)&&ns(t,h.handledSet_,h):er(l,E,b.type_)===t&&h.drafts_.length>1&&(b.assigned_.get(E)??!1)===!0&&b.copy_&&ns(er(b.copy_,E,b.type_),h.handledSet_,h)})}function ns(b,E,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||tr(b)||E.has(b)||!Ke(b)||Jn(b)||(E.add(b),cn(b,(h,m)=>{if(tr(m)){const l=m[Re];if(rs(l,t)){const i=mi(l);Kn(b,h,i,b.type_),Ra(l)}}else Ke(m)&&ns(m,E,t)})),b}function dh(b,E){const t=dn(b),h={type_:t?1:0,scope_:E?E.scope_:Aa(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:E,base_:b,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let m=h,l=ss;t&&(m=[h],l=mn);const{revoke:i,proxy:a}=Proxy.revocable(m,l);return h.draft_=a,h.revoke_=i,[a,h]}var ss={get(b,E){if(E===Re)return b;let t=b.scope_.arrayMethodsPlugin_;const h=b.type_===1&&typeof E=="string";if(h&&t!=null&&t.isArrayOperationMethod(E))return t.createMethodInterceptor(b,E);const m=rr(b);if(!un(m,E,b.type_))return fh(b,m,E);const l=m[E];if(b.finalized_||!Ke(l)||h&&b.operationMethod&&(t!=null&&t.isMutatingArrayMethod(b.operationMethod))&&eh(E))return l;if(l===wi(b.base_,E)){is(b);const i=b.type_===1?+E:E,a=_i(b.scope_,l,b,i);return b.copy_[i]=a}return l},has(b,E){return E in rr(b)},ownKeys(b){return Reflect.ownKeys(rr(b))},set(b,E,t){const h=Ba(rr(b),E);if(h!=null&&h.set)return h.set.call(b.draft_,t),!0;if(!b.modified_){const m=wi(rr(b),E),l=m==null?void 0:m[Re];if(l&&l.base_===t)return b.copy_[E]=t,b.assigned_.set(E,!1),!0;if(th(t,m)&&(t!==void 0||un(b.base_,E,b.type_)))return!0;is(b),xi(b)}return b.copy_[E]===t&&(t!==void 0||E in b.copy_)||Number.isNaN(t)&&Number.isNaN(b.copy_[E])||(b.copy_[E]=t,b.assigned_.set(E,!0),uh(b,E,t)),!0},deleteProperty(b,E){return is(b),wi(b.base_,E)!==void 0||E in b.base_?(b.assigned_.set(E,!1),xi(b)):b.assigned_.delete(E),b.copy_&&delete b.copy_[E],!0},getOwnPropertyDescriptor(b,E){const t=rr(b),h=Reflect.getOwnPropertyDescriptor(t,E);return h&&{[Yn]:!0,[hi]:b.type_!==1||E!=="length",[Xn]:h[Xn],[ln]:t[E]}},defineProperty(){Ne(11)},getPrototypeOf(b){return vr(b.base_)},setPrototypeOf(){Ne(12)}},mn={};for(let b in ss){let E=ss[b];mn[b]=function(){const t=arguments;return t[0]=t[0][0],E.apply(this,t)}}mn.deleteProperty=function(b,E){return process.env.NODE_ENV!=="production"&&isNaN(parseInt(E))&&Ne(13),mn.set.call(this,b,E,void 0)},mn.set=function(b,E,t){return process.env.NODE_ENV!=="production"&&E!=="length"&&isNaN(parseInt(E))&&Ne(14),ss.set.call(this,b[0],E,t,b[0])};function wi(b,E){const t=b[Re];return(t?rr(t):b)[E]}function fh(b,E,t){var m;const h=Ba(E,t);return h?ln in h?h[ln]:(m=h.get)==null?void 0:m.call(b.draft_):void 0}function Ba(b,E){if(!(E in b))return;let t=vr(b);for(;t;){const h=Object.getOwnPropertyDescriptor(t,E);if(h)return h;t=vr(t)}}function xi(b){b.modified_||(b.modified_=!0,b.parent_&&xi(b.parent_))}function is(b){b.copy_||(b.assigned_=new Map,b.copy_=gi(b.base_,b.scope_.immer_.useStrictShallowCopy_))}var hh=class{constructor(b){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(E,t,h)=>{if(lr(E)&&!lr(t)){const l=t;t=E;const i=this;return function(n=l,...e){return i.produce(n,r=>t.call(this,r,...e))}}lr(t)||Ne(6),h!==void 0&&!lr(h)&&Ne(7);let m;if(Ke(E)){const l=Ia(this),i=_i(l,E,void 0);let a=!0;try{m=t(i),a=!1}finally{a?yi(l):vi(l)}return ja(l,h),Na(m,l)}else if(!E||!Or(E)){if(m=t(E),m===void 0&&(m=E),m===fi&&(m=void 0),this.autoFreeze_&&bi(m,!0),h){const l=[],i=[];xr(ts).generateReplacementPatches_(E,m,{patches_:l,inversePatches_:i}),h(l,i)}return m}else Ne(1,E)},this.produceWithPatches=(E,t)=>{if(lr(E))return(i,...a)=>this.produceWithPatches(i,n=>E(n,...a));let h,m;return[this.produce(E,t,(i,a)=>{h=i,m=a}),h,m]},pi(b==null?void 0:b.autoFreeze)&&this.setAutoFreeze(b.autoFreeze),pi(b==null?void 0:b.useStrictShallowCopy)&&this.setUseStrictShallowCopy(b.useStrictShallowCopy),pi(b==null?void 0:b.useStrictIteration)&&this.setUseStrictIteration(b.useStrictIteration)}createDraft(b){Ke(b)||Ne(8),tr(b)&&(b=ph(b));const E=Ia(this),t=_i(E,b,void 0);return t[Re].isManual_=!0,vi(E),t}finishDraft(b,E){const t=b&&b[Re];(!t||!t.isManual_)&&Ne(9);const{scope_:h}=t;return ja(h,E),Na(void 0,h)}setAutoFreeze(b){this.autoFreeze_=b}setUseStrictShallowCopy(b){this.useStrictShallowCopy_=b}setUseStrictIteration(b){this.useStrictIteration_=b}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(b,E){let t;for(t=E.length-1;t>=0;t--){const m=E[t];if(m.path.length===0&&m.op==="replace"){b=m.value;break}}t>-1&&(E=E.slice(t+1));const h=xr(ts).applyPatches_;return tr(b)?h(b,E):this.produce(b,m=>h(m,E))}};function _i(b,E,t,h){const[m,l]=fn(E)?xr(Qn).proxyMap_(E,t):hn(E)?xr(Qn).proxySet_(E,t):dh(E,t);return((t==null?void 0:t.scope_)??Aa()).drafts_.push(m),l.callbacks_=(t==null?void 0:t.callbacks_)??[],l.key_=h,t&&h!==void 0?ch(t,l,h):l.callbacks_.push(function(n){var r;(r=n.mapSetPlugin_)==null||r.fixSetContents(l);const{patchPlugin_:e}=n;l.modified_&&e&&e.generatePatches_(l,[],n)}),m}function ph(b){return tr(b)||Ne(10,b),Fa(b)}function Fa(b){if(!Ke(b)||Jn(b))return b;const E=b[Re];let t,h=!0;if(E){if(!E.modified_)return E.base_;E.finalized_=!0,t=gi(b,E.scope_.immer_.useStrictShallowCopy_),h=E.scope_.immer_.shouldUseStrictIteration()}else t=gi(b,!0);return cn(t,(m,l)=>{Kn(t,m,Fa(l))},h),E&&(E.finalized_=!1),t}function mh(){process.env.NODE_ENV!=="production"&&Ea.push('Sets cannot have "replace" patches.',function(d){return"Unsupported patch operation: "+d},function(d){return"Cannot apply patch, path doesn't resolve: "+d},"Patching reserved attributes like __proto__, prototype and constructor is not allowed");function E(d,f=[]){if(d.key_!==void 0){const u=d.parent_.copy_??d.parent_.base_,g=rh(er(u,d.key_)),p=er(u,d.key_);if(p===void 0||p!==d.draft_&&p!==d.base_&&p!==d.copy_||g!=null&&g.base_!==d.base_)return null;const x=d.parent_.type_===3;let S;if(x){const M=d.parent_;S=Array.from(M.drafts_.keys()).indexOf(d.key_)}else S=d.key_;if(!(x&&u.size>S||un(u,S)))return null;f.push(S)}if(d.parent_)return E(d.parent_,f);f.reverse();try{t(d.copy_,f)}catch{return null}return f}function t(d,f){let u=d;for(let g=0;g<f.length-1;g++){const p=f[g];if(u=er(u,p),!Or(u)||u===null)throw new Error(`Cannot resolve path at '${f.join("/")}'`)}return u}const h="replace",m="add",l="remove";function i(d,f,u){if(d.scope_.processedForPatches_.has(d))return;d.scope_.processedForPatches_.add(d);const{patches_:g,inversePatches_:p}=u;switch(d.type_){case 0:case 2:return n(d,f,g,p);case 1:return a(d,f,g,p);case 3:return e(d,f,g,p)}}function a(d,f,u,g){let{base_:p,assigned_:x}=d,S=d.copy_;S.length<p.length&&([p,S]=[S,p],[u,g]=[g,u]);const M=d.allIndicesReassigned_===!0;for(let R=0;R<p.length;R++){const B=S[R],N=p[R];if((M||(x==null?void 0:x.get(R.toString())))&&B!==N){const F=B==null?void 0:B[Re];if(F&&F.modified_)continue;const $=f.concat([R]);u.push({op:h,path:$,value:o(B)}),g.push({op:h,path:$,value:o(N)})}}for(let R=p.length;R<S.length;R++){const B=f.concat([R]);u.push({op:m,path:B,value:o(S[R])})}for(let R=S.length-1;p.length<=R;--R){const B=f.concat([R]);g.push({op:l,path:B})}}function n(d,f,u,g){const{base_:p,copy_:x,type_:S}=d;cn(d.assigned_,(M,R)=>{const B=er(p,M,S),N=er(x,M,S),L=R?un(p,M)?h:m:l;if(B===N&&L===h)return;const F=f.concat(M);u.push(L===l?{op:L,path:F}:{op:L,path:F,value:o(N)}),g.push(L===m?{op:l,path:F}:L===l?{op:m,path:F,value:o(B)}:{op:h,path:F,value:o(B)})})}function e(d,f,u,g){let{base_:p,copy_:x}=d,S=0;p.forEach(M=>{if(!x.has(M)){const R=f.concat([S]);u.push({op:l,path:R,value:M}),g.unshift({op:m,path:R,value:M})}S++}),S=0,x.forEach(M=>{if(!p.has(M)){const R=f.concat([S]);u.push({op:m,path:R,value:M}),g.unshift({op:l,path:R,value:M})}S++})}function r(d,f,u){const{patches_:g,inversePatches_:p}=u;g.push({op:h,path:[],value:f===fi?void 0:f}),p.push({op:h,path:[],value:d})}function c(d,f){return f.forEach(u=>{const{path:g,op:p}=u;let x=d;for(let B=0;B<g.length-1;B++){const N=wr(x);let L=g[B];typeof L!="string"&&typeof L!="number"&&(L=""+L),(N===0||N===1)&&(L==="__proto__"||L===on)&&Ne(19),lr(x)&&L===an&&Ne(19),x=er(x,L),Or(x)||Ne(18,g.join("/"))}const S=wr(x),M=s(u.value),R=g[g.length-1];switch(p){case h:switch(S){case 2:return x.set(R,M);case 3:Ne(16);default:return x[R]=M}case m:switch(S){case 1:return R==="-"?x.push(M):x.splice(R,0,M);case 2:return x.set(R,M);case 3:return x.add(M);default:return x[R]=M}case l:switch(S){case 1:return x.splice(R,1);case 2:return x.delete(R);case 3:return x.delete(u.value);default:return delete x[R]}default:Ne(17,p)}}),d}function s(d){if(!Ke(d))return d;if(dn(d))return d.map(s);if(fn(d))return new Map(Array.from(d.entries()).map(([u,g])=>[u,s(g)]));if(hn(d))return new Set(Array.from(d).map(s));const f=Object.create(vr(d));for(const u in d)f[u]=s(d[u]);return un(d,sn)&&(f[sn]=d[sn]),f}function o(d){return tr(d)?s(d):d}sh(ts,{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:r,getPath:E})}var ki=new hh,gh=ki.produce,Wa=ki.applyPatches.bind(ki);function Si(b,E){return b===E?!0:!b||!E?!1:b.getTime()===E.getTime()}function za(b,E){var t,h;if(b===E)return!0;if(!b||!E||b.length!==E.length)return!1;for(let m=0;m<b.length;m++){const l=b[m],i=E[m];if(l.id!==i.id||l.name!==i.name||l.parentId!==i.parentId||l.type!==i.type||l.wbsLevel!==i.wbsLevel||!Si(l.startDate,i.startDate)||!Si(l.endDate,i.endDate)||l.cp!==i.cp&&(!l.cp||!i.cp||l.cp.workDaysTotal!==i.cp.workDaysTotal||l.cp.nonWorkDaysTotal!==i.cp.nonWorkDaysTotal)||l.task!==i.task&&(!l.task||!i.task||l.task.netWorkDays!==i.task.netWorkDays||l.task.indirectWorkDaysPre!==i.task.indirectWorkDaysPre||l.task.indirectWorkDaysPost!==i.task.indirectWorkDaysPost||l.task.indirectWorkNamePre!==i.task.indirectWorkNamePre||l.task.indirectWorkNamePost!==i.task.indirectWorkNamePost)||((t=l.dependencies)==null?void 0:t.length)!==((h=i.dependencies)==null?void 0:h.length))return!1}return!0}function Ha(b,E){if(b===E)return!0;if(!b||!E||b.length!==E.length)return!1;for(let t=0;t<b.length;t++){const h=b[t],m=E[t];if(h.id!==m.id||h.name!==m.name||!Si(h.date,m.date)||h.description!==m.description||h.milestoneType!==m.milestoneType)return!1}return!0}function bh(b,E){if(b===E)return!0;if(!b||!E)return!1;const t=Object.keys(b),h=Object.keys(E);if(t.length!==h.length)return!1;for(const m of t)if(b[m]!==E[m])return!1;return!0}function $a(b,E){if(b===E)return!0;if(("tasks"in b||"tasks"in E)&&!za(b.tasks,E.tasks)||("milestones"in b||"milestones"in E)&&!Ha(b.milestones,E.milestones))return!1;const t=Object.keys(b).filter(m=>m!=="tasks"&&m!=="milestones"),h=Object.keys(E).filter(m=>m!=="tasks"&&m!=="milestones");if(t.length!==h.length)return!1;for(const m of t)if(b[m]!==E[m])return!1;return!0}mh();const yh=50;function cr(b){if(b===null||typeof b!="object")return b;if(b instanceof Date)return new Date(b.getTime());if(b instanceof Set)return new Set(Array.from(b).map(t=>cr(t)));if(b instanceof Map)return new Map(Array.from(b.entries()).map(([t,h])=>[cr(t),cr(h)]));if(Array.isArray(b))return b.map(t=>cr(t));const E={};for(const t in b)Object.prototype.hasOwnProperty.call(b,t)&&(E[t]=cr(b[t]));return E}function vh(b){const[E,t]=Z.useState(()=>({past:[],present:cr(b),future:[]})),h=Z.useRef(!1),m=Z.useCallback(e=>{t(r=>{const c=typeof e=="function"?e(r.present):e;if(!h.current)return h.current=!0,{past:[],present:cr(c),future:[]};if($a(r.present,c))return r;let s=[],o=[];const d=gh(r.present,u=>{Object.keys(u).forEach(g=>{delete u[g]}),Object.assign(u,c)},(u,g)=>{s=u,o=g}),f=[...r.past,{undo:o,redo:s}];return f.length>yh&&f.shift(),{past:f,present:d,future:[]}})},[]),l=Z.useCallback(()=>{t(e=>{if(e.past.length===0)return e;const r=[...e.past],c=r.pop(),s=Wa(e.present,c.undo);return{past:r,present:s,future:[c,...e.future]}})},[]),i=Z.useCallback(()=>{t(e=>{if(e.future.length===0)return e;const r=[...e.future],c=r.shift(),s=Wa(e.present,c.redo);return{past:[...e.past,c],present:s,future:r}})},[]),a=Z.useCallback(e=>{h.current=!1,t({past:[],present:cr(e),future:[]})},[]),n=Z.useCallback(()=>{t(e=>({past:[],present:e.present,future:[]}))},[]);return{present:E.present,set:m,undo:l,redo:i,canUndo:E.past.length>0,canRedo:E.future.length>0,reset:a,clearHistory:n,historyLength:{past:E.past.length,future:E.future.length}}}function wh(b,E){const[t,h]=Z.useState(E||b.map(e=>e.width)),[m,l]=Z.useState(null),i=Z.useRef(!1),a=Z.useCallback((e,r)=>{if(e.detail>=2)return;e.preventDefault(),e.stopPropagation(),i.current=!0,l(r);const c=e.clientX,s=t[r],o=b[r].minWidth,d=u=>{if(!i.current)return;const g=u.clientX-c,p=Math.max(o,s+g);h(x=>{const S=[...x];return S[r]=p,S})},f=()=>{i.current=!1,l(null),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)},[t,b]);return{columns:b.map((e,r)=>({...e,width:t[r]??e.width})),resizingIndex:m,handleResizeStart:a,setColumnWidths:h}}function xh(b){return b!=null&&b.task!==void 0&&b.task!==null}function _h(b){return b!=null&&b.cp!==void 0&&b.cp!==null}function kh(b){return b!=null&&b.type==="GROUP"}function Sh(b){return b!=null&&b.type==="CP"}function Eh(b){return b!=null&&b.type==="TASK"}function Ua(b){return b instanceof Date&&!isNaN(b.getTime())}function Ch(b){return b!=null&&typeof b.id=="string"&&typeof b.name=="string"&&Ua(b.date)}function Th(b){return b!=null&&typeof b.id=="string"&&typeof b.predecessorId=="string"&&["FS","SS","FF","SF"].includes(b.type)}function Mh(b){return b!=null&&b.wbsLevel===1}function Dh(b){return b!=null&&b.wbsLevel===2}function Ah(b){return b!=null&&b.parentId===null}function jh(b){return Array.isArray(b)&&b.length>0}const os=b=>{if(!b||typeof b!="object")return!1;const E=b;return typeof E.id=="string"&&typeof E.name=="string"&&typeof E.startDate=="string"&&typeof E.endDate=="string"&&(E.parentId===null||typeof E.parentId=="string")&&(E.wbsLevel===1||E.wbsLevel===2)&&(E.type==="GROUP"||E.type==="CP"||E.type==="TASK")},as=b=>{if(!b||typeof b!="object")return!1;const E=b;return typeof E.id=="string"&&typeof E.date=="string"&&typeof E.name=="string"},Ih=b=>{if(!b||typeof b!="object")return!1;const E=b;return typeof E.workDaysTotal=="number"&&typeof E.nonWorkDaysTotal=="number"},Nh=b=>{if(!b||typeof b!="object")return!1;const E=b;return typeof E.netWorkDays=="number"&&typeof E.indirectWorkDaysPre=="number"&&typeof E.indirectWorkDaysPost=="number"},Oh=b=>{if(!b||typeof b!="object")return!1;const E=b;return E.progress===void 0||typeof E.progress=="number"},Ei=b=>{if(!b||typeof b!="object")return!1;const E=b;return typeof E.id=="string"&&typeof E.sourceTaskId=="string"&&typeof E.targetTaskId=="string"&&typeof E.sourceDayIndex=="number"&&typeof E.targetDayIndex=="number"&&(E.lag===void 0||typeof E.lag=="number")},Rh=b=>{const E=b.map(t=>({...t,startDate:Se(t.startDate,"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"),endDate:Se(t.endDate,"yyyy-MM-dd'T'HH:mm:ss.SSSxxx")}));return JSON.stringify(E)},Ph=b=>{try{const E=JSON.parse(b);if(!Array.isArray(E))return console.error("Invalid tasks data format: expected array"),null;const t=E.filter(os);return t.length!==E.length&&console.warn(`[deserializeTasks] ${E.length-t.length}개의 유효하지 않은 Task가 필터링됨`),t.map(h=>{const m=h.cp!==void 0&&Ih(h.cp)?h.cp:void 0,l=h.task!==void 0&&Nh(h.task)?{...h.task}:void 0,i=h.group!==void 0&&Oh(h.group)?h.group:void 0,a=Array.isArray(h.dependencies)?h.dependencies:[];return{id:h.id,parentId:h.parentId,wbsLevel:h.wbsLevel,type:h.type,name:h.name,startDate:Ze(h.startDate),endDate:Ze(h.endDate),cp:m,task:l,group:i,dependencies:a}})}catch(E){return console.error("Failed to deserialize tasks:",E),null}},Lh=b=>{const E=b.map(t=>({...t,date:Se(t.date,"yyyy-MM-dd'T'HH:mm:ss.SSSxxx")}));return JSON.stringify(E)},Bh=b=>{try{const E=JSON.parse(b);return Array.isArray(E)?E.filter(as).map(t=>({...t,date:Ze(t.date)})):(console.error("Invalid milestones data format: expected array"),null)}catch(E){return console.error("Failed to deserialize milestones:",E),null}},Fh=b=>JSON.stringify(b),Wh=b=>{try{const E=JSON.parse(b);return Array.isArray(E)?E.filter(Ei):(console.error("Invalid anchor dependencies data format: expected array"),null)}catch(E){return console.error("Failed to deserialize anchor dependencies:",E),null}},zh=b=>b.map(E=>({id:E.id,parentId:E.parentId,wbsLevel:E.wbsLevel,type:E.type,name:E.name,startDate:Se(E.startDate,"yyyy-MM-dd"),endDate:Se(E.endDate,"yyyy-MM-dd"),...E.cp?{cp:E.cp}:{},...E.task?{task:E.task}:{},dependencies:E.dependencies})),Hh=b=>b.map(E=>({id:E.id,date:Se(E.date,"yyyy-MM-dd"),name:E.name,type:"MILESTONE",...E.milestoneType?{milestoneType:E.milestoneType}:{},...E.description?{description:E.description}:{}})),$h=b=>b.map(E=>({id:E.id,sourceTaskId:E.sourceTaskId,targetTaskId:E.targetTaskId,sourceDayIndex:E.sourceDayIndex,targetDayIndex:E.targetDayIndex,...E.lag!==void 0&&E.lag!==0?{lag:E.lag}:{}})),Va=b=>{const E={milestones:Hh(b.milestones),tasks:zh(b.tasks),anchorDependencies:$h(b.dependencies)};return JSON.stringify(E,null,4)},Ga=b=>{try{const E=JSON.parse(b);if(!E.tasks||!Array.isArray(E.tasks))throw new Error("유효하지 않은 파일 형식입니다. tasks 배열이 필요합니다.");const t=E.tasks.filter(os).map(l=>{var i;return{...l,wbsLevel:l.wbsLevel,type:l.type,startDate:Ze(l.startDate),endDate:Ze(l.endDate),dependencies:((i=l.dependencies)==null?void 0:i.map(a=>({...a,type:a.type,sourceAnchor:a.sourceAnchor,targetAnchor:a.targetAnchor})))||[]}}),h=(E.milestones||[]).filter(as).map(l=>({...l,date:Ze(l.date)})),m=Array.isArray(E.anchorDependencies)?E.anchorDependencies.filter(Ei):[];if(t.length===0)throw new Error("가져올 수 있는 태스크가 없습니다.");return{tasks:t,milestones:h,dependencies:m}}catch(E){return console.error("Failed to parse imported data:",E),null}},Uh=b=>b.filter(os).map(E=>({...E,wbsLevel:E.wbsLevel,type:E.type,startDate:Ze(E.startDate),endDate:Ze(E.endDate),cp:E.cp?{...E.cp}:void 0,task:E.task?{...E.task}:void 0,dependencies:E.dependencies||[]})),Vh=b=>b.filter(as).map(E=>({...E,date:Ze(E.date),milestoneType:E.milestoneType})),Gh="sa-gantt",qh=b=>({TASKS:`${b}-tasks`,MILESTONES:`${b}-milestones`,ANCHOR_DEPENDENCIES:`${b}-anchor-dependencies`});class Xh extends Error{constructor(E,t,h){super(E),this.currentSize=t,this.attemptedKey=h,this.name="StorageQuotaExceededError"}}class qa{constructor(E){gs(this,"storageKeys");gs(this,"debug");const t=(E==null?void 0:E.storagePrefix)||Gh;this.storageKeys=qh(t),this.debug=(E==null?void 0:E.debug)??!1}log(...E){this.debug&&console.log("[LocalStorageService]",...E)}safeSetItem(E,t){try{localStorage.setItem(E,t)}catch(h){if(h instanceof DOMException&&h.name==="QuotaExceededError"){const m=this.getStorageSize();throw new Xh(`저장 공간이 부족합니다. 현재 사용량: ${(m/1024).toFixed(1)}KB. 일부 데이터를 삭제하거나 내보내기 후 초기화하세요.`,m,E)}throw h}}async loadTasks(){try{const E=localStorage.getItem(this.storageKeys.TASKS);if(!E)return this.log("No tasks found in storage"),[];const t=Ph(E);return t?(this.log("Loaded",t.length,"tasks"),t):(this.log("Failed to deserialize tasks"),[])}catch(E){return console.error("Failed to load tasks from localStorage:",E),[]}}async saveTasks(E){this.safeSetItem(this.storageKeys.TASKS,Rh(E)),this.log("Saved",E.length,"tasks")}async updateTask(E,t){const h=await this.loadTasks(),m=h.findIndex(i=>i.id===E);if(m===-1)return this.log("Task not found:",E),null;const l={...h[m],...t};return h[m]=l,await this.saveTasks(h),this.log("Updated task:",E),l}async createTask(E){const t=await this.loadTasks(),h={...E,id:`task-${Date.now()}`};return t.push(h),await this.saveTasks(t),this.log("Created task:",h.id),h}async deleteTask(E){const t=await this.loadTasks(),h=t.filter(m=>m.id!==E);return h.length===t.length?(this.log("Task not found for deletion:",E),!1):(await this.saveTasks(h),this.log("Deleted task:",E),!0)}async loadMilestones(){try{const E=localStorage.getItem(this.storageKeys.MILESTONES);if(!E)return this.log("No milestones found in storage"),[];const t=Bh(E);return t?(this.log("Loaded",t.length,"milestones"),t):(this.log("Failed to deserialize milestones"),[])}catch(E){return console.error("Failed to load milestones from localStorage:",E),[]}}async saveMilestones(E){this.safeSetItem(this.storageKeys.MILESTONES,Lh(E)),this.log("Saved",E.length,"milestones")}async updateMilestone(E,t){const h=await this.loadMilestones(),m=h.findIndex(i=>i.id===E);if(m===-1)return this.log("Milestone not found:",E),null;const l={...h[m],...t};return h[m]=l,await this.saveMilestones(h),this.log("Updated milestone:",E),l}async createMilestone(E){const t=await this.loadMilestones(),h={...E,id:`milestone-${Date.now()}`};return t.push(h),await this.saveMilestones(t),this.log("Created milestone:",h.id),h}async deleteMilestone(E){const t=await this.loadMilestones(),h=t.filter(m=>m.id!==E);return h.length===t.length?(this.log("Milestone not found for deletion:",E),!1):(await this.saveMilestones(h),this.log("Deleted milestone:",E),!0)}async loadDependencies(){try{const E=localStorage.getItem(this.storageKeys.ANCHOR_DEPENDENCIES);if(!E)return this.log("No dependencies found in storage"),[];const t=Wh(E);return t?(this.log("Loaded",t.length,"dependencies"),t):(this.log("Failed to deserialize dependencies"),[])}catch(E){return console.error("Failed to load dependencies from localStorage:",E),[]}}async saveDependencies(E){this.safeSetItem(this.storageKeys.ANCHOR_DEPENDENCIES,Fh(E)),this.log("Saved",E.length,"dependencies")}async createDependency(E){const t=await this.loadDependencies();return t.push(E),await this.saveDependencies(t),this.log("Created dependency:",E.id),E}async deleteDependency(E){const t=await this.loadDependencies(),h=t.filter(m=>m.id!==E);return h.length===t.length?(this.log("Dependency not found for deletion:",E),!1):(await this.saveDependencies(h),this.log("Deleted dependency:",E),!0)}async loadAll(){const[E,t,h]=await Promise.all([this.loadTasks(),this.loadMilestones(),this.loadDependencies()]);return this.log("Loaded all data:",{tasks:E.length,milestones:t.length,dependencies:h.length}),{tasks:E,milestones:t,dependencies:h}}async saveAll(E){await Promise.all([this.saveTasks(E.tasks),this.saveMilestones(E.milestones),this.saveDependencies(E.dependencies)]),this.log("Saved all data")}async exportToJSON(){const E=await this.loadAll();return Va(E)}async importFromJSON(E){const t=Ga(E);if(!t)throw new Error("Failed to parse imported JSON data");return await this.saveAll(t),this.log("Imported data from JSON"),t}async reset(){localStorage.removeItem(this.storageKeys.TASKS),localStorage.removeItem(this.storageKeys.MILESTONES),localStorage.removeItem(this.storageKeys.ANCHOR_DEPENDENCIES),this.log("Storage reset")}hasData(){return localStorage.getItem(this.storageKeys.TASKS)!==null}getStorageSize(){let E=0;return Object.values(this.storageKeys).forEach(t=>{const h=localStorage.getItem(t);h&&(E+=h.length*2)}),E}}const Yh=b=>new qa(b);function ls(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xa={exports:{}};/*! ExcelJS 19-10-2023 */(function(b,E){(function(t){b.exports=t()})(function(){return function t(h,m,l){function i(e,r){if(!m[e]){if(!h[e]){var c=typeof ls=="function"&&ls;if(!r&&c)return c(e,!0);if(a)return a(e,!0);var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}var o=m[e]={exports:{}};h[e][0].call(o.exports,function(d){return i(h[e][1][d]||d)},o,o.exports,t,h,m,l)}return m[e].exports}for(var a=typeof ls=="function"&&ls,n=0;n<l.length;n++)i(l[n]);return i}({1:[function(t,h,m){const l=t("fs"),i=t("fast-csv"),a=t("dayjs/plugin/customParseFormat"),n=t("dayjs/plugin/utc"),e=t("dayjs").extend(a).extend(n),r=t("../utils/stream-buf"),{fs:{exists:c}}=t("../utils/utils"),s={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};h.exports=class{constructor(o){this.workbook=o,this.worksheet=null}async readFile(o,d){if(d=d||{},!await c(o))throw new Error("File not found: "+o);const f=l.createReadStream(o),u=await this.read(f,d);return f.close(),u}read(o,d){return d=d||{},new Promise((f,u)=>{const g=this.workbook.addWorksheet(d.sheetName),p=d.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=d.map||function(M){if(M==="")return null;const R=Number(M);if(!Number.isNaN(R)&&R!==1/0)return R;const B=p.reduce((L,F)=>{if(L)return L;const $=e(M,F,!0);return $.isValid()?$:null},null);if(B)return new Date(B.valueOf());const N=s[M];return N!==void 0?N:M},S=i.parse(d.parserOptions).on("data",M=>{g.addRow(M.map(x))}).on("end",()=>{S.emit("worksheet",g)});S.on("worksheet",f).on("error",u),o.pipe(S)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(o,d){return new Promise((f,u)=>{d=d||{};const g=this.workbook.getWorksheet(d.sheetName||d.sheetId),p=i.format(d.formatterOptions);o.on("finish",()=>{f()}),p.on("error",u),p.pipe(o);const{dateFormat:x,dateUTC:S}=d,M=d.map||(N=>{if(N){if(N.text||N.hyperlink)return N.hyperlink||N.text||"";if(N.formula||N.result)return N.result||"";if(N instanceof Date)return x?S?e.utc(N).format(x):e(N).format(x):S?e.utc(N).format():e(N).format();if(N.error)return N.error;if(typeof N=="object")return JSON.stringify(N)}return N}),R=d.includeEmptyRows===void 0||d.includeEmptyRows;let B=1;g&&g.eachRow((N,L)=>{if(R)for(;B++<L-1;)p.write([]);const{values:F}=N;F.shift(),p.write(F.map(M)),B=L}),p.end()})}writeFile(o,d){const f={encoding:(d=d||{}).encoding||"utf8"},u=l.createWriteStream(o,f);return this.write(u,d)}async writeBuffer(o){const d=new r;return await this.write(d,o),d.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,h,m){const l=t("../utils/col-cache");class i{constructor(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=n,e)if(typeof e=="string"){const c=l.decodeAddress(e);this.nativeCol=c.col+r,this.nativeColOff=0,this.nativeRow=c.row+r,this.nativeRowOff=0}else e.nativeCol!==void 0?(this.nativeCol=e.nativeCol||0,this.nativeColOff=e.nativeColOff||0,this.nativeRow=e.nativeRow||0,this.nativeRowOff=e.nativeRowOff||0):e.col!==void 0?(this.col=e.col+r,this.row=e.row+r):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(n){return n instanceof i||n==null?n:new i(n)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(n){this.nativeCol=Math.floor(n),this.nativeColOff=Math.floor((n-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(n){this.nativeRow=Math.floor(n),this.nativeRowOff=Math.floor((n-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(n){this.nativeCol=n.nativeCol,this.nativeColOff=n.nativeColOff,this.nativeRow=n.nativeRow,this.nativeRowOff=n.nativeRowOff}}h.exports=i},{"../utils/col-cache":19}],3:[function(t,h,m){const l=t("../utils/col-cache"),i=t("../utils/under-dash"),a=t("./enums"),{slideFormula:n}=t("../utils/shared-formula"),e=t("./note");class r{constructor(o,d,f){if(!o||!d)throw new Error("A Cell needs a Row");this._row=o,this._column=d,l.validateAddress(f),this._address=f,this._value=c.create(r.Types.Null,this),this.style=this._mergeStyle(o.style,d.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(o){this.style.numFmt=o}get font(){return this.style.font}set font(o){this.style.font=o}get alignment(){return this.style.alignment}set alignment(o){this.style.alignment=o}get border(){return this.style.border}set border(o){this.style.border=o}get fill(){return this.style.fill}set fill(o){this.style.fill=o}get protection(){return this.style.protection}set protection(o){this.style.protection=o}_mergeStyle(o,d,f){const u=o&&o.numFmt||d&&d.numFmt;u&&(f.numFmt=u);const g=o&&o.font||d&&d.font;g&&(f.font=g);const p=o&&o.alignment||d&&d.alignment;p&&(f.alignment=p);const x=o&&o.border||d&&d.border;x&&(f.border=x);const S=o&&o.fill||d&&d.fill;S&&(f.fill=S);const M=o&&o.protection||d&&d.protection;return M&&(f.protection=M),f}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===r.Types.Merge}merge(o,d){this._value.release(),this._value=c.create(r.Types.Merge,this,o),d||(this.style=o.style)}unmerge(){this.type===r.Types.Merge&&(this._value.release(),this._value=c.create(r.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(o){return this._value.type===r.Types.Merge&&this._value.isMergedTo(o)}get master(){return this.type===r.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===r.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(o){this.type!==r.Types.Merge?(this._value.release(),this._value=c.create(c.getType(o),this,o)):this._value.master.value=o}get note(){return this._comment&&this._comment.note}set note(o){this._comment=new e(o)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(o){this.type===r.Types.String&&(this._value=c.create(r.Types.Hyperlink,this,{text:this._value.value,hyperlink:o}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:o}=this._row;return{sheetName:o.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(o){this.names=[o]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(o){const{definedNames:d}=this.workbook;d.removeAllNames(this.fullAddress),o.forEach(f=>{d.addEx(this.fullAddress,f)})}addName(o){this.workbook.definedNames.addEx(this.fullAddress,o)}removeName(o){this.workbook.definedNames.removeEx(this.fullAddress,o)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(o){this._dataValidations.add(this.address,o)}get model(){const{model:o}=this._value;return o.style=this.style,this._comment&&(o.comment=this._comment.model),o}set model(o){if(this._value.release(),this._value=c.create(o.type,this),this._value.model=o,o.comment)switch(o.comment.type){case"note":this._comment=e.fromModel(o.comment)}o.style?this.style=o.style:this.style={}}}r.Types=a.ValueType;const c={getType:s=>s==null?r.Types.Null:s instanceof String||typeof s=="string"?r.Types.String:typeof s=="number"?r.Types.Number:typeof s=="boolean"?r.Types.Boolean:s instanceof Date?r.Types.Date:s.text&&s.hyperlink?r.Types.Hyperlink:s.formula||s.sharedFormula?r.Types.Formula:s.richText?r.Types.RichText:s.sharedString?r.Types.SharedString:s.error?r.Types.Error:r.Types.JSON,types:[{t:r.Types.Null,f:class{constructor(s){this.model={address:s.address,type:r.Types.Null}}get value(){return null}set value(s){}get type(){return r.Types.Null}get effectiveType(){return r.Types.Null}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return""}release(){}toString(){return""}}},{t:r.Types.Number,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.Number,value:o}}get value(){return this.model.value}set value(s){this.model.value=s}get type(){return r.Types.Number}get effectiveType(){return r.Types.Number}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:r.Types.String,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.String,value:o}}get value(){return this.model.value}set value(s){this.model.value=s}get type(){return r.Types.String}get effectiveType(){return r.Types.String}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:r.Types.Date,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.Date,value:o}}get value(){return this.model.value}set value(s){this.model.value=s}get type(){return r.Types.Date}get effectiveType(){return r.Types.Date}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:r.Types.Hyperlink,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.Hyperlink,text:o?o.text:void 0,hyperlink:o?o.hyperlink:void 0},o&&o.tooltip&&(this.model.tooltip=o.tooltip)}get value(){const s={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(s.tooltip=this.model.tooltip),s}set value(s){this.model={text:s.text,hyperlink:s.hyperlink},s.tooltip&&(this.model.tooltip=s.tooltip)}get text(){return this.model.text}set text(s){this.model.text=s}get hyperlink(){return this.model.hyperlink}set hyperlink(s){this.model.hyperlink=s}get type(){return r.Types.Hyperlink}get effectiveType(){return r.Types.Hyperlink}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:r.Types.Formula,f:class{constructor(s,o){this.cell=s,this.model={address:s.address,type:r.Types.Formula,shareType:o?o.shareType:void 0,ref:o?o.ref:void 0,formula:o?o.formula:void 0,sharedFormula:o?o.sharedFormula:void 0,result:o?o.result:void 0}}_copyModel(s){const o={},d=f=>{const u=s[f];u&&(o[f]=u)};return d("formula"),d("result"),d("ref"),d("shareType"),d("sharedFormula"),o}get value(){return this._copyModel(this.model)}set value(s){this.model=this._copyModel(s)}validate(s){switch(c.getType(s)){case r.Types.Null:case r.Types.String:case r.Types.Number:case r.Types.Date:break;case r.Types.Hyperlink:case r.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(s){this.model.formula=s}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(s){this.model.result=s}get type(){return r.Types.Formula}get effectiveType(){const s=this.model.result;return s==null?a.ValueType.Null:s instanceof String||typeof s=="string"?a.ValueType.String:typeof s=="number"?a.ValueType.Number:s instanceof Date?a.ValueType.Date:s.text&&s.hyperlink?a.ValueType.Hyperlink:s.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(s){this.model.address=s}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:s}=this.cell,o=s.findCell(this.model.sharedFormula);this._translatedFormula=o&&n(o.formula,o.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:r.Types.Merge,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.Merge,master:o?o.address:void 0},this._master=o,o&&o.addMergeRef()}get value(){return this._master.value}set value(s){s instanceof r?(this._master&&this._master.releaseMergeRef(),s.addMergeRef(),this._master=s):this._master.value=s}isMergedTo(s){return s===this._master}get master(){return this._master}get type(){return r.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:r.Types.JSON,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.String,value:JSON.stringify(o),rawValue:o}}get value(){return this.model.rawValue}set value(s){this.model.rawValue=s,this.model.value=JSON.stringify(s)}get type(){return r.Types.String}get effectiveType(){return r.Types.String}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:r.Types.SharedString,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.SharedString,value:o}}get value(){return this.model.value}set value(s){this.model.value=s}get type(){return r.Types.SharedString}get effectiveType(){return r.Types.SharedString}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:r.Types.RichText,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.String,value:o}}get value(){return this.model.value}set value(s){this.model.value=s}toString(){return this.model.value.richText.map(s=>s.text).join("")}get type(){return r.Types.RichText}get effectiveType(){return r.Types.RichText}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:r.Types.Boolean,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.Boolean,value:o}}get value(){return this.model.value}set value(s){this.model.value=s}get type(){return r.Types.Boolean}get effectiveType(){return r.Types.Boolean}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:r.Types.Error,f:class{constructor(s,o){this.model={address:s.address,type:r.Types.Error,value:o}}get value(){return this.model.value}set value(s){this.model.value=s}get type(){return r.Types.Error}get effectiveType(){return r.Types.Error}get address(){return this.model.address}set address(s){this.model.address=s}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((s,o)=>(s[o.t]=o.f,s),[]),create(s,o,d){const f=this.types[s];if(!f)throw new Error("Could not create Value of type "+s);return new f(o,d)}};h.exports=r},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,h,m){const l=t("../utils/under-dash"),i=t("./enums"),a=t("../utils/col-cache");class n{constructor(r,c,s){this._worksheet=r,this._number=c,s!==!1&&(this.defn=s)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(r){r?(this.key=r.key,this.width=r.width!==void 0?r.width:9,this.outlineLevel=r.outlineLevel,r.style?this.style=r.style:this.style={},this.header=r.header,this._hidden=!!r.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(r){r!==void 0?(this._header=r,this.headers.forEach((c,s)=>{this._worksheet.getCell(s+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(r){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=r,r&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(r){this._hidden=r}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(r){this._outlineLevel=r}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(r){return this.width===r.width&&this.hidden===r.hidden&&this.outlineLevel===r.outlineLevel&&l.isEqual(this.style,r.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const r=this.style;return!r||!(r.font||r.numFmt||r.alignment||r.border||r.fill||r.protection)}get headerCount(){return this.headers.length}eachCell(r,c){const s=this.number;c||(c=r,r=null),this._worksheet.eachRow(r,(o,d)=>{c(o.getCell(s),d)})}get values(){const r=[];return this.eachCell((c,s)=>{c&&c.type!==i.ValueType.Null&&(r[s]=c.value)}),r}set values(r){if(!r)return;const c=this.number;let s=0;r.hasOwnProperty("0")&&(s=1),r.forEach((o,d)=>{this._worksheet.getCell(d+s,c).value=o})}_applyStyle(r,c){return this.style[r]=c,this.eachCell(s=>{s[r]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(r){this._applyStyle("numFmt",r)}get font(){return this.style.font}set font(r){this._applyStyle("font",r)}get alignment(){return this.style.alignment}set alignment(r){this._applyStyle("alignment",r)}get protection(){return this.style.protection}set protection(r){this._applyStyle("protection",r)}get border(){return this.style.border}set border(r){this._applyStyle("border",r)}get fill(){return this.style.fill}set fill(r){this._applyStyle("fill",r)}static toModel(r){const c=[];let s=null;return r&&r.forEach((o,d)=>{o.isDefault?s&&(s=null):s&&o.equivalentTo(s)?s.max=d+1:(s={min:d+1,max:d+1,width:o.width!==void 0?o.width:9,style:o.style,isCustomWidth:o.isCustomWidth,hidden:o.hidden,outlineLevel:o.outlineLevel,collapsed:o.collapsed},c.push(s))}),c.length?c:void 0}static fromModel(r,c){const s=[];let o=1,d=0;for(c=(c=c||[]).sort(function(f,u){return f.min-u.min});d<c.length;){const f=c[d++];for(;o<f.min;)s.push(new n(r,o++));for(;o<=f.max;)s.push(new n(r,o++,f))}return s.length?s:null}}h.exports=n},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,h,m){h.exports=class{constructor(l){this.model=l||{}}add(l,i){return this.model[l]=i}find(l){return this.model[l]}remove(l){this.model[l]=void 0}}},{}],6:[function(t,h,m){const l=t("../utils/under-dash"),i=t("../utils/col-cache"),a=t("../utils/cell-matrix"),n=t("./range"),e=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;h.exports=class{constructor(){this.matrixMap={}}getMatrix(r){return this.matrixMap[r]||(this.matrixMap[r]=new a)}add(r,c){const s=i.decodeEx(r);this.addEx(s,c)}addEx(r,c){const s=this.getMatrix(c);if(r.top)for(let o=r.left;o<=r.right;o++)for(let d=r.top;d<=r.bottom;d++){const f={sheetName:r.sheetName,address:i.n2l(o)+d,row:d,col:o};s.addCellEx(f)}else s.addCellEx(r)}remove(r,c){const s=i.decodeEx(r);this.removeEx(s,c)}removeEx(r,c){this.getMatrix(c).removeCellEx(r)}removeAllNames(r){l.each(this.matrixMap,c=>{c.removeCellEx(r)})}forEach(r){l.each(this.matrixMap,(c,s)=>{c.forEach(o=>{r(s,o)})})}getNames(r){return this.getNamesEx(i.decodeEx(r))}getNamesEx(r){return l.map(this.matrixMap,(c,s)=>c.findCellEx(r)&&s).filter(Boolean)}_explore(r,c){c.mark=!1;const{sheetName:s}=c,o=new n(c.row,c.col,c.row,c.col,s);let d,f;function u(p,x){const S=r.findCellAt(s,p,c.col);return!(!S||!S.mark)&&(o[x]=p,S.mark=!1,!0)}for(f=c.row-1;u(f,"top");f--);for(f=c.row+1;u(f,"bottom");f++);function g(p,x){const S=[];for(f=o.top;f<=o.bottom;f++){const M=r.findCellAt(s,f,p);if(!M||!M.mark)return!1;S.push(M)}o[x]=p;for(let M=0;M<S.length;M++)S[M].mark=!1;return!0}for(d=c.col-1;g(d,"left");d--);for(d=c.col+1;g(d,"right");d++);return o}getRanges(r,c){return(c=c||this.matrixMap[r])?(c.forEach(s=>{s.mark=!0}),{name:r,ranges:c.map(s=>s.mark&&this._explore(c,s)).filter(Boolean).map(s=>s.$shortRange)}):{name:r,ranges:[]}}normaliseMatrix(r,c){r.forEachInSheet(c,(s,o,d)=>{s&&(s.row===o&&s.col===d||(s.row=o,s.col=d,s.address=i.n2l(d)+o))})}spliceRows(r,c,s,o){l.each(this.matrixMap,d=>{d.spliceRows(r,c,s,o),this.normaliseMatrix(d,r)})}spliceColumns(r,c,s,o){l.each(this.matrixMap,d=>{d.spliceColumns(r,c,s,o),this.normaliseMatrix(d,r)})}get model(){return l.map(this.matrixMap,(r,c)=>this.getRanges(c,r)).filter(r=>r.ranges.length)}set model(r){const c=this.matrixMap={};r.forEach(s=>{const o=c[s.name]=new a;s.ranges.forEach(d=>{e.test(d.split("!").pop()||"")&&o.addCell(d)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,h,m){h.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,h,m){const l=t("../utils/col-cache"),i=t("./anchor");h.exports=class{constructor(a,n){this.worksheet=a,this.model=n}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:n,imageId:e,range:r,hyperlinks:c}=a;if(this.type=n,this.imageId=e,n==="image")if(typeof r=="string"){const s=l.decode(r);this.range={tl:new i(this.worksheet,{col:s.left,row:s.top},-1),br:new i(this.worksheet,{col:s.right,row:s.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,r.tl,0),br:r.br&&new i(this.worksheet,r.br,0),ext:r.ext,editAs:r.editAs,hyperlinks:c||r.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,h,m){const l=t("../utils/under-dash");class i{constructor(n){this.note=n}get model(){let n=null;switch(typeof this.note){case"string":n={type:"note",note:{texts:[{text:this.note}]}};break;default:n={type:"note",note:this.note}}return l.deepMerge({},i.DEFAULT_CONFIGS,n)}set model(n){const{note:e}=n,{texts:r}=e;r.length===1&&Object.keys(r[0]).length===1?this.note=r[0].text:this.note=e}static fromModel(n){const e=new i;return e.model=n,e}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},h.exports=i},{"../utils/under-dash":26}],10:[function(t,h,m){const l=t("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(n,e,r,c,s){if(arguments.length<4){const o=l.decodeAddress(n),d=l.decodeAddress(e);this.model={top:Math.min(o.row,d.row),left:Math.min(o.col,d.col),bottom:Math.max(o.row,d.row),right:Math.max(o.col,d.col),sheetName:r},this.setTLBR(o.row,o.col,d.row,d.col,s)}else this.model={top:Math.min(n,r),left:Math.min(e,c),bottom:Math.max(n,r),right:Math.max(e,c),sheetName:s}}decode(n){switch(n.length){case 5:this.setTLBR(n[0],n[1],n[2],n[3],n[4]);break;case 4:this.setTLBR(n[0],n[1],n[2],n[3]);break;case 3:this.setTLBR(n[0],n[1],n[2]);break;case 2:this.setTLBR(n[0],n[1]);break;case 1:{const e=n[0];if(e instanceof i)this.model={top:e.model.top,left:e.model.left,bottom:e.model.bottom,right:e.model.right,sheetName:e.sheetName};else if(e instanceof Array)this.decode(e);else if(e.top&&e.left&&e.bottom&&e.right)this.model={top:e.top,left:e.left,bottom:e.bottom,right:e.right,sheetName:e.sheetName};else{const r=l.decodeEx(e);r.top?this.model={top:r.top,left:r.left,bottom:r.bottom,right:r.right,sheetName:r.sheetName}:this.model={top:r.row,left:r.col,bottom:r.row,right:r.col,sheetName:r.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+n.length)}}get top(){return this.model.top||1}set top(n){this.model.top=n}get left(){return this.model.left||1}set left(n){this.model.left=n}get bottom(){return this.model.bottom||1}set bottom(n){this.model.bottom=n}get right(){return this.model.right||1}set right(n){this.model.right=n}get sheetName(){return this.model.sheetName}set sheetName(n){this.model.sheetName=n}get _serialisedSheetName(){const{sheetName:n}=this.model;return n?/^[a-zA-Z0-9]*$/.test(n)?n+"!":`'${n}'!`:""}expand(n,e,r,c){(!this.model.top||n<this.top)&&(this.top=n),(!this.model.left||e<this.left)&&(this.left=e),(!this.model.bottom||r>this.bottom)&&(this.bottom=r),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(n){if(n){const{dimensions:e,number:r}=n;e&&this.expand(r,e.min,r,e.max)}}expandToAddress(n){const e=l.decodeEx(n);this.expand(e.row,e.col,e.row,e.col)}get tl(){return l.n2l(this.left)+this.top}get $t$l(){return`$${l.n2l(this.left)}$${this.top}`}get br(){return l.n2l(this.right)+this.bottom}get $b$r(){return`$${l.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(n){return(!n.sheetName||!this.sheetName||n.sheetName===this.sheetName)&&!(n.bottom<this.top)&&!(n.top>this.bottom)&&!(n.right<this.left)&&!(n.left>this.right)}contains(n){const e=l.decodeEx(n);return this.containsEx(e)}containsEx(n){return(!n.sheetName||!this.sheetName||n.sheetName===this.sheetName)&&n.row>=this.top&&n.row<=this.bottom&&n.col>=this.left&&n.col<=this.right}forEachAddress(n){for(let e=this.left;e<=this.right;e++)for(let r=this.top;r<=this.bottom;r++)n(l.encodeAddress(r,e),r,e)}}h.exports=i},{"../utils/col-cache":19}],11:[function(t,h,m){const l=t("../utils/under-dash"),i=t("./enums"),a=t("../utils/col-cache"),n=t("./cell");h.exports=class{constructor(e,r){this._worksheet=e,this._number=r,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(e){return this._cells[e-1]}getCellEx(e){let r=this._cells[e.col-1];if(!r){const c=this._worksheet.getColumn(e.col);r=new n(this,c,e.address),this._cells[e.col-1]=r}return r}getCell(e){if(typeof e=="string"){const r=this._worksheet.getColumnKey(e);e=r?r.number:a.l2n(e)}return this._cells[e-1]||this.getCellEx({address:a.encodeAddress(this._number,e),row:this._number,col:e})}splice(e,r){const c=e+r;for(var s=arguments.length,o=new Array(s>2?s-2:0),d=2;d<s;d++)o[d-2]=arguments[d];const f=o.length-r,u=this._cells.length;let g,p,x;if(f<0)for(g=e+o.length;g<=u;g++)x=this._cells[g-1],p=this._cells[g-f-1],p?(x=this.getCell(g),x.value=p.value,x.style=p.style,x._comment=p._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(f>0)for(g=u;g>=c;g--)p=this._cells[g-1],p?(x=this.getCell(g+f),x.value=p.value,x.style=p.style,x._comment=p._comment):this._cells[g+f-1]=void 0;for(g=0;g<o.length;g++)x=this.getCell(e+g),x.value=o[g],x.style={},x._comment=void 0}eachCell(e,r){if(r||(r=e,e=null),e&&e.includeEmpty){const c=this._cells.length;for(let s=1;s<=c;s++)r(this.getCell(s),s)}else this._cells.forEach((c,s)=>{c&&c.type!==i.ValueType.Null&&r(c,s+1)})}addPageBreak(e,r){const c=this._worksheet,s=Math.max(0,e-1)||0,o=Math.max(0,r-1)||16838,d={id:this._number,max:o,man:1};s&&(d.min=s),c.rowBreaks.push(d)}get values(){const e=[];return this._cells.forEach(r=>{r&&r.type!==i.ValueType.Null&&(e[r.col]=r.value)}),e}set values(e){if(this._cells=[],e)if(e instanceof Array){let r=0;e.hasOwnProperty("0")&&(r=1),e.forEach((c,s)=>{c!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,s+r),row:this._number,col:s+r}).value=c)})}else this._worksheet.eachColumnKey((r,c)=>{e[c]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,r.number),row:this._number,col:r.number}).value=e[c])})}get hasValues(){return l.some(this._cells,e=>e&&e.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let e=0;return this.eachCell(()=>{e++}),e}get dimensions(){let e=0,r=0;return this._cells.forEach(c=>{c&&c.type!==i.ValueType.Null&&((!e||e>c.col)&&(e=c.col),r<c.col&&(r=c.col))}),e>0?{min:e,max:r}:null}_applyStyle(e,r){return this.style[e]=r,this._cells.forEach(c=>{c&&(c[e]=r)}),r}get numFmt(){return this.style.numFmt}set numFmt(e){this._applyStyle("numFmt",e)}get font(){return this.style.font}set font(e){this._applyStyle("font",e)}get alignment(){return this.style.alignment}set alignment(e){this._applyStyle("alignment",e)}get protection(){return this.style.protection}set protection(e){this._applyStyle("protection",e)}get border(){return this.style.border}set border(e){this._applyStyle("border",e)}get fill(){return this.style.fill}set fill(e){this._applyStyle("fill",e)}get hidden(){return!!this._hidden}set hidden(e){this._hidden=e}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(e){this._outlineLevel=e}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const e=[];let r=0,c=0;return this._cells.forEach(s=>{if(s){const o=s.model;o&&((!r||r>s.col)&&(r=s.col),c<s.col&&(c=s.col),e.push(o))}}),this.height||e.length?{cells:e,number:this.number,min:r,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(e){if(e.number!==this._number)throw new Error("Invalid row number in model");let r;this._cells=[],e.cells.forEach(c=>{switch(c.type){case n.Types.Merge:break;default:{let s;if(c.address)s=a.decodeAddress(c.address);else if(r){const{row:o}=r,d=r.col+1;s={row:o,col:d,address:a.encodeAddress(o,d),$col$row:`$${a.n2l(d)}$${o}`}}r=s,this.getCellEx(s).model=c;break}}}),e.height?this.height=e.height:delete this.height,this.hidden=e.hidden,this.outlineLevel=e.outlineLevel||0,this.style=e.style&&JSON.parse(JSON.stringify(e.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,h,m){const l=t("../utils/col-cache");class i{constructor(n,e,r){this.table=n,this.column=e,this.index=r}_set(n,e){this.table.cacheState(),this.column[n]=e}get name(){return this.column.name}set name(n){this._set("name",n)}get filterButton(){return this.column.filterButton}set filterButton(n){this.column.filterButton=n}get style(){return this.column.style}set style(n){this.column.style=n}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(n){this._set("totalsRowLabel",n)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(n){this._set("totalsRowFunction",n)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(n){this._set("totalsRowResult",n)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(n){this._set("totalsRowFormula",n)}}h.exports=class{constructor(a,n){this.worksheet=a,n&&(this.table=n,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,n=(f,u,g)=>{f[u]===void 0&&(f[u]=g)};n(a,"headerRow",!0),n(a,"totalsRow",!1),n(a,"style",{}),n(a.style,"theme","TableStyleMedium2"),n(a.style,"showFirstColumn",!1),n(a.style,"showLastColumn",!1),n(a.style,"showRowStripes",!1),n(a.style,"showColumnStripes",!1);const e=(f,u)=>{if(!f)throw new Error(u)};e(a.ref,"Table must have ref"),e(a.columns,"Table must have column definitions"),e(a.rows,"Table must have row definitions"),a.tl=l.decodeAddress(a.ref);const{row:r,col:c}=a.tl;e(r>0,"Table must be on valid row"),e(c>0,"Table must be on valid col");const{width:s,filterHeight:o,tableHeight:d}=this;a.autoFilterRef=l.encode(r,c,r+o-1,c+s-1),a.tableRef=l.encode(r,c,r+d-1,c+s-1),a.columns.forEach((f,u)=>{e(f.name,`Column ${u} must have a name`),u===0?n(f,"totalsRowLabel","Total"):(n(f,"totalsRowFunction","none"),f.totalsRowFormula=this.getFormula(f))})}store(){const a=(o,d)=>{d&&Object.keys(d).forEach(f=>{o[f]=d[f]})},{worksheet:n,table:e}=this,{row:r,col:c}=e.tl;let s=0;if(e.headerRow){const o=n.getRow(r+s++);e.columns.forEach((d,f)=>{const{style:u,name:g}=d,p=o.getCell(c+f);p.value=g,a(p,u)})}if(e.rows.forEach(o=>{const d=n.getRow(r+s++);o.forEach((f,u)=>{const g=d.getCell(c+u);g.value=f,a(g,e.columns[u].style)})}),e.totalsRow){const o=n.getRow(r+s++);e.columns.forEach((d,f)=>{const u=o.getCell(c+f);if(f===0)u.value=d.totalsRowLabel;else{const g=this.getFormula(d);u.value=g?{formula:d.totalsRowFormula,result:d.totalsRowResult}:null}a(u,d.style)})}}load(a){const{table:n}=this,{row:e,col:r}=n.tl;let c=0;if(n.headerRow){const s=a.getRow(e+c++);n.columns.forEach((o,d)=>{s.getCell(r+d).value=o.name})}if(n.rows.forEach(s=>{const o=a.getRow(e+c++);s.forEach((d,f)=>{o.getCell(r+f).value=d})}),n.totalsRow){const s=a.getRow(e+c++);n.columns.forEach((o,d)=>{const f=s.getCell(r+d);d===0?f.value=o.totalsRowLabel:this.getFormula(o)&&(f.value={formula:o.totalsRowFormula,result:o.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=l.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let n=0;n<this._cache.tableHeight;n++){const e=this.worksheet.getRow(a.row+n);for(let r=0;r<this._cache.width;r++)e.getCell(a.col+r).value=null}else{for(let n=this.tableHeight;n<this._cache.tableHeight;n++){const e=this.worksheet.getRow(a.row+n);for(let r=0;r<this._cache.width;r++)e.getCell(a.col+r).value=null}for(let n=0;n<this.tableHeight;n++){const e=this.worksheet.getRow(a.row+n);for(let r=this.width;r<this._cache.width;r++)e.getCell(a.col+r).value=null}}this.store()}addRow(a,n){this.cacheState(),n===void 0?this.table.rows.push(a):this.table.rows.splice(n,0,a)}removeRows(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,n)}getColumn(a){const n=this.table.columns[a];return new i(this,n,a)}addColumn(a,n,e){this.cacheState(),e===void 0?(this.table.columns.push(a),this.table.rows.forEach((r,c)=>{r.push(n[c])})):(this.table.columns.splice(e,0,a),this.table.rows.forEach((r,c)=>{r.splice(e,0,n[c])}))}removeColumns(a){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,n),this.table.rows.forEach(e=>{e.splice(a,n)})}_assign(a,n,e){this.cacheState(),a[n]=e}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(t,h,m){const l=t("./worksheet"),i=t("./defined-names"),a=t("../xlsx/xlsx"),n=t("../csv/csv");h.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new n(this)),this._csv}get nextId(){for(let e=1;e<this._worksheets.length;e++)if(!this._worksheets[e])return e;return this._worksheets.length||1}addWorksheet(e,r){const c=this.nextId;r&&(typeof r=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),r={properties:{tabColor:{argb:r}}}):(r.argb||r.theme||r.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),r={properties:{tabColor:r}}));const s=this._worksheets.reduce((f,u)=>(u&&u.orderNo)>f?u.orderNo:f,0),o=Object.assign({},r,{id:c,name:e,orderNo:s+1,workbook:this}),d=new l(o);return this._worksheets[c]=d,d}removeWorksheetEx(e){delete this._worksheets[e.id]}removeWorksheet(e){const r=this.getWorksheet(e);r&&r.destroy()}getWorksheet(e){return e===void 0?this._worksheets.find(Boolean):typeof e=="number"?this._worksheets[e]:typeof e=="string"?this._worksheets.find(r=>r&&r.name===e):void 0}get worksheets(){return this._worksheets.slice(1).sort((e,r)=>e.orderNo-r.orderNo).filter(Boolean)}eachSheet(e){this.worksheets.forEach(r=>{e(r,r.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(e){const r=this.media.length;return this.media.push(Object.assign({},e,{type:"image"})),r}getImage(e){return this.media[e]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(e=>e.model),sheets:this.worksheets.map(e=>e.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(e){this.creator=e.creator,this.lastModifiedBy=e.lastModifiedBy,this.lastPrinted=e.lastPrinted,this.created=e.created,this.modified=e.modified,this.company=e.company,this.manager=e.manager,this.title=e.title,this.subject=e.subject,this.keywords=e.keywords,this.category=e.category,this.description=e.description,this.language=e.language,this.revision=e.revision,this.contentStatus=e.contentStatus,this.properties=e.properties,this.calcProperties=e.calcProperties,this._worksheets=[],e.worksheets.forEach(r=>{const{id:c,name:s,state:o}=r,d=e.sheets&&e.sheets.findIndex(f=>f.id===c);(this._worksheets[c]=new l({id:c,name:s,orderNo:d,state:o,workbook:this})).model=r}),this._definedNames.model=e.definedNames,this.views=e.views,this._themes=e.themes,this.media=e.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,h,m){const l=t("../utils/under-dash"),i=t("../utils/col-cache"),a=t("./range"),n=t("./row"),e=t("./column"),r=t("./enums"),c=t("./image"),s=t("./table"),o=t("./data-validations"),d=t("../utils/encryptor"),{copyStyle:f}=t("../utils/copy-style");h.exports=class{constructor(u){u=u||{},this._workbook=u.workbook,this.id=u.id,this.orderNo=u.orderNo,this.name=u.name,this.state=u.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},u.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!u.pageSetup||!u.pageSetup.fitToWidth&&!u.pageSetup.fitToHeight||u.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},u.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},u.headerFooter),this.dataValidations=new o,this.views=u.views||[],this.autoFilter=u.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(u){if(u===void 0&&(u="sheet"+this.id),this._name!==u){if(typeof u!="string")throw new Error("The name has to be a string.");if(u==="")throw new Error("The name can't be empty.");if(u==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(u))throw new Error(`Worksheet name ${u} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(u))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+u);if(u&&u.length>31&&(console.warn(`Worksheet name ${u} exceeds 31 chars. This will be truncated`),u=u.substring(0,31)),this._workbook._worksheets.find(g=>g&&g.name.toLowerCase()===u.toLowerCase()))throw new Error("Worksheet name already exists: "+u);this._name=u}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const u=new a;return this._rows.forEach(g=>{if(g){const p=g.dimensions;p&&u.expand(g.number,p.min,g.number,p.max)}}),u}get columns(){return this._columns}set columns(u){this._headerRowCount=u.reduce((x,S)=>{const M=(S.header?1:S.headers&&S.headers.length)||0;return Math.max(x,M)},0);let g=1;const p=this._columns=[];u.forEach(x=>{const S=new e(this,g++,!1);p.push(S),S.defn=x})}getColumnKey(u){return this._keys[u]}setColumnKey(u,g){this._keys[u]=g}deleteColumnKey(u){delete this._keys[u]}eachColumnKey(u){l.each(this._keys,u)}getColumn(u){if(typeof u=="string"){const g=this._keys[u];if(g)return g;u=i.l2n(u)}if(this._columns||(this._columns=[]),u>this._columns.length){let g=this._columns.length+1;for(;g<=u;)this._columns.push(new e(this,g++))}return this._columns[u-1]}spliceColumns(u,g){const p=this._rows.length;for(var x=arguments.length,S=new Array(x>2?x-2:0),M=2;M<x;M++)S[M-2]=arguments[M];if(S.length>0)for(let L=0;L<p;L++){const F=[u,g];S.forEach(W=>{F.push(W[L]||null)});const $=this.getRow(L+1);$.splice.apply($,F)}else this._rows.forEach(L=>{L&&L.splice(u,g)});const R=S.length-g,B=u+g,N=this._columns.length;if(R<0)for(let L=u+S.length;L<=N;L++)this.getColumn(L).defn=this.getColumn(L-R).defn;else if(R>0)for(let L=N;L>=B;L--)this.getColumn(L+R).defn=this.getColumn(L).defn;for(let L=u;L<u+S.length;L++)this.getColumn(L).defn=null;this.workbook.definedNames.spliceColumns(this.name,u,g,S.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let u=0;return this.eachRow(g=>{u=Math.max(u,g.cellCount)}),u}get actualColumnCount(){const u=[];let g=0;return this.eachRow(p=>{p.eachCell(x=>{let{col:S}=x;u[S]||(u[S]=!0,g++)})}),g}_commitRow(){}get _lastRowNumber(){const u=this._rows;let g=u.length;for(;g>0&&u[g-1]===void 0;)g--;return g}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(u){return this._rows[u-1]}findRows(u,g){return this._rows.slice(u-1,u-1+g)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let u=0;return this.eachRow(()=>{u++}),u}getRow(u){let g=this._rows[u-1];return g||(g=this._rows[u-1]=new n(this,u)),g}getRows(u,g){if(g<1)return;const p=[];for(let x=u;x<u+g;x++)p.push(this.getRow(x));return p}addRow(u){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const p=this._nextRow,x=this.getRow(p);return x.values=u,this._setStyleOption(p,g[0]==="i"?g:"n"),x}addRows(u){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const p=[];return u.forEach(x=>{p.push(this.addRow(x,g))}),p}insertRow(u,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(u,0,g),this._setStyleOption(u,p),this.getRow(u)}insertRows(u,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(u,0,...g),p!=="n")for(let x=0;x<g.length;x++)p[0]==="o"&&this.findRow(g.length+u+x)!==void 0?this._copyStyle(g.length+u+x,u+x,p[1]==="+"):p[0]==="i"&&this.findRow(u-1)!==void 0&&this._copyStyle(u-1,u+x,p[1]==="+");return this.getRows(u,g.length)}_setStyleOption(u){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";g[0]==="o"&&this.findRow(u+1)!==void 0?this._copyStyle(u+1,u,g[1]==="+"):g[0]==="i"&&this.findRow(u-1)!==void 0&&this._copyStyle(u-1,u,g[1]==="+")}_copyStyle(u,g){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(u),S=this.getRow(g);S.style=f(x.style),x.eachCell({includeEmpty:p},(M,R)=>{S.getCell(R).style=f(M.style)}),S.height=x.height}duplicateRow(u,g){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[u-1],S=new Array(g).fill(x.values);this.spliceRows(u+1,p?0:g,...S);for(let M=0;M<g;M++){const R=this._rows[u+M];R.style=x.style,R.height=x.height,x.eachCell({includeEmpty:!0},(B,N)=>{R.getCell(N).style=B.style})}}spliceRows(u,g){const p=u+g;for(var x=arguments.length,S=new Array(x>2?x-2:0),M=2;M<x;M++)S[M-2]=arguments[M];const R=S.length,B=R-g,N=this._rows.length;let L,F;if(B<0)for(u===N&&(this._rows[N-1]=void 0),L=p;L<=N;L++)if(F=this._rows[L-1],F){const $=this.getRow(L+B);$.values=F.values,$.style=F.style,$.height=F.height,F.eachCell({includeEmpty:!0},(W,C)=>{$.getCell(C).style=W.style}),this._rows[L-1]=void 0}else this._rows[L+B-1]=void 0;else if(B>0)for(L=N;L>=p;L--)if(F=this._rows[L-1],F){const $=this.getRow(L+B);$.values=F.values,$.style=F.style,$.height=F.height,F.eachCell({includeEmpty:!0},(W,C)=>{if($.getCell(C).style=W.style,W._value.constructor.name==="MergeValue"){const D=this.getRow(W._row._number+R).getCell(C),k=W._value._master,y=this.getRow(k._row._number+R).getCell(k._column._number);D.merge(y)}})}else this._rows[L+B-1]=void 0;for(L=0;L<R;L++){const $=this.getRow(u+L);$.style={},$.values=S[L]}this.workbook.definedNames.spliceRows(this.name,u,g,R)}eachRow(u,g){if(g||(g=u,u=void 0),u&&u.includeEmpty){const p=this._rows.length;for(let x=1;x<=p;x++)g(this.getRow(x),x)}else this._rows.forEach(p=>{p&&p.hasValues&&g(p,p.number)})}getSheetValues(){const u=[];return this._rows.forEach(g=>{g&&(u[g.number]=g.values)}),u}findCell(u,g){const p=i.getAddress(u,g),x=this._rows[p.row-1];return x?x.findCell(p.col):void 0}getCell(u,g){const p=i.getAddress(u,g);return this.getRow(p.row).getCellEx(p)}mergeCells(){for(var u=arguments.length,g=new Array(u),p=0;p<u;p++)g[p]=arguments[p];const x=new a(g);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var u=arguments.length,g=new Array(u),p=0;p<u;p++)g[p]=arguments[p];const x=new a(g);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(u,g){l.each(this._merges,x=>{if(x.intersects(u))throw new Error("Cannot merge already merged cells")});const p=this.getCell(u.top,u.left);for(let x=u.top;x<=u.bottom;x++)for(let S=u.left;S<=u.right;S++)(x>u.top||S>u.left)&&this.getCell(x,S).merge(p,g);this._merges[p.address]=u}_unMergeMaster(u){const g=this._merges[u.address];if(g){for(let p=g.top;p<=g.bottom;p++)for(let x=g.left;x<=g.right;x++)this.getCell(p,x).unmerge();delete this._merges[u.address]}}get hasMerges(){return l.some(this._merges,Boolean)}unMergeCells(){for(var u=arguments.length,g=new Array(u),p=0;p<u;p++)g[p]=arguments[p];const x=new a(g);for(let S=x.top;S<=x.bottom;S++)for(let M=x.left;M<=x.right;M++){const R=this.findCell(S,M);R&&(R.type===r.ValueType.Merge?this._unMergeMaster(R.master):this._merges[R.address]&&this._unMergeMaster(R))}}fillFormula(u,g,p){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const S=i.decode(u),{top:M,left:R,bottom:B,right:N}=S,L=N-R+1,F=i.encodeAddress(M,R),$=x==="shared";let W;W=typeof p=="function"?p:Array.isArray(p)?Array.isArray(p[0])?(D,k)=>p[D-M][k-R]:(D,k)=>p[(D-M)*L+(k-R)]:()=>{};let C=!0;for(let D=M;D<=B;D++)for(let k=R;k<=N;k++)C?(this.getCell(D,k).value={shareType:x,formula:g,ref:u,result:W(D,k)},C=!1):this.getCell(D,k).value=$?{sharedFormula:F,result:W(D,k)}:W(D,k)}addImage(u,g){const p={type:"image",imageId:u,range:g};this._media.push(new c(this,p))}getImages(){return this._media.filter(u=>u.type==="image")}addBackgroundImage(u){const g={type:"background",imageId:u};this._media.push(new c(this,g))}getBackgroundImageId(){const u=this._media.find(g=>g.type==="background");return u&&u.imageId}protect(u,g){return new Promise(p=>{this.sheetProtection={sheet:!0},g&&"spinCount"in g&&(g.spinCount=Number.isFinite(g.spinCount)?Math.round(Math.max(0,g.spinCount)):1e5),u&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=d.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=g&&"spinCount"in g?g.spinCount:1e5,this.sheetProtection.hashValue=d.convertPasswordToHash(u,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),g&&(this.sheetProtection=Object.assign(this.sheetProtection,g),!u&&"spinCount"in g&&delete this.sheetProtection.spinCount),p()})}unprotect(){this.sheetProtection=null}addTable(u){const g=new s(this,u);return this.tables[u.name]=g,g}getTable(u){return this.tables[u]}removeTable(u){delete this.tables[u]}getTables(){return Object.values(this.tables)}addConditionalFormatting(u){this.conditionalFormattings.push(u)}removeConditionalFormatting(u){typeof u=="number"?this.conditionalFormattings.splice(u,1):this.conditionalFormattings=u instanceof Function?this.conditionalFormattings.filter(u):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(u){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=u}get model(){const u={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};u.cols=e.toModel(this.columns);const g=u.rows=[],p=u.dimensions=new a;return this._rows.forEach(x=>{const S=x&&x.model;S&&(p.expand(S.number,S.min,S.number,S.max),g.push(S))}),u.merges=[],l.each(this._merges,x=>{u.merges.push(x.range)}),u}_parseRows(u){this._rows=[],u.rows.forEach(g=>{const p=new n(this,g.number);this._rows[p.number-1]=p,p.model=g})}_parseMergeCells(u){l.each(u.mergeCells,g=>{this.mergeCellsWithoutStyle(g)})}set model(u){this.name=u.name,this._columns=e.fromModel(this,u.cols),this._parseRows(u),this._parseMergeCells(u),this.dataValidations=new o(u.dataValidations),this.properties=u.properties,this.pageSetup=u.pageSetup,this.headerFooter=u.headerFooter,this.views=u.views,this.autoFilter=u.autoFilter,this._media=u.media.map(g=>new c(this,g)),this.sheetProtection=u.sheetProtection,this.tables=u.tables.reduce((g,p)=>{const x=new s;return x.model=p,g[p.name]=x,g},{}),this.conditionalFormattings=u.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,h,m){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const l={Workbook:t("./doc/workbook")},i=t("./doc/enums");Object.keys(i).forEach(a=>{l[a]=i[a]}),h.exports=l},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,h,m){const l=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");m.bufferToString=function(i){return typeof i=="string"?i:l?l.decode(i):i.toString()}},{}],17:[function(t,h,m){const l=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=t("buffer");m.stringToBuffer=function(a){return typeof a!="string"?a:l?i.from(l.encode(a).buffer):i.from(a)}},{buffer:220}],18:[function(t,h,m){const l=t("./under-dash"),i=t("./col-cache");h.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(i.decodeEx(a))}getCell(a){return this.findCellEx(i.decodeEx(a),!0)}findCell(a){return this.findCellEx(i.decodeEx(a),!1)}findCellAt(a,n,e){const r=this.sheets[a],c=r&&r[n];return c&&c[e]}addCellEx(a){if(a.top)for(let n=a.top;n<=a.bottom;n++)for(let e=a.left;e<=a.right;e++)this.getCellAt(a.sheetName,n,e);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,n){const e=this.findSheet(a,n),r=this.findSheetRow(e,a,n);return this.findRowCell(r,a,n)}getCellAt(a,n,e){const r=this.sheets[a]||(this.sheets[a]=[]),c=r[n]||(r[n]=[]);return c[e]||(c[e]={sheetName:a,address:i.n2l(e)+n,row:n,col:e})}removeCellEx(a){const n=this.findSheet(a);if(!n)return;const e=this.findSheetRow(n,a);e&&delete e[a.col]}forEachInSheet(a,n){const e=this.sheets[a];e&&e.forEach((r,c)=>{r&&r.forEach((s,o)=>{s&&n(s,c,o)})})}forEach(a){l.each(this.sheets,(n,e)=>{this.forEachInSheet(e,a)})}map(a){const n=[];return this.forEach(e=>{n.push(a(e))}),n}findSheet(a,n){const e=a.sheetName;return this.sheets[e]?this.sheets[e]:n?this.sheets[e]=[]:void 0}findSheetRow(a,n,e){const{row:r}=n;return a&&a[r]?a[r]:e?a[r]=[]:void 0}findRowCell(a,n,e){const{col:r}=n;return a&&a[r]?a[r]:e?a[r]=this.template?Object.assign(n,JSON.parse(JSON.stringify(this.template))):n:void 0}spliceRows(a,n,e,r){const c=this.sheets[a];if(c){const s=[];for(let o=0;o<r;o++)s.push([]);c.splice(n,e,...s)}}spliceColumns(a,n,e,r){const c=this.sheets[a];if(c){const s=[];for(let o=0;o<r;o++)s.push(null);l.each(c,o=>{o.splice(n,e,...s)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,h,m){const l=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let n,e,r,c,s,o=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;o<=26;)n=this._dictionary[o-1],this._n2l[o]=n,this._l2n[n]=o,o++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(o=27;o<=702;)e=o-27,r=e%26,c=Math.floor(e/26),n=this._dictionary[c]+this._dictionary[r],this._n2l[o]=n,this._l2n[n]=o,o++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(o=703;o<=16384;)e=o-703,r=e%26,c=Math.floor(e/26)%26,s=Math.floor(e/676),n=this._dictionary[s]+this._dictionary[c]+this._dictionary[r],this._n2l[o]=n,this._l2n[n]=o,o++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!l.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const n=a.length<5&&this._hash[a];if(n)return n;let e=!1,r="",c=0,s=!1,o="",d=0;for(let u,g=0;g<a.length;g++)if(u=a.charCodeAt(g),!s&&u>=65&&u<=90)e=!0,r+=a[g],c=26*c+u-64;else if(u>=48&&u<=57)s=!0,o+=a[g],d=10*d+u-48;else if(s&&e&&u!==36)break;if(e){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+r)}else c=void 0;s||(d=void 0);const f={address:a=r+o,col:c,row:d,$col$row:`$${r}$${o}`};return c<=100&&d<=100&&(this._hash[a]=f,this._hash[f.$col$row]=f),f},getAddress(a,n){if(n){const e=this.n2l(n)+a;return this.decodeAddress(e)}return this.decodeAddress(a)},decode(a){const n=a.split(":");if(n.length===2){const e=this.decodeAddress(n[0]),r=this.decodeAddress(n[1]),c={top:Math.min(e.row,r.row),left:Math.min(e.col,r.col),bottom:Math.max(e.row,r.row),right:Math.max(e.col,r.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(a)},decodeEx(a){const n=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),e=n[1]||n[2],r=n[3],c=r.split(":");if(c.length>1){let o=this.decodeAddress(c[0]),d=this.decodeAddress(c[1]);const f=Math.min(o.row,d.row),u=Math.min(o.col,d.col),g=Math.max(o.row,d.row),p=Math.max(o.col,d.col);return o=this.n2l(u)+f,d=this.n2l(p)+g,{top:f,left:u,bottom:g,right:p,sheetName:e,tl:{address:o,col:u,row:f,$col$row:`$${this.n2l(u)}$${f}`,sheetName:e},br:{address:d,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:e},dimensions:`${o}:${d}`}}if(r.startsWith("#"))return e?{sheetName:e,error:r}:{error:r};const s=this.decodeAddress(r);return e?{sheetName:e,...s}:s},encodeAddress:(a,n)=>i.n2l(n)+a,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,n){const[e,r,,c,s]=a,[o,d]=n;return o>=e&&o<=c&&d>=r&&d<=s}};h.exports=i},{}],20:[function(t,h,m){const l=(a,n)=>({...a,...n.reduce((e,r)=>(a[r]&&(e[r]={...a[r]}),e),{})}),i=function(a,n,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[e]&&(n[e]=l(a[e],r))};m.copyStyle=a=>{if(!a)return a;if(n=a,Object.keys(n).length===0)return{};var n;const e={...a};return i(a,e,"font",["color"]),i(a,e,"alignment"),i(a,e,"protection"),a.border&&(i(a,e,"border"),i(a.border,e.border,"top",["color"]),i(a.border,e.border,"left",["color"]),i(a.border,e.border,"bottom",["color"]),i(a.border,e.border,"right",["color"]),i(a.border,e.border,"diagonal",["color"])),a.fill&&(i(a,e,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(e.fill.stops=a.fill.stops.map(r=>l(r,["color"])))),e}},{}],21:[function(t,h,m){(function(l){(function(){const i=t("crypto"),a={hash(n){const e=i.createHash(n);for(var r=arguments.length,c=new Array(r>1?r-1:0),s=1;s<r;s++)c[s-1]=arguments[s];return e.update(l.concat(c)),e.digest()},convertPasswordToHash(n,e,r,c){if(e=e.toLowerCase(),i.getHashes().indexOf(e)<0)throw new Error(`Hash algorithm '${e}' not supported!`);const s=l.from(n,"utf16le");let o=this.hash(e,l.from(r,"base64"),s);for(let d=0;d<c;d++){const f=l.alloc(4);f.writeUInt32LE(d,0),o=this.hash(e,o,f)}return o.toString("base64")},randomBytes:n=>i.randomBytes(n)};h.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,h,m){const{SaxesParser:l}=t("saxes"),{PassThrough:i}=t("readable-stream"),{bufferToString:a}=t("./browser-buffer-decode");h.exports=async function*(n){n.pipe&&!n[Symbol.asyncIterator]&&(n=n.pipe(new i));const e=new l;let r;e.on("error",s=>{r=s});let c=[];e.on("opentag",s=>c.push({eventType:"opentag",value:s})),e.on("text",s=>c.push({eventType:"text",value:s})),e.on("closetag",s=>c.push({eventType:"closetag",value:s}));for await(const s of n){if(e.write(a(s)),r)throw r;yield c,c=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,h,m){const l=t("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;h.exports={slideFormula:function(n,e,r){const c=l.decode(e),s=l.decode(r);return n.replace(i,(o,d,f,u,g)=>{if(g)return o;const p=a.exec(u);if(p){const x=p[1],S=p[2].toUpperCase(),M=p[3],R=p[4];if(S.length>3||S.length===3&&S>"XFD")return o;let B=l.l2n(S),N=parseInt(R,10);return x||(B+=s.col-c.col),M||(N+=s.row-c.row),(d||"")+(x||"")+l.n2l(B)+(M||"")+N}return o})}}},{"./col-cache":19}],24:[function(t,h,m){(function(l,i){(function(){const a=t("readable-stream"),n=t("./utils"),e=t("./string-buf");class r{constructor(u,g){this._data=u,this._encoding=g}get length(){return this.toBuffer().length}copy(u,g,p,x){return this.toBuffer().copy(u,g,p,x)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class c{constructor(u){this._data=u}get length(){return this._data.length}copy(u,g,p,x){return this._data._buf.copy(u,g,p,x)}toBuffer(){return this._data.toBuffer()}}class s{constructor(u){this._data=u}get length(){return this._data.length}copy(u,g,p,x){this._data.copy(u,g,p,x)}toBuffer(){return this._data}}class o{constructor(u){this.size=u,this.buffer=i.alloc(u),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const u=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(u,0,this.iRead,this.iWrite),u}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(u){let g;return u===0?null:u===void 0||u>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=i.alloc(u),this.buffer.copy(g,0,this.iRead,u),this.iRead+=u,g)}write(u,g,p){const x=Math.min(p,this.size-this.iWrite);return u.copy(this.buffer,this.iWrite,g,g+x),this.iWrite+=x,x}}const d=function(f){f=f||{},this.bufSize=f.bufSize||1048576,this.buffers=[],this.batch=f.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};n.inherits(d,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(f=>f.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const u=this.buffers[this.buffers.length-1];if(!u.full)return u}const f=new o(this.bufSize);return this.buffers.push(f),f},async _pipe(f){await Promise.all(this.pipes.map(function(u){return new Promise(g=>{u.write(f.toBuffer(),()=>{g()})})}))},_writeToBuffers(f){let u=0;const g=f.length;for(;u<g;)u+=this._getWritableBuffer().write(f,u,g-u)},async write(f,u,g){let p;if(u instanceof Function&&(g=u,u="utf8"),g=g||n.nop,f instanceof e)p=new c(f);else if(f instanceof i)p=new s(f);else{if(!(typeof f=="string"||f instanceof String||f instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");p=new r(f,u)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(p);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(p),l.nextTick(g)):(await this._pipe(p),g());else this.paused||this.emit("data",p.toBuffer()),this._writeToBuffers(p),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(f,u,g){const p=x=>{x?g(x):(this._flush(),this.pipes.forEach(S=>{S.end()}),this.emit("finish"))};f?this.write(f,u,p):p()},read(f){let u;if(f){for(u=[];f&&this.buffers.length&&!this.buffers[0].eod;){const g=this.buffers[0],p=g.read(f);f-=p.length,u.push(p),g.eod&&g.full&&this.buffers.shift()}return i.concat(u)}return u=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],i.concat(u)},setEncoding(f){this.encoding=f},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(f){this.pipes.push(f),!this.paused&&this.buffers.length&&this.end()},unpipe(f){this.pipes=this.pipes.filter(u=>u!==f)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),h.exports=d}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,h,m){(function(l){(function(){h.exports=class{constructor(i){this._buf=l.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=l.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let a=2*this._buf.length;for(;a<i;)a*=2;const n=l.alloc(a);this._buf.copy(n,0),this._buf=n}addText(i){this._buffer=void 0;let a=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+i.length),a=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=a}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,h,m){const{toString:l}=Object.prototype,i=/["&<>]/,a={each:function(n,e){n&&(Array.isArray(n)?n.forEach(e):Object.keys(n).forEach(r=>{e(n[r],r)}))},some:function(n,e){return!!n&&(Array.isArray(n)?n.some(e):Object.keys(n).some(r=>e(n[r],r)))},every:function(n,e){return!n||(Array.isArray(n)?n.every(e):Object.keys(n).every(r=>e(n[r],r)))},map:function(n,e){return n?Array.isArray(n)?n.map(e):Object.keys(n).map(r=>e(n[r],r)):[]},keyBy:(n,e)=>n.reduce((r,c)=>(r[c[e]]=c,r),{}),isEqual:function(n,e){const r=typeof n,c=typeof e,s=Array.isArray(n),o=Array.isArray(e);let d;if(r!==c)return!1;switch(typeof n){case"object":if(s||o)return!(!s||!o)&&n.length===e.length&&n.every((f,u)=>{const g=e[u];return a.isEqual(f,g)});if(n===null||e===null)return n===e;if(d=Object.keys(n),Object.keys(e).length!==d.length)return!1;for(const f of d)if(!e.hasOwnProperty(f))return!1;return a.every(n,(f,u)=>{const g=e[u];return a.isEqual(f,g)});default:return n===e}},escapeHtml(n){const e=i.exec(n);if(!e)return n;let r="",c="",s=0,o=e.index;for(;o<n.length;o++){switch(n.charAt(o)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}s!==o&&(r+=n.substring(s,o)),s=o+1,r+=c}return s!==o?r+n.substring(s,o):r},strcmp:(n,e)=>n<e?-1:n>e?1:0,isUndefined:n=>l.call(n)==="[object Undefined]",isObject:n=>l.call(n)==="[object Object]",deepMerge(){const n=arguments[0]||{},{length:e}=arguments;let r,c,s;function o(d,f){r=n[f],s=Array.isArray(d),a.isObject(d)||s?(s?(s=!1,c=r&&Array.isArray(r)?r:[]):c=r&&a.isObject(r)?r:{},n[f]=a.deepMerge(c,d)):a.isUndefined(d)||(n[f]=d)}for(let d=0;d<e;d++)a.each(arguments[d],o);return n}};h.exports=a},{}],27:[function(t,h,m){(function(l,i){(function(){const a=t("fs"),n=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,e={nop(){},promiseImmediate:r=>new Promise(c=>{l.setImmediate?i(()=>{c(r)}):setTimeout(()=>{c(r)},1)}),inherits:function(r,c,s,o){r.super_=c,o||(o=s,s=null),s&&Object.keys(s).forEach(f=>{Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))});const d={constructor:{value:r,enumerable:!1,writable:!1,configurable:!0}};o&&Object.keys(o).forEach(f=>{d[f]=Object.getOwnPropertyDescriptor(o,f)}),r.prototype=Object.create(c.prototype,d)},dateToExcel:(r,c)=>25569+r.getTime()/864e5-(c?1462:0),excelToDate(r,c){const s=Math.round(24*(r-25569+(c?1462:0))*3600*1e3);return new Date(s)},parsePath(r){const c=r.lastIndexOf("/");return{path:r.substring(0,c),name:r.substring(c+1)}},getRelsPath(r){const c=e.parsePath(r);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(r){const c=n.exec(r);if(!c)return r;let s="",o="",d=0,f=c.index;for(;f<r.length;f++){const u=r.charCodeAt(f);switch(u){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&apos;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;case 127:o="";break;default:if(u<=31&&(u<=8||u>=11&&u!==13)){o="";break}continue}d!==f&&(s+=r.substring(d,f)),d=f+1,o&&(s+=o)}return d!==f?s+r.substring(d,f):s},xmlDecode:r=>r.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(r){const c=parseInt(r,10);return Number.isNaN(c)?0:c},isDateFmt(r){return r?(r=(r=r.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:r=>new Promise(c=>{a.access(r,a.constants.F_OK,s=>{c(!s)})})},toIsoDateString:r=>r.toIsoString().subsstr(0,10),parseBoolean:r=>r===!0||r==="true"||r===1||r==="1"};h.exports=e}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,h,m){const l=t("./under-dash"),i=t("./utils");function a(r,c,s){r.push(` ${c}="${i.xmlEncode(s.toString())}"`)}function n(r,c){if(c){const s=[];l.each(c,(o,d)=>{o!==void 0&&a(s,d,o)}),r.push(s.join(""))}}class e{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){const s=this._xml;s.push("<?xml"),n(s,c),s.push(`?>
`)}openNode(c,s){const o=this.tos,d=this._xml;o&&this.open&&d.push(">"),this._stack.push(c),d.push("<"),d.push(c),n(d,s),this.leaf=!0,this.open=!0}addAttribute(c,s){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s!==void 0&&a(this._xml,c,s)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");n(this._xml,c)}writeText(c){const s=this._xml;this.open&&(s.push(">"),this.open=!1),this.leaf=!1,s.push(i.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){const c=this._stack.pop(),s=this._xml;this.leaf?s.push("/>"):(s.push("</"),s.push(c),s.push(">")),this.open=!1,this.leaf=!1}leafNode(c,s,o){this.openNode(c,s),o!==void 0&&this.writeText(o),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}e.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},h.exports=e},{"./under-dash":26,"./utils":27}],29:[function(t,h,m){(function(l){(function(){const i=t("events"),a=t("jszip"),n=t("./stream-buf"),{stringToBuffer:e}=t("./browser-buffer-encode");class r extends i.EventEmitter{constructor(s){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},s),this.zip=new a,this.stream=new n}append(s,o){o.hasOwnProperty("base64")&&o.base64?this.zip.file(o.name,s,{base64:!0}):(l.browser&&typeof s=="string"&&(s=e(s)),this.zip.file(o.name,s))}async finalize(){const s=await this.zip.generateAsync(this.options);this.stream.end(s),this.emit("finish")}read(s){return this.stream.read(s)}setEncoding(s){return this.stream.setEncoding(s)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(s,o){return this.stream.pipe(s,o)}unpipe(s){return this.stream.unpipe(s)}unshift(s){return this.stream.unshift(s)}wrap(s){return this.stream.wrap(s)}}h.exports={ZipWriter:r}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,h,m){h.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,h,m){h.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,h,m){const l=t("../../utils/parse-sax"),i=t("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(e){}parseText(e){}parseClose(e){}reconcile(e,r){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(e=>{e instanceof a?e.reset():e.xform&&e.xform.reset()})}mergeModel(e){this.model=Object.assign(this.model||{},e)}async parse(e){for await(const r of e)for(const{eventType:c,value:s}of r)if(c==="opentag")this.parseOpen(s);else if(c==="text")this.parseText(s);else if(c==="closetag"&&!this.parseClose(s.name))return this.model;return this.model}async parseStream(e){return this.parse(l(e))}get xml(){return this.toXml(this.model)}toXml(e){const r=new i;return this.render(r,e),r.xml}static toAttribute(e,r){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e===void 0){if(c)return r}else if(c||e!==r)return e.toString()}static toStringAttribute(e,r){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(e,r,c)}static toStringValue(e,r){return e===void 0?r:e}static toBoolAttribute(e,r){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e===void 0){if(c)return r}else if(c||e!==r)return e?"1":"0"}static toBoolValue(e,r){return e===void 0?r:e==="1"}static toIntAttribute(e,r){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(e,r,c)}static toIntValue(e,r){return e===void 0?r:parseInt(e,10)}static toFloatAttribute(e,r){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(e,r,c)}static toFloatValue(e,r){return e===void 0?r:parseFloat(e)}}h.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,h,m){const l=t("../base-xform"),i=t("../../../utils/col-cache");function a(e){try{return i.decodeEx(e),!0}catch{return!1}}function n(e){const r=[];let c=!1,s="";return e.split(",").forEach(o=>{if(!o)return;const d=(o.match(/'/g)||[]).length;if(!d)return void(c?s+=o+",":a(o)&&r.push(o));const f=d%2==0;!c&&f&&a(o)?r.push(o):c&&!f?(c=!1,a(s+o)&&r.push(s+o),s=""):(c=!0,s+=o+",")}),r}h.exports=class extends l{render(e,r){e.openNode("definedName",{name:r.name,localSheetId:r.localSheetId}),e.writeText(r.ranges.join(",")),e.closeNode()}parseOpen(e){switch(e.name){case"definedName":return this._parsedName=e.attributes.name,this._parsedLocalSheetId=e.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(e){this._parsedText.push(e)}parseClose(){return this.model={name:this._parsedName,ranges:n(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,h,m){const l=t("../../../utils/utils"),i=t("../base-xform");h.exports=class extends i{render(a,n){a.leafNode("sheet",{sheetId:n.id,name:n.name,state:n.state,"r:id":n.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:l.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{render(i,a){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{render(i,a){i.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{render(i,a){const n={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(n.visibility=a.visibility),i.leafNode("workbookView",n)}parseOpen(i){if(i.name==="workbookView"){const a=this.model={},n=function(r,c,s){const o=c!==void 0?a[r]=c:s;o!==void 0&&(a[r]=o)},e=function(r,c,s){const o=c!==void 0?a[r]=parseInt(c,10):s;o!==void 0&&(a[r]=o)};return e("x",i.attributes.xWindow,0),e("y",i.attributes.yWindow,0),e("width",i.attributes.windowWidth,25e3),e("height",i.attributes.windowHeight,1e4),n("visibility",i.attributes.visibility,"visible"),e("activeTab",i.attributes.activeTab,void 0),e("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),n=t("../base-xform"),e=t("../static-xform"),r=t("../list-xform"),c=t("./defined-name-xform"),s=t("./sheet-xform"),o=t("./workbook-view-xform"),d=t("./workbook-properties-xform"),f=t("./workbook-calc-properties-xform");class u extends n{constructor(){super(),this.map={fileVersion:u.STATIC_XFORMS.fileVersion,workbookPr:new d,bookViews:new r({tag:"bookViews",count:!1,childXform:new o}),sheets:new r({tag:"sheets",count:!1,childXform:new s}),definedNames:new r({tag:"definedNames",count:!1,childXform:new c}),calcPr:new f}}prepare(p){p.sheets=p.worksheets;const x=[];let S=0;p.sheets.forEach(M=>{if(M.pageSetup&&M.pageSetup.printArea&&M.pageSetup.printArea.split("&&").forEach(R=>{const B=R.split(":"),N={name:"_xlnm.Print_Area",ranges:[`'${M.name}'!$${B[0]}:$${B[1]}`],localSheetId:S};x.push(N)}),M.pageSetup&&(M.pageSetup.printTitlesRow||M.pageSetup.printTitlesColumn)){const R=[];if(M.pageSetup.printTitlesColumn){const N=M.pageSetup.printTitlesColumn.split(":");R.push(`'${M.name}'!$${N[0]}:$${N[1]}`)}if(M.pageSetup.printTitlesRow){const N=M.pageSetup.printTitlesRow.split(":");R.push(`'${M.name}'!$${N[0]}:$${N[1]}`)}const B={name:"_xlnm.Print_Titles",ranges:R,localSheetId:S};x.push(B)}S++}),x.length&&(p.definedNames=p.definedNames.concat(x)),(p.media||[]).forEach((M,R)=>{M.name=M.type+(R+1)})}render(p,x){p.openXml(a.StdDocAttributes),p.openNode("workbook",u.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(p),this.map.workbookPr.render(p,x.properties),this.map.bookViews.render(p,x.views),this.map.sheets.render(p,x.sheets),this.map.definedNames.render(p,x.definedNames),this.map.calcPr.render(p,x.calcProperties),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"workbook":return!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(p){const x=(p.workbookRels||[]).reduce((N,L)=>(N[L.Id]=L,N),{}),S=[];let M,R=0;(p.sheets||[]).forEach(N=>{const L=x[N.rId];L&&(M=p.worksheetHash["xl/"+L.Target.replace(/^(\s|\/xl\/)+/,"")],M&&(M.name=N.name,M.id=N.id,M.state=N.state,S[R++]=M))});const B=[];l.each(p.definedNames,N=>{if(N.name==="_xlnm.Print_Area"){if(M=S[N.localSheetId],M){M.pageSetup||(M.pageSetup={});const L=i.decodeEx(N.ranges[0]);M.pageSetup.printArea=M.pageSetup.printArea?`${M.pageSetup.printArea}&&${L.dimensions}`:L.dimensions}}else if(N.name==="_xlnm.Print_Titles"){if(M=S[N.localSheetId],M){M.pageSetup||(M.pageSetup={});const L=N.ranges.join(","),F=/\$/g,$=/\$\d+:\$\d+/,W=L.match($);if(W&&W.length){const k=W[0];M.pageSetup.printTitlesRow=k.replace(F,"")}const C=/\$[A-Z]+:\$[A-Z]+/,D=L.match(C);if(D&&D.length){const k=D[0];M.pageSetup.printTitlesColumn=k.replace(F,"")}}}else B.push(N)}),p.definedNames=B,p.media.forEach((N,L)=>{N.index=L})}}u.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},u.STATIC_XFORMS={fileVersion:new e({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},h.exports=u},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,h,m){const l=t("../strings/rich-text-xform"),i=t("../../../utils/utils"),a=t("../base-xform"),n=h.exports=function(e){this.model=e};i.inherits(n,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new l),this._richTextXform},render(e,r){r=r||this.model,e.openNode("comment",{ref:r.ref,authorId:0}),e.openNode("text"),r&&r.note&&r.note.texts&&r.note.texts.forEach(c=>{this.richTextXform.render(e,c)}),e.closeNode(),e.closeNode()},parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"comment":return this.model={type:"note",note:{texts:[]},...e.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(e),!0;default:return!1}},parseText(e){this.parser&&this.parser.parseText(e)},parseClose(e){switch(e){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(e),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,h,m){const l=t("../../../utils/xml-stream"),i=t("../../../utils/utils"),a=t("../base-xform"),n=t("./comment-xform"),e=h.exports=function(){this.map={comment:new n}};i.inherits(e,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(r,c){c=c||this.model,r.openXml(l.StdDocAttributes),r.openNode("comments",e.COMMENTS_ATTRIBUTES),r.openNode("authors"),r.leafNode("author",null,"Author"),r.closeNode(),r.openNode("commentList"),c.comments.forEach(s=>{this.map.comment.render(r,s)}),r.closeNode(),r.closeNode()},parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(r),!0;default:return!1}},parseText(r){this.parser&&this.parser.parseText(r)},parseClose(r){switch(r){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(r),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,h,m){const l=t("../../base-xform");h.exports=class extends l{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,a,n){(a===n[2]||this.tag==="x:SizeWithCells"&&a===n[1])&&i.leafNode(this.tag)}parseOpen(i){switch(i.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,h,m){const l=t("../../base-xform");h.exports=class extends l{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,a){i.leafNode(this.tag,null,a)}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"x:Anchor"}getAnchorRect(i){const a=Math.floor(i.left),n=Math.floor(68*(i.left-a)),e=Math.floor(i.top),r=Math.floor(18*(i.top-e)),c=Math.floor(i.right),s=Math.floor(68*(i.right-c)),o=Math.floor(i.bottom);return[a,n,e,r,c,s,o,Math.floor(18*(i.bottom-o))]}getDefaultRect(i){const a=i.col,n=Math.max(i.row-2,0);return[a,6,n,14,a+2,2,n+4,16]}render(i,a){const n=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);i.leafNode("x:Anchor",null,n.join(", "))}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,h,m){const l=t("../base-xform"),i=t("./vml-anchor-xform"),a=t("./style/vml-protection-xform"),n=t("./style/vml-position-xform"),e=["twoCells","oneCells","absolute"];h.exports=class extends l{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new n({tag:"x:SizeWithCells"}),"x:MoveWithCells":new n({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(r,c){const{protection:s,editAs:o}=c.note;r.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(r,o,e),this.map["x:SizeWithCells"].render(r,o,e),this.map["x:Anchor"].render(r,c),this.map["x:Locked"].render(r,s.locked),r.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(r,s.lockText),r.leafNode("x:Row",null,c.refAddress.row-1),r.leafNode("x:Column",null,c.refAddress.col-1),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const r=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(r).length;this.model.editAs=e[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,h,m){const l=t("../../../utils/xml-stream"),i=t("../base-xform"),a=t("./vml-shape-xform");class n extends i{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(r,c){r.openXml(l.StdDocAttributes),r.openNode(this.tag,n.DRAWING_ATTRIBUTES),r.openNode("o:shapelayout",{"v:ext":"edit"}),r.leafNode("o:idmap",{"v:ext":"edit",data:1}),r.closeNode(),r.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),r.leafNode("v:stroke",{joinstyle:"miter"}),r.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),r.closeNode(),c.comments.forEach((s,o)=>{this.map["v:shape"].render(r,s,o)}),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(r){case this.tag:return!1;default:return!0}}reconcile(r,c){r.anchors.forEach(s=>{s.br?this.map["xdr:twoCellAnchor"].reconcile(s,c):this.map["xdr:oneCellAnchor"].reconcile(s,c)})}}n.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},h.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,h,m){const l=t("../base-xform"),i=t("./vml-textbox-xform"),a=t("./vml-client-data-xform");class n extends l{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new a}}get tag(){return"v:shape"}render(r,c,s){r.openNode("v:shape",n.V_SHAPE_ATTRIBUTES(c,s)),r.leafNode("v:fill",{color2:"infoBackground [80]"}),r.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),r.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(r,c),this.map["x:ClientData"].render(r,c),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset(),this.model={margins:{insetmode:r.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}n.V_SHAPE_ATTRIBUTES=(e,r)=>({id:"_x0000_s"+(1025+r),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":e.note.margins&&e.note.margins.insetmode}),h.exports=n},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"v:textbox"}conversionUnit(i,a,n){return`${parseFloat(i)*a.toFixed(2)}${n}`}reverseConversionUnit(i){return(i||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(i,a){const n={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:e}=a.note&&a.note.margins;Array.isArray(e)&&(e=e.map(r=>this.conversionUnit(r,10,"mm")).join(",")),e&&(n.inset=e)}i.openNode("v:textbox",n),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:return this.model={inset:this.reverseConversionUnit(i.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,h,m){const l=t("./base-xform");h.exports=class extends l{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,a){this.model[i]=a.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{render(i,a){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,a.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{render(i,a){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(n=>{i.leafNode("vt:lpstr",void 0,n.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,h,m){const l=t("../../../utils/xml-stream"),i=t("../base-xform"),a=t("../simple/string-xform"),n=t("./app-heading-pairs-xform"),e=t("./app-titles-of-parts-xform");class r extends i{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new n,TitleOfParts:new e}}render(s,o){s.openXml(l.StdDocAttributes),s.openNode("Properties",r.PROPERTY_ATTRIBUTES),s.leafNode("Application",void 0,"Microsoft Excel"),s.leafNode("DocSecurity",void 0,"0"),s.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(s,o.worksheets),this.map.TitleOfParts.render(s,o.worksheets),this.map.Company.render(s,o.company||""),this.map.Manager.render(s,o.manager),s.leafNode("LinksUpToDate",void 0,"false"),s.leafNode("SharedDoc",void 0,"false"),s.leafNode("HyperlinksChanged",void 0,"false"),s.leafNode("AppVersion",void 0,"16.0300"),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"Properties":return!0;default:return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}r.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},r.DateAttrs={"xsi:type":"dcterms:W3CDTF"},r.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},h.exports=r},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,h,m){const l=t("../../../utils/xml-stream"),i=t("../base-xform");class a extends i{render(e,r){e.openXml(l.StdDocAttributes),e.openNode("Types",a.PROPERTY_ATTRIBUTES);const c={};(r.media||[]).forEach(s=>{if(s.type==="image"){const o=s.extension;c[o]||(c[o]=!0,e.leafNode("Default",{Extension:o,ContentType:"image/"+o}))}}),e.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),e.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),e.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),r.worksheets.forEach(s=>{const o=`/xl/worksheets/sheet${s.id}.xml`;e.leafNode("Override",{PartName:o,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),e.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),e.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),r.sharedStrings&&r.sharedStrings.count&&e.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),r.tables&&r.tables.forEach(s=>{e.leafNode("Override",{PartName:"/xl/tables/"+s.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),r.drawings&&r.drawings.forEach(s=>{e.leafNode("Override",{PartName:`/xl/drawings/${s.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),r.commentRefs&&(e.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),r.commentRefs.forEach(s=>{let{commentName:o}=s;e.leafNode("Override",{PartName:`/xl/${o}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),e.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),e.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),e.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},h.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,h,m){const l=t("../../../utils/xml-stream"),i=t("../base-xform"),a=t("../simple/date-xform"),n=t("../simple/string-xform"),e=t("../simple/integer-xform");class r extends i{constructor(){super(),this.map={"dc:creator":new n({tag:"dc:creator"}),"dc:title":new n({tag:"dc:title"}),"dc:subject":new n({tag:"dc:subject"}),"dc:description":new n({tag:"dc:description"}),"dc:identifier":new n({tag:"dc:identifier"}),"dc:language":new n({tag:"dc:language"}),"cp:keywords":new n({tag:"cp:keywords"}),"cp:category":new n({tag:"cp:category"}),"cp:lastModifiedBy":new n({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:r.DateFormat}),"cp:revision":new e({tag:"cp:revision"}),"cp:version":new n({tag:"cp:version"}),"cp:contentStatus":new n({tag:"cp:contentStatus"}),"cp:contentType":new n({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:r.DateAttrs,format:r.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:r.DateAttrs,format:r.DateFormat})}}render(s,o){s.openXml(l.StdDocAttributes),s.openNode("cp:coreProperties",r.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(s,o.creator),this.map["dc:title"].render(s,o.title),this.map["dc:subject"].render(s,o.subject),this.map["dc:description"].render(s,o.description),this.map["dc:identifier"].render(s,o.identifier),this.map["dc:language"].render(s,o.language),this.map["cp:keywords"].render(s,o.keywords),this.map["cp:category"].render(s,o.category),this.map["cp:lastModifiedBy"].render(s,o.lastModifiedBy),this.map["cp:lastPrinted"].render(s,o.lastPrinted),this.map["cp:revision"].render(s,o.revision),this.map["cp:version"].render(s,o.version),this.map["cp:contentStatus"].render(s,o.contentStatus),this.map["cp:contentType"].render(s,o.contentType),this.map["dcterms:created"].render(s,o.created),this.map["dcterms:modified"].render(s,o.modified),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[s.name],this.parser)return this.parser.parseOpen(s),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}r.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},r.DateAttrs={"xsi:type":"dcterms:W3CDTF"},r.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},h.exports=r},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{render(i,a){i.leafNode("Relationship",a)}parseOpen(i){switch(i.name){case"Relationship":return this.model=i.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,h,m){const l=t("../../../utils/xml-stream"),i=t("../base-xform"),a=t("./relationship-xform");class n extends i{constructor(){super(),this.map={Relationship:new a}}render(r,c){c=c||this._values,r.openXml(l.StdDocAttributes),r.openNode("Relationships",n.RELATIONSHIPS_ATTRIBUTES),c.forEach(s=>{this.map.Relationship.render(r,s)}),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[r.name],this.parser)return this.parser.parseOpen(r),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(r))}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(r){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+r)}}}n.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},h.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,a){if(i&&i.rId){const n=a.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(n){const e=n[1],r=a.mediaIndex[e];return a.media[r]}}}}},{"../base-xform":32}],57:[function(t,h,m){const l=t("../base-xform"),i=t("./blip-xform");h.exports=class extends l{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(a,n){a.openNode(this.tag),this.map["a:blip"].render(a,n),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"a:blip"}render(i,a){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,h,m){const l=t("../base-xform"),i=t("./hlink-click-xform"),a=t("./ext-lst-xform");h.exports=class extends l{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(n,e){n.openNode(this.tag,{id:e.index,name:"Picture "+e.index}),this.map["a:hlinkClick"].render(n,e),this.map["a:extLst"].render(n,e),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,h,m){const l=t("../base-xform"),i=t("../simple/integer-xform");h.exports=class extends l{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(a,n){a.openNode(this.tag),this.map["xdr:col"].render(a,n.nativeCol),this.map["xdr:colOff"].render(a,n.nativeColOff),this.map["xdr:row"].render(a,n.nativeRow),this.map["xdr:rowOff"].render(a,n.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,h,m){const l=t("../../../utils/col-cache"),i=t("../../../utils/xml-stream"),a=t("../base-xform"),n=t("./two-cell-anchor-xform"),e=t("./one-cell-anchor-xform");class r extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new n,"xdr:oneCellAnchor":new e}}prepare(s){s.anchors.forEach((o,d)=>{o.anchorType=function(f){return(typeof f.range=="string"?l.decode(f.range):f.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(o),this.map[o.anchorType].prepare(o,{index:d})})}get tag(){return"xdr:wsDr"}render(s,o){s.openXml(i.StdDocAttributes),s.openNode(this.tag,r.DRAWING_ATTRIBUTES),o.anchors.forEach(d=>{this.map[d.anchorType].render(s,d)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(s){case this.tag:return!1;default:return!0}}reconcile(s,o){s.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,o):this.map["xdr:oneCellAnchor"].reconcile(d,o)})}}r.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},h.exports=r},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,a){i.openNode(this.tag);const n=Math.floor(9525*a.width),e=Math.floor(9525*a.height);i.addAttribute("cx",n),i.addAttribute("cy",e),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"a:hlinkClick"}render(i,a){a.hyperlinks&&a.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(i){switch(i.name){case this.tag:return this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,h,m){const l=t("../base-xform"),i=t("./c-nv-pr-xform"),a=t("./c-nv-pic-pr-xform");h.exports=class extends l{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(n,e){n.openNode(this.tag),this.map["xdr:cNvPr"].render(n,e),this.map["xdr:cNvPicPr"].render(n,e),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,h,m){const l=t("./base-cell-anchor-xform"),i=t("../static-xform"),a=t("./cell-position-xform"),n=t("./ext-xform"),e=t("./pic-xform");h.exports=class extends l{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new n({tag:"xdr:ext"}),"xdr:pic":new e,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(r,c){this.map["xdr:pic"].prepare(r.picture,c)}render(r,c){r.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(r,c.range.tl),this.map["xdr:ext"].render(r,c.range.ext),this.map["xdr:pic"].render(r,c.picture),this.map["xdr:clientData"].render(r,{}),r.closeNode()}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(r,c){r.medium=this.reconcilePicture(r.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,h,m){const l=t("../base-xform"),i=t("../static-xform"),a=t("./blip-fill-xform"),n=t("./nv-pic-pr-xform"),e=t("./sp-pr");h.exports=class extends l{constructor(){super(),this.map={"xdr:nvPicPr":new n,"xdr:blipFill":new a,"xdr:spPr":new i(e)}}get tag(){return"xdr:pic"}prepare(r,c){r.index=c.index+1}render(r,c){r.openNode(this.tag),this.map["xdr:nvPicPr"].render(r,c),this.map["xdr:blipFill"].render(r,c),this.map["xdr:spPr"].render(r,c),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset();break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,h,m){h.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,h,m){const l=t("./base-cell-anchor-xform"),i=t("../static-xform"),a=t("./cell-position-xform"),n=t("./pic-xform");h.exports=class extends l{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new n,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(e,r){this.map["xdr:pic"].prepare(e.picture,r)}render(e,r){e.openNode(this.tag,{editAs:r.range.editAs||"oneCell"}),this.map["xdr:from"].render(e,r.range.tl),this.map["xdr:to"].render(e,r.range.br),this.map["xdr:pic"].render(e,r.picture),this.map["xdr:clientData"].render(e,{}),e.closeNode()}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(e,r){e.medium=this.reconcilePicture(e.picture,r)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,h,m){const l=t("./base-xform");h.exports=class extends l{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,a){const{childXform:n}=this;i&&i.forEach((e,r)=>{a.index=r,n.prepare(e,a)})}render(i,a){if(this.always||a&&a.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,a&&a.length||0);const{childXform:n}=this;(a||[]).forEach((e,r)=>{n.render(i,e,r)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,a){if(i){const{childXform:n}=this;i.forEach(e=>{n.reconcile(e,a)})}}}},{"./base-xform":32}],72:[function(t,h,m){const l=t("../../../utils/col-cache"),i=t("../base-xform");h.exports=class extends i{get tag(){return"autoFilter"}render(a,n){if(n)if(typeof n=="string")a.leafNode("autoFilter",{ref:n});else{const e=function(s){return typeof s=="string"?s:l.getAddress(s.row,s.column).address},r=e(n.from),c=e(n.to);r&&c&&a.leafNode("autoFilter",{ref:`${r}:${c}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,h,m){const l=t("../../../utils/utils"),i=t("../base-xform"),a=t("../../../doc/range"),n=t("../../../doc/enums"),e=t("../strings/rich-text-xform");function r(c){if(c==null)return n.ValueType.Null;if(c instanceof String||typeof c=="string")return n.ValueType.String;if(typeof c=="number")return n.ValueType.Number;if(typeof c=="boolean")return n.ValueType.Boolean;if(c instanceof Date)return n.ValueType.Date;if(c.text&&c.hyperlink)return n.ValueType.Hyperlink;if(c.formula)return n.ValueType.Formula;if(c.error)return n.ValueType.Error;throw new Error("I could not understand type of value")}h.exports=class extends i{constructor(){super(),this.richTextXForm=new e}get tag(){return"c"}prepare(c,s){const o=s.styles.addStyleModel(c.style||{},function(d){switch(d.type){case n.ValueType.Formula:return r(d.result);default:return d.type}}(c));switch(o&&(c.styleId=o),c.comment&&s.comments.push({...c.comment,ref:c.address}),c.type){case n.ValueType.String:case n.ValueType.RichText:s.sharedStrings&&(c.ssId=s.sharedStrings.add(c.value));break;case n.ValueType.Date:s.date1904&&(c.date1904=!0);break;case n.ValueType.Hyperlink:s.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=s.sharedStrings.add(c.text)),s.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case n.ValueType.Merge:s.merges.add(c);break;case n.ValueType.Formula:if(s.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=s.siFormulae++),c.formula)s.formulae[c.address]=c;else if(c.sharedFormula){const d=s.formulae[c.sharedFormula];if(!d)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);d.si===void 0?(d.shareType="shared",d.si=s.siFormulae++,d.range=new a(d.address,c.address)):d.range&&d.range.expandToAddress(c.address),c.si=d.si}}}renderFormula(c,s){let o=null;switch(s.shareType){case"shared":o={t:"shared",ref:s.ref||s.range.range,si:s.si};break;case"array":o={t:"array",ref:s.ref};break;default:s.si!==void 0&&(o={t:"shared",si:s.si})}switch(r(s.result)){case n.ValueType.Null:c.leafNode("f",o,s.formula);break;case n.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",o,s.formula),c.leafNode("v",null,s.result);break;case n.ValueType.Number:c.leafNode("f",o,s.formula),c.leafNode("v",null,s.result);break;case n.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",o,s.formula),c.leafNode("v",null,s.result?1:0);break;case n.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",o,s.formula),c.leafNode("v",null,s.result.error);break;case n.ValueType.Date:c.leafNode("f",o,s.formula),c.leafNode("v",null,l.dateToExcel(s.result,s.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,s){if(s.type!==n.ValueType.Null||s.styleId){switch(c.openNode("c"),c.addAttribute("r",s.address),s.styleId&&c.addAttribute("s",s.styleId),s.type){case n.ValueType.Null:break;case n.ValueType.Number:c.leafNode("v",null,s.value);break;case n.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,s.value?"1":"0");break;case n.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,s.value.error);break;case n.ValueType.String:case n.ValueType.RichText:s.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,s.ssId)):s.value&&s.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),s.value.richText.forEach(o=>{this.richTextXForm.render(c,o)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,s.value));break;case n.ValueType.Date:c.leafNode("v",null,l.dateToExcel(s.value,s.date1904));break;case n.ValueType.Hyperlink:s.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,s.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,s.text));break;case n.ValueType.Formula:this.renderFormula(c,s);break;case n.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{const{model:s}=this;if(s.formula||s.shareType)s.type=n.ValueType.Formula,s.value&&(this.t==="str"?s.result=l.xmlDecode(s.value):this.t==="b"?s.result=parseInt(s.value,10)!==0:this.t==="e"?s.result={error:s.value}:s.result=parseFloat(s.value),s.value=void 0);else if(s.value!==void 0)switch(this.t){case"s":s.type=n.ValueType.String,s.value=parseInt(s.value,10);break;case"str":s.type=n.ValueType.String,s.value=l.xmlDecode(s.value);break;case"inlineStr":s.type=n.ValueType.String;break;case"b":s.type=n.ValueType.Boolean,s.value=parseInt(s.value,10)!==0;break;case"e":s.type=n.ValueType.Error,s.value={error:s.value};break;default:s.type=n.ValueType.Number,s.value=parseFloat(s.value)}else s.styleId?s.type=n.ValueType.Null:s.type=n.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,s){const o=c.styleId&&s.styles&&s.styles.getStyleModel(c.styleId);switch(o&&(c.style=o),c.styleId!==void 0&&(c.styleId=void 0),c.type){case n.ValueType.String:typeof c.value=="number"&&s.sharedStrings&&(c.value=s.sharedStrings.getString(c.value)),c.value.richText&&(c.type=n.ValueType.RichText);break;case n.ValueType.Number:o&&l.isDateFmt(o.numFmt)&&(c.type=n.ValueType.Date,c.value=l.excelToDate(c.value,s.date1904));break;case n.ValueType.Formula:c.result!==void 0&&o&&l.isDateFmt(o.numFmt)&&(c.result=l.excelToDate(c.result,s.date1904)),c.shareType==="shared"&&(c.ref?s.formulae[c.si]=c.address:(c.sharedFormula=s.formulae[c.si],delete c.shareType),delete c.si)}const d=s.hyperlinkMap[c.address];d&&(c.type===n.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=n.ValueType.Hyperlink,c.hyperlink=d);const f=s.commentsMap&&s.commentsMap[c.address];f&&(c.comment=f)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,h,m){const l=t("../../base-xform");h.exports=class extends l{get tag(){return"x14:cfIcon"}render(i,a){i.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(i){let{attributes:a}=i;this.model={iconSet:a.iconSet,iconId:l.toIntValue(a.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(t,h,m){const{v4:l}=t("uuid"),i=t("../../base-xform"),a=t("../../composite-xform"),n=t("./databar-ext-xform"),e=t("./icon-set-ext-xform"),r={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new n,"x14:iconSet":this.iconSetXform=new e}}get tag(){return"x14:cfRule"}static isExt(o){return o.type==="dataBar"?n.isExt(o):!(o.type!=="iconSet"||!o.custom&&!r[o.iconSet])}prepare(o){c.isExt(o)&&(o.x14Id=`{${l()}}`.toUpperCase())}render(o,d){if(c.isExt(d))switch(d.type){case"dataBar":this.renderDataBar(o,d);break;case"iconSet":this.renderIconSet(o,d)}}renderDataBar(o,d){o.openNode(this.tag,{type:"dataBar",id:d.x14Id}),this.databarXform.render(o,d),o.closeNode()}renderIconSet(o,d){o.openNode(this.tag,{type:"iconSet",priority:d.priority,id:d.x14Id||`{${l()}}`}),this.iconSetXform.render(o,d),o.closeNode()}createNewModel(o){let{attributes:d}=o;return{type:d.type,x14Id:d.id,priority:i.toIntValue(d.priority)}}onParserClose(o,d){Object.assign(this.model,d.model)}}h.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,h,m){const l=t("../../composite-xform"),i=t("./f-ext-xform");h.exports=class extends l{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(a,n){a.openNode(this.tag,{type:n.type}),n.value!==void 0&&this.fExtXform.render(a,n.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,n){switch(a){case"xm:f":this.model.value=n.model?parseFloat(n.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,h,m){const l=t("../../composite-xform"),i=t("./sqref-ext-xform"),a=t("./cf-rule-ext-xform");h.exports=class extends l{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(n,e){n.rules.forEach(r=>{this.cfRule.prepare(r,e)})}render(n,e){e.rules.some(a.isExt)&&(n.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),e.rules.filter(a.isExt).forEach(r=>this.cfRule.render(n,r)),this.sqRef.render(n,e.ref),n.closeNode())}createNewModel(){return{rules:[]}}onParserClose(n,e){switch(n){case"xm:sqref":this.model.ref=e.model;break;case"x14:cfRule":this.model.rules.push(e.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,h,m){const l=t("../../composite-xform"),i=t("./cf-rule-ext-xform"),a=t("./conditional-formatting-ext-xform");h.exports=class extends l{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(n){return n.hasExtContent===void 0&&(n.hasExtContent=n.some(e=>e.rules.some(i.isExt))),n.hasExtContent}prepare(n,e){n.forEach(r=>{this.cfXform.prepare(r,e)})}render(n,e){this.hasContent(e)&&(n.openNode(this.tag),e.forEach(r=>this.cfXform.render(n,r)),n.closeNode())}createNewModel(){return[]}onParserClose(n,e){this.model.push(e.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,h,m){const l=t("../../base-xform"),i=t("../../composite-xform"),a=t("../../style/color-xform"),n=t("./cfvo-ext-xform");h.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new n,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(e){return!e.gradient}get tag(){return"x14:dataBar"}render(e,r){e.openNode(this.tag,{minLength:l.toIntAttribute(r.minLength,0,!0),maxLength:l.toIntAttribute(r.maxLength,100,!0),border:l.toBoolAttribute(r.border,!1),gradient:l.toBoolAttribute(r.gradient,!0),negativeBarColorSameAsPositive:l.toBoolAttribute(r.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:l.toBoolAttribute(r.negativeBarBorderColorSameAsPositive,!0),axisPosition:l.toAttribute(r.axisPosition,"auto"),direction:l.toAttribute(r.direction,"leftToRight")}),r.cfvo.forEach(c=>{this.cfvoXform.render(e,c)}),this.borderColorXform.render(e,r.borderColor),this.negativeBorderColorXform.render(e,r.negativeBorderColor),this.negativeFillColorXform.render(e,r.negativeFillColor),this.axisColorXform.render(e,r.axisColor),e.closeNode()}createNewModel(e){let{attributes:r}=e;return{cfvo:[],minLength:l.toIntValue(r.minLength,0),maxLength:l.toIntValue(r.maxLength,100),border:l.toBoolValue(r.border,!1),gradient:l.toBoolValue(r.gradient,!0),negativeBarColorSameAsPositive:l.toBoolValue(r.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:l.toBoolValue(r.negativeBarBorderColorSameAsPositive,!0),axisPosition:l.toStringValue(r.axisPosition,"auto"),direction:l.toStringValue(r.direction,"leftToRight")}}onParserClose(e,r){const[,c]=e.split(":");switch(c){case"cfvo":this.model.cfvo.push(r.model);break;default:this.model[c]=r.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,h,m){const l=t("../../base-xform");h.exports=class extends l{get tag(){return"xm:f"}render(i,a){i.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(t,h,m){const l=t("../../base-xform"),i=t("../../composite-xform"),a=t("./cfvo-ext-xform"),n=t("./cf-icon-ext-xform");h.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new n}}get tag(){return"x14:iconSet"}render(e,r){e.openNode(this.tag,{iconSet:l.toStringAttribute(r.iconSet),reverse:l.toBoolAttribute(r.reverse,!1),showValue:l.toBoolAttribute(r.showValue,!0),custom:l.toBoolAttribute(r.icons,!1)}),r.cfvo.forEach(c=>{this.cfvoXform.render(e,c)}),r.icons&&r.icons.forEach((c,s)=>{c.iconId=s,this.cfIconXform.render(e,c)}),e.closeNode()}createNewModel(e){let{attributes:r}=e;return{cfvo:[],iconSet:l.toStringValue(r.iconSet,"3TrafficLights"),reverse:l.toBoolValue(r.reverse,!1),showValue:l.toBoolValue(r.showValue,!0)}}onParserClose(e,r){const[,c]=e.split(":");switch(c){case"cfvo":this.model.cfvo.push(r.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(r.model);break;default:this.model[c]=r.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,h,m){const l=t("../../base-xform");h.exports=class extends l{get tag(){return"xm:sqref"}render(i,a){i.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(t,h,m){const l=t("../../base-xform"),i=t("../../composite-xform"),a=t("../../../../doc/range"),n=t("./databar-xform"),e=t("./ext-lst-ref-xform"),r=t("./formula-xform"),c=t("./color-scale-xform"),s=t("./icon-set-xform"),o={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},d=u=>{const{type:g,operator:p}=u;switch(g){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:g};default:return{type:g,operator:p}}};class f extends i{constructor(){super(),this.map={dataBar:this.databarXform=new n,extLst:this.extLstRefXform=new e,formula:this.formulaXform=new r,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new s}}get tag(){return"cfRule"}static isPrimitive(g){return g.type!=="iconSet"||!g.custom&&!o[g.iconSet]}render(g,p){switch(p.type){case"expression":this.renderExpression(g,p);break;case"cellIs":this.renderCellIs(g,p);break;case"top10":this.renderTop10(g,p);break;case"aboveAverage":this.renderAboveAverage(g,p);break;case"dataBar":this.renderDataBar(g,p);break;case"colorScale":this.renderColorScale(g,p);break;case"iconSet":this.renderIconSet(g,p);break;case"containsText":this.renderText(g,p);break;case"timePeriod":this.renderTimePeriod(g,p)}}renderExpression(g,p){g.openNode(this.tag,{type:"expression",dxfId:p.dxfId,priority:p.priority}),this.formulaXform.render(g,p.formulae[0]),g.closeNode()}renderCellIs(g,p){g.openNode(this.tag,{type:"cellIs",dxfId:p.dxfId,priority:p.priority,operator:p.operator}),p.formulae.forEach(x=>{this.formulaXform.render(g,x)}),g.closeNode()}renderTop10(g,p){g.leafNode(this.tag,{type:"top10",dxfId:p.dxfId,priority:p.priority,percent:l.toBoolAttribute(p.percent,!1),bottom:l.toBoolAttribute(p.bottom,!1),rank:l.toIntValue(p.rank,10,!0)})}renderAboveAverage(g,p){g.leafNode(this.tag,{type:"aboveAverage",dxfId:p.dxfId,priority:p.priority,aboveAverage:l.toBoolAttribute(p.aboveAverage,!0)})}renderDataBar(g,p){g.openNode(this.tag,{type:"dataBar",priority:p.priority}),this.databarXform.render(g,p),this.extLstRefXform.render(g,p),g.closeNode()}renderColorScale(g,p){g.openNode(this.tag,{type:"colorScale",priority:p.priority}),this.colorScaleXform.render(g,p),g.closeNode()}renderIconSet(g,p){f.isPrimitive(p)&&(g.openNode(this.tag,{type:"iconSet",priority:p.priority}),this.iconSetXform.render(g,p),g.closeNode())}renderText(g,p){g.openNode(this.tag,{type:p.operator,dxfId:p.dxfId,priority:p.priority,operator:l.toStringAttribute(p.operator,"containsText")});const x=(S=>{if(S.formulae&&S.formulae[0])return S.formulae[0];const M=new a(S.ref),{tl:R}=M;switch(S.operator){case"containsText":return`NOT(ISERROR(SEARCH("${S.text}",${R})))`;case"containsBlanks":return`LEN(TRIM(${R}))=0`;case"notContainsBlanks":return`LEN(TRIM(${R}))>0`;case"containsErrors":return`ISERROR(${R})`;case"notContainsErrors":return`NOT(ISERROR(${R}))`;default:return}})(p);x&&this.formulaXform.render(g,x),g.closeNode()}renderTimePeriod(g,p){g.openNode(this.tag,{type:"timePeriod",dxfId:p.dxfId,priority:p.priority,timePeriod:p.timePeriod});const x=(S=>{if(S.formulae&&S.formulae[0])return S.formulae[0];const M=new a(S.ref),{tl:R}=M;switch(S.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${R},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${R},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${R},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${R},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${R},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${R},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${R},1)=TODAY()-1`;case"today":return`FLOOR(${R},1)=TODAY()`;case"tomorrow":return`FLOOR(${R},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${R},1)<=6,FLOOR(${R},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${R})=MONTH(EDATE(TODAY(),0-1)),YEAR(${R})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${R})=MONTH(TODAY()),YEAR(${R})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${R})=MONTH(EDATE(TODAY(),0+1)),YEAR(${R})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(p);x&&this.formulaXform.render(g,x),g.closeNode()}createNewModel(g){let{attributes:p}=g;return{...d(p),dxfId:l.toIntValue(p.dxfId),priority:l.toIntValue(p.priority),timePeriod:p.timePeriod,percent:l.toBoolValue(p.percent),bottom:l.toBoolValue(p.bottom),rank:l.toIntValue(p.rank),aboveAverage:l.toBoolValue(p.aboveAverage)}}onParserClose(g,p){switch(g){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,p.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(p.model)}}}h.exports=f},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,h,m){const l=t("../../base-xform");h.exports=class extends l{get tag(){return"cfvo"}render(i,a){i.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(i){this.model={type:i.attributes.type,value:l.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(t,h,m){const l=t("../../composite-xform"),i=t("../../style/color-xform"),a=t("./cfvo-xform");h.exports=class extends l{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new i}}get tag(){return"colorScale"}render(n,e){n.openNode(this.tag),e.cfvo.forEach(r=>{this.cfvoXform.render(n,r)}),e.color.forEach(r=>{this.colorXform.render(n,r)}),n.closeNode()}createNewModel(n){return{cfvo:[],color:[]}}onParserClose(n,e){this.model[n].push(e.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,h,m){const l=t("../../composite-xform"),i=t("./cf-rule-xform");h.exports=class extends l{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(a,n){n.rules.some(i.isPrimitive)&&(a.openNode(this.tag,{sqref:n.ref}),n.rules.forEach(e=>{i.isPrimitive(e)&&(e.ref=n.ref,this.map.cfRule.render(a,e))}),a.closeNode())}createNewModel(a){let{attributes:n}=a;return{ref:n.sqref,rules:[]}}onParserClose(a,n){this.model.rules.push(n.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,h,m){const l=t("../../base-xform"),i=t("./conditional-formatting-xform");h.exports=class extends l{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,n){let e=a.reduce((r,c)=>Math.max(r,...c.rules.map(s=>s.priority||0)),1);a.forEach(r=>{r.rules.forEach(c=>{c.priority||(c.priority=e++),c.style&&(c.dxfId=n.styles.addDxfStyle(c.style))})})}render(a,n){n.forEach(e=>{this.cfXform.render(a,e)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,n){a.forEach(e=>{e.rules.forEach(r=>{r.dxfId!==void 0&&(r.style=n.styles.getDxfStyle(r.dxfId),delete r.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,h,m){const l=t("../../composite-xform"),i=t("../../style/color-xform"),a=t("./cfvo-xform");h.exports=class extends l{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new i}}get tag(){return"dataBar"}render(n,e){n.openNode(this.tag),e.cfvo.forEach(r=>{this.cfvoXform.render(n,r)}),this.colorXform.render(n,e.color),n.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(n,e){switch(n){case"cfvo":this.model.cfvo.push(e.model);break;case"color":this.model.color=e.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,h,m){const l=t("../../base-xform"),i=t("../../composite-xform");class a extends l{get tag(){return"x14:id"}render(r,c){r.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}class n extends i{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(r,c){r.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(r,c.x14Id),r.closeNode()}createNewModel(){return{}}onParserClose(r,c){this.model.x14Id=c.model}}h.exports=class extends i{constructor(){super(),this.map={ext:new n}}get tag(){return"extLst"}render(e,r){e.openNode(this.tag),this.map.ext.render(e,r),e.closeNode()}createNewModel(){return{}}onParserClose(e,r){Object.assign(this.model,r.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,h,m){const l=t("../../base-xform");h.exports=class extends l{get tag(){return"formula"}render(i,a){i.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(t,h,m){const l=t("../../base-xform"),i=t("../../composite-xform"),a=t("./cfvo-xform");h.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(n,e){n.openNode(this.tag,{iconSet:l.toStringAttribute(e.iconSet,"3TrafficLights"),reverse:l.toBoolAttribute(e.reverse,!1),showValue:l.toBoolAttribute(e.showValue,!0)}),e.cfvo.forEach(r=>{this.cfvoXform.render(n,r)}),n.closeNode()}createNewModel(n){let{attributes:e}=n;return{iconSet:l.toStringValue(e.iconSet,"3TrafficLights"),reverse:l.toBoolValue(e.reverse),showValue:l.toBoolValue(e.showValue),cfvo:[]}}onParserClose(n,e){this.model[n].push(e.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,h,m){const l=t("../../../utils/utils"),i=t("../base-xform");h.exports=class extends i{get tag(){return"col"}prepare(a,n){const e=n.styles.addStyleModel(a.style||{});e&&(a.styleId=e)}render(a,n){a.openNode("col"),a.addAttribute("min",n.min),a.addAttribute("max",n.max),n.width&&a.addAttribute("width",n.width),n.styleId&&a.addAttribute("style",n.styleId),n.hidden&&a.addAttribute("hidden","1"),n.bestFit&&a.addAttribute("bestFit","1"),n.outlineLevel&&a.addAttribute("outlineLevel",n.outlineLevel),n.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const n=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(n.styleId=parseInt(a.attributes.style,10)),l.parseBoolean(a.attributes.hidden)&&(n.hidden=!0),l.parseBoolean(a.attributes.bestFit)&&(n.bestFit=!0),a.attributes.outlineLevel&&(n.outlineLevel=parseInt(a.attributes.outlineLevel,10)),l.parseBoolean(a.attributes.collapsed)&&(n.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,n){a.styleId&&(a.style=n.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../../../utils/utils"),a=t("../../../utils/col-cache"),n=t("../base-xform"),e=t("../../../doc/range");function r(s,o,d,f){const u=o[d];u!==void 0?s[d]=u:f!==void 0&&(s[d]=f)}function c(s,o,d,f){const u=o[d];u!==void 0&&(s[d]=i.parseBoolean(u))}h.exports=class extends n{get tag(){return"dataValidations"}render(s,o){const d=function(f){const u=l.map(f,(x,S)=>({address:S,dataValidation:x,marked:!1})).sort((x,S)=>l.strcmp(x.address,S.address)),g=l.keyBy(u,"address"),p=(x,S,M)=>{for(let R=0;R<S;R++){const B=a.encodeAddress(x.row+R,M);if(!f[B]||!l.isEqual(f[x.address],f[B]))return!1}return!0};return u.map(x=>{if(!x.marked){const S=a.decodeEx(x.address);if(S.dimensions)return g[S.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let M=1,R=a.encodeAddress(S.row+M,S.col);for(;f[R]&&l.isEqual(x.dataValidation,f[R]);)M++,R=a.encodeAddress(S.row+M,S.col);let B=1;for(;p(S,M,S.col+B);)B++;for(let N=0;N<M;N++)for(let L=0;L<B;L++)R=a.encodeAddress(S.row+N,S.col+L),g[R].marked=!0;if(M>1||B>1){const N=S.row+(M-1),L=S.col+(B-1);return{...x.dataValidation,sqref:`${x.address}:${a.encodeAddress(N,L)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)}(o);d.length&&(s.openNode("dataValidations",{count:d.length}),d.forEach(f=>{s.openNode("dataValidation"),f.type!=="any"&&(s.addAttribute("type",f.type),f.operator&&f.type!=="list"&&f.operator!=="between"&&s.addAttribute("operator",f.operator),f.allowBlank&&s.addAttribute("allowBlank","1")),f.showInputMessage&&s.addAttribute("showInputMessage","1"),f.promptTitle&&s.addAttribute("promptTitle",f.promptTitle),f.prompt&&s.addAttribute("prompt",f.prompt),f.showErrorMessage&&s.addAttribute("showErrorMessage","1"),f.errorStyle&&s.addAttribute("errorStyle",f.errorStyle),f.errorTitle&&s.addAttribute("errorTitle",f.errorTitle),f.error&&s.addAttribute("error",f.error),s.addAttribute("sqref",f.sqref),(f.formulae||[]).forEach((u,g)=>{s.openNode("formula"+(g+1)),f.type==="date"?s.writeText(i.dateToExcel(new Date(u))):s.writeText(u),s.closeNode()}),s.closeNode()}),s.closeNode())}parseOpen(s){switch(s.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=s.attributes.sqref;const o={type:s.attributes.type||"any",formulae:[]};switch(s.attributes.type&&c(o,s.attributes,"allowBlank"),c(o,s.attributes,"showInputMessage"),c(o,s.attributes,"showErrorMessage"),o.type){case"any":case"list":case"custom":break;default:r(o,s.attributes,"operator","between")}return r(o,s.attributes,"promptTitle"),r(o,s.attributes,"prompt"),r(o,s.attributes,"errorStyle"),r(o,s.attributes,"errorTitle"),r(o,s.attributes,"error"),this._dataValidation=o,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(s){this._formula&&this._formula.push(s)}parseClose(s){switch(s){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(o=>{o.includes(":")?new e(o).forEachAddress(d=>{this.model[d]=this._dataValidation}):this.model[o]=this._dataValidation}),!0;case"formula1":case"formula2":{let o=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":o=parseInt(o,10);break;case"decimal":o=parseFloat(o);break;case"date":o=i.excelToDate(parseFloat(o))}return this._dataValidation.formulae.push(o),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"dimension"}render(i,a){a&&i.leafNode("dimension",{ref:a})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"drawing"}render(i,a){a&&i.leafNode(this.tag,{"r:id":a.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,h,m){const l=t("../composite-xform"),i=t("./cf-ext/conditional-formattings-ext-xform");class a extends l{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(e){return this.conditionalFormattings.hasContent(e.conditionalFormattings)}prepare(e,r){this.conditionalFormattings.prepare(e.conditionalFormattings,r)}render(e,r){e.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(e,r.conditionalFormattings),e.closeNode()}createNewModel(){return{}}onParserClose(e,r){this.model[e]=r.model}}h.exports=class extends l{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(n,e){this.ext.prepare(n,e)}hasContent(n){return this.ext.hasContent(n)}render(n,e){this.hasContent(e)&&(n.openNode("extLst"),this.ext.render(n,e),n.closeNode())}createNewModel(){return{}}onParserClose(n,e){Object.assign(this.model,e.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"headerFooter"}render(i,a){if(a){i.addRollback();let n=!1;i.openNode("headerFooter"),a.differentFirst&&(i.addAttribute("differentFirst","1"),n=!0),a.differentOddEven&&(i.addAttribute("differentOddEven","1"),n=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(i.leafNode("oddHeader",null,a.oddHeader),n=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(i.leafNode("oddFooter",null,a.oddFooter),n=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(i.leafNode("evenHeader",null,a.evenHeader),n=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(i.leafNode("evenFooter",null,a.evenFooter),n=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(i.leafNode("firstHeader",null,a.firstHeader),n=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(i.leafNode("firstFooter",null,a.firstFooter),n=!0),n?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"hyperlink"}render(i,a){this.isInternalLink(a)?i.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):i.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"mergeCell"}render(i,a){i.leafNode("mergeCell",{ref:a})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../../../doc/range"),a=t("../../../utils/col-cache"),n=t("../../../doc/enums");h.exports=class{constructor(){this.merges={}}add(e){if(this.merges[e.master])this.merges[e.master].expandToAddress(e.address);else{const r=`${e.master}:${e.address}`;this.merges[e.master]=new i(r)}}get mergeCells(){return l.map(this.merges,e=>e.range)}reconcile(e,r){l.each(e,c=>{const s=a.decode(c);for(let o=s.top;o<=s.bottom;o++){const d=r[o-1];for(let f=s.left;f<=s.right;f++){const u=d.cells[f-1];u?u.type===n.ValueType.Merge&&(u.master=s.tl):d.cells[f]={type:n.ValueType.Null,address:a.encodeAddress(o,f)}}}})}getMasterAddress(e){const r=this.hash[e];return r&&r.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,h,m){const l=t("../base-xform"),i=a=>a!==void 0;h.exports=class extends l{get tag(){return"outlinePr"}render(a,n){return!(!n||!i(n.summaryBelow)&&!i(n.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:i(n.summaryBelow)?Number(n.summaryBelow):void 0,summaryRight:i(n.summaryRight)?Number(n.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:i(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:i(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"brk"}render(i,a){i.leafNode("brk",a)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../base-xform");h.exports=class extends i{get tag(){return"pageMargins"}render(a,n){if(n){const e={left:n.left,right:n.right,top:n.top,bottom:n.bottom,header:n.header,footer:n.footer};l.some(e,r=>r!==void 0)&&a.leafNode(this.tag,e)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"pageSetUpPr"}render(i,a){return!(!a||!a.fitToPage)&&(i.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../base-xform");function a(c){return c?"1":void 0}function n(c){switch(c){case"overThenDown":return c;default:return}}function e(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function r(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}h.exports=class extends i{get tag(){return"pageSetup"}render(c,s){if(s){const o={paperSize:s.paperSize,orientation:s.orientation,horizontalDpi:s.horizontalDpi,verticalDpi:s.verticalDpi,pageOrder:n(s.pageOrder),blackAndWhite:a(s.blackAndWhite),draft:a(s.draft),cellComments:e(s.cellComments),errors:r(s.errors),scale:s.scale,fitToWidth:s.fitToWidth,fitToHeight:s.fitToHeight,firstPageNumber:s.firstPageNumber,useFirstPageNumber:a(s.firstPageNumber),usePrinterDefaults:a(s.usePrinterDefaults),copies:s.copies};l.some(o,d=>d!==void 0)&&c.leafNode(this.tag,o)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(s=c.attributes.paperSize,s!==void 0?parseInt(s,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var s}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"picture"}render(i,a){a&&i.leafNode(this.tag,{"r:id":a.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../base-xform");function a(n){return n?"1":void 0}h.exports=class extends i{get tag(){return"printOptions"}render(n,e){if(e){const r={headings:a(e.showRowColHeaders),gridLines:a(e.showGridLines),horizontalCentered:a(e.horizontalCentered),verticalCentered:a(e.verticalCentered)};l.some(r,c=>c!==void 0)&&n.leafNode(this.tag,r)}}parseOpen(n){switch(n.name){case this.tag:return this.model={showRowColHeaders:n.attributes.headings==="1",showGridLines:n.attributes.gridLines==="1",horizontalCentered:n.attributes.horizontalCentered==="1",verticalCentered:n.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,h,m){const l=t("./page-breaks-xform"),i=t("../list-xform");h.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new l})}render(a,n){if(n&&n.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,n.length),a.addAttribute("manualBreakCount",n.length));const{childXform:e}=this;n.forEach(r=>{e.render(a,r)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,h,m){const l=t("../base-xform"),i=t("../../../utils/utils"),a=t("./cell-xform");h.exports=class extends l{constructor(n){super(),this.maxItems=n&&n.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(n,e){const r=e.styles.addStyleModel(n.style);r&&(n.styleId=r);const c=this.map.c;n.cells.forEach(s=>{c.prepare(s,e)})}render(n,e,r){n.openNode("row"),n.addAttribute("r",e.number),e.height&&(n.addAttribute("ht",e.height),n.addAttribute("customHeight","1")),e.hidden&&n.addAttribute("hidden","1"),e.min>0&&e.max>0&&e.min<=e.max&&n.addAttribute("spans",`${e.min}:${e.max}`),e.styleId&&(n.addAttribute("s",e.styleId),n.addAttribute("customFormat","1")),n.addAttribute("x14ac:dyDescent","0.25"),e.outlineLevel&&n.addAttribute("outlineLevel",e.outlineLevel),e.collapsed&&n.addAttribute("collapsed","1");const c=this.map.c;e.cells.forEach(s=>{c.render(n,s,r)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;if(n.name==="row"){this.numRowsSeen+=1;const e=n.attributes.spans?n.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],r=this.model={number:parseInt(n.attributes.r,10),min:e[0],max:e[1],cells:[]};return n.attributes.s&&(r.styleId=parseInt(n.attributes.s,10)),i.parseBoolean(n.attributes.hidden)&&(r.hidden=!0),i.parseBoolean(n.attributes.bestFit)&&(r.bestFit=!0),n.attributes.ht&&(r.height=parseFloat(n.attributes.ht)),n.attributes.outlineLevel&&(r.outlineLevel=parseInt(n.attributes.outlineLevel,10)),i.parseBoolean(n.attributes.collapsed)&&(r.collapsed=!0),!0}return this.parser=this.map[n.name],!!this.parser&&(this.parser.parseOpen(n),!0)}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(n,e){n.style=n.styleId?e.styles.getStyleModel(n.styleId):{},n.styleId!==void 0&&(n.styleId=void 0);const r=this.map.c;n.cells.forEach(c=>{r.reconcile(c,e)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../base-xform");h.exports=class extends i{get tag(){return"sheetFormatPr"}render(a,n){if(n){const e={defaultRowHeight:n.defaultRowHeight,outlineLevelRow:n.outlineLevelRow,outlineLevelCol:n.outlineLevelCol,"x14ac:dyDescent":n.dyDescent};n.defaultColWidth&&(e.defaultColWidth=n.defaultColWidth),n.defaultRowHeight&&n.defaultRowHeight===15||(e.customHeight="1"),l.some(e,r=>r!==void 0)&&a.leafNode("sheetFormatPr",e)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,h,m){const l=t("../base-xform"),i=t("../style/color-xform"),a=t("./page-setup-properties-xform"),n=t("./outline-properties-xform");h.exports=class extends l{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new a,outlinePr:new n}}get tag(){return"sheetPr"}render(e,r){if(r){e.addRollback(),e.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(e,r.tabColor)||c,c=this.map.pageSetUpPr.render(e,r.pageSetup)||c,c=this.map.outlinePr.render(e,r.outlineProperties)||c,c?(e.closeNode(),e.commit()):e.rollback()}}parseOpen(e){return this.parser?(this.parser.parseOpen(e),!0):e.name===this.tag?(this.reset(),!0):!!this.map[e.name]&&(this.parser=this.map[e.name],this.parser.parseOpen(e),!0)}parseText(e){return!!this.parser&&(this.parser.parseText(e),!0)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../base-xform");function a(e,r){return e?r:void 0}function n(e,r){return e===r||void 0}h.exports=class extends i{get tag(){return"sheetProtection"}render(e,r){if(r){const c={sheet:a(r.sheet,"1"),selectLockedCells:r.selectLockedCells===!1?"1":void 0,selectUnlockedCells:r.selectUnlockedCells===!1?"1":void 0,formatCells:a(r.formatCells,"0"),formatColumns:a(r.formatColumns,"0"),formatRows:a(r.formatRows,"0"),insertColumns:a(r.insertColumns,"0"),insertRows:a(r.insertRows,"0"),insertHyperlinks:a(r.insertHyperlinks,"0"),deleteColumns:a(r.deleteColumns,"0"),deleteRows:a(r.deleteRows,"0"),sort:a(r.sort,"0"),autoFilter:a(r.autoFilter,"0"),pivotTables:a(r.pivotTables,"0")};r.sheet&&(c.algorithmName=r.algorithmName,c.hashValue=r.hashValue,c.saltValue=r.saltValue,c.spinCount=r.spinCount,c.objects=a(r.objects===!1,"1"),c.scenarios=a(r.scenarios===!1,"1")),l.some(c,s=>s!==void 0)&&e.leafNode(this.tag,c)}}parseOpen(e){switch(e.name){case this.tag:return this.model={sheet:n(e.attributes.sheet,"1"),objects:e.attributes.objects!=="1"&&void 0,scenarios:e.attributes.scenarios!=="1"&&void 0,selectLockedCells:e.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:e.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:n(e.attributes.formatCells,"0"),formatColumns:n(e.attributes.formatColumns,"0"),formatRows:n(e.attributes.formatRows,"0"),insertColumns:n(e.attributes.insertColumns,"0"),insertRows:n(e.attributes.insertRows,"0"),insertHyperlinks:n(e.attributes.insertHyperlinks,"0"),deleteColumns:n(e.attributes.deleteColumns,"0"),deleteRows:n(e.attributes.deleteRows,"0"),sort:n(e.attributes.sort,"0"),autoFilter:n(e.attributes.autoFilter,"0"),pivotTables:n(e.attributes.pivotTables,"0")},e.attributes.algorithmName&&(this.model.algorithmName=e.attributes.algorithmName,this.model.hashValue=e.attributes.hashValue,this.model.saltValue=e.attributes.saltValue,this.model.spinCount=parseInt(e.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,h,m){const l=t("../../../utils/col-cache"),i=t("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};h.exports=class extends i{get tag(){return"sheetView"}prepare(n){switch(n.state){case"frozen":case"split":break;default:n.state="normal"}}render(n,e){n.openNode("sheetView",{workbookViewId:e.workbookViewId||0});const r=function(f,u,g){g&&n.addAttribute(f,u)};let c,s,o,d;switch(r("rightToLeft","1",e.rightToLeft===!0),r("tabSelected","1",e.tabSelected),r("showRuler","0",e.showRuler===!1),r("showRowColHeaders","0",e.showRowColHeaders===!1),r("showGridLines","0",e.showGridLines===!1),r("zoomScale",e.zoomScale,e.zoomScale),r("zoomScaleNormal",e.zoomScaleNormal,e.zoomScaleNormal),r("view",e.style,e.style),e.state){case"frozen":s=e.xSplit||0,o=e.ySplit||0,c=e.topLeftCell||l.getAddress(o+1,s+1).address,d=(e.xSplit&&e.ySplit?"bottomRight":e.xSplit&&"topRight")||"bottomLeft",n.leafNode("pane",{xSplit:e.xSplit||void 0,ySplit:e.ySplit||void 0,topLeftCell:c,activePane:d,state:"frozen"}),n.leafNode("selection",{pane:d,activeCell:e.activeCell,sqref:e.activeCell});break;case"split":e.activePane==="topLeft"&&(e.activePane=void 0),n.leafNode("pane",{xSplit:e.xSplit||void 0,ySplit:e.ySplit||void 0,topLeftCell:e.topLeftCell,activePane:e.activePane}),n.leafNode("selection",{pane:e.activePane,activeCell:e.activeCell,sqref:e.activeCell});break;case"normal":e.activeCell&&n.leafNode("selection",{activeCell:e.activeCell,sqref:e.activeCell})}n.closeNode()}parseOpen(n){switch(n.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(n.attributes.workbookViewId,10),rightToLeft:n.attributes.rightToLeft==="1",tabSelected:n.attributes.tabSelected==="1",showRuler:n.attributes.showRuler!=="0",showRowColHeaders:n.attributes.showRowColHeaders!=="0",showGridLines:n.attributes.showGridLines!=="0",zoomScale:parseInt(n.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(n.attributes.zoomScaleNormal||"100",10),style:n.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(n.attributes.xSplit||"0",10),ySplit:parseInt(n.attributes.ySplit||"0",10),topLeftCell:n.attributes.topLeftCell,activePane:n.attributes.activePane||"topLeft",state:n.attributes.state},!0;case"selection":{const e=n.attributes.pane||"topLeft";return this.selections[e]={pane:e,activeCell:n.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(n){let e,r;switch(n){case"sheetView":return this.sheetView&&this.pane?(e=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(e.activePane=this.pane.activePane),r=this.selections[this.pane.activePane],r&&r.activeCell&&(e.activeCell=r.activeCell),this.sheetView.style&&(e.style=this.sheetView.style)):(e=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},r=this.selections.topLeft,r&&r.activeCell&&(e.activeCell=r.activeCell),this.sheetView.style&&(e.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"tablePart"}render(i,a){a&&i.leafNode(this.tag,{"r:id":a.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),n=t("../../rel-type"),e=t("./merges"),r=t("../base-xform"),c=t("../list-xform"),s=t("./row-xform"),o=t("./col-xform"),d=t("./dimension-xform"),f=t("./hyperlink-xform"),u=t("./merge-cell-xform"),g=t("./data-validations-xform"),p=t("./sheet-properties-xform"),x=t("./sheet-format-properties-xform"),S=t("./sheet-view-xform"),M=t("./sheet-protection-xform"),R=t("./page-margins-xform"),B=t("./page-setup-xform"),N=t("./print-options-xform"),L=t("./auto-filter-xform"),F=t("./picture-xform"),$=t("./drawing-xform"),W=t("./table-part-xform"),C=t("./row-breaks-xform"),D=t("./header-footer-xform"),k=t("./cf/conditional-formattings-xform"),y=t("./ext-lst-xform"),w=(_,T)=>{if(!T||!T.length)return _;if(!_||!_.length)return T;const j={},O={};return _.forEach(z=>{j[z.ref]=z,z.rules.forEach(V=>{const{x14Id:q}=V;q&&(O[q]=V)})}),T.forEach(z=>{z.rules.forEach(V=>{const q=O[V.x14Id];q?((P,G)=>{Object.keys(G).forEach(I=>{const A=P[I],H=G[I];A===void 0&&H!==void 0&&(P[I]=H)})})(q,V):j[z.ref]?j[z.ref].rules.push(V):_.push({ref:z.ref,rules:[V]})})}),_};class v extends r{constructor(T){super();const{maxRows:j,maxCols:O,ignoreNodes:z}=T||{};this.ignoreNodes=z||[],this.map={sheetPr:new p,dimension:new d,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new S}),sheetFormatPr:new x,cols:new c({tag:"cols",count:!1,childXform:new o}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new s({maxItems:O}),maxItems:j}),autoFilter:new L,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new u}),rowBreaks:new C,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new f}),pageMargins:new R,dataValidations:new g,pageSetup:new B,headerFooter:new D,printOptions:new N,picture:new F,drawing:new $,sheetProtection:new M,tableParts:new c({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new k,extLst:new y}}prepare(T,j){j.merges=new e,T.hyperlinks=j.hyperlinks=[],T.comments=j.comments=[],j.formulae={},j.siFormulae=0,this.map.cols.prepare(T.cols,j),this.map.sheetData.prepare(T.rows,j),this.map.conditionalFormatting.prepare(T.conditionalFormattings,j),T.mergeCells=j.merges.mergeCells;const O=T.rels=[];function z(P){return"rId"+(P.length+1)}if(T.hyperlinks.forEach(P=>{const G=z(O);P.rId=G,O.push({Id:G,Type:n.Hyperlink,Target:P.target,TargetMode:"External"})}),T.comments.length>0){const P={Id:z(O),Type:n.Comments,Target:`../comments${T.id}.xml`};O.push(P);const G={Id:z(O),Type:n.VmlDrawing,Target:`../drawings/vmlDrawing${T.id}.vml`};O.push(G),T.comments.forEach(I=>{I.refAddress=i.decodeAddress(I.ref)}),j.commentRefs.push({commentName:"comments"+T.id,vmlDrawing:"vmlDrawing"+T.id})}const V=[];let q;T.media.forEach(P=>{if(P.type==="background"){const G=z(O);q=j.media[P.imageId],O.push({Id:G,Type:n.Image,Target:`../media/${q.name}.${q.extension}`}),T.background={rId:G},T.image=j.media[P.imageId]}else if(P.type==="image"){let{drawing:G}=T;q=j.media[P.imageId],G||(G=T.drawing={rId:z(O),name:"drawing"+ ++j.drawingsCount,anchors:[],rels:[]},j.drawings.push(G),O.push({Id:G.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${G.name}.xml`}));let I=this.preImageId===P.imageId?V[P.imageId]:V[G.rels.length];I||(I=z(G.rels),V[G.rels.length]=I,G.rels.push({Id:I,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${q.name}.${q.extension}`}));const A={picture:{rId:I},range:P.range};if(P.hyperlinks&&P.hyperlinks.hyperlink){const H=z(G.rels);V[G.rels.length]=H,A.picture.hyperlinks={tooltip:P.hyperlinks.tooltip,rId:H},G.rels.push({Id:H,Type:n.Hyperlink,Target:P.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=P.imageId,G.anchors.push(A)}}),T.tables.forEach(P=>{const G=z(O);P.rId=G,O.push({Id:G,Type:n.Table,Target:"../tables/"+P.target}),P.columns.forEach(I=>{const{style:A}=I;A&&(I.dxfId=j.styles.addDxfStyle(A))})}),this.map.extLst.prepare(T,j)}render(T,j){T.openXml(a.StdDocAttributes),T.openNode("worksheet",v.WORKSHEET_ATTRIBUTES);const O=j.properties?{defaultRowHeight:j.properties.defaultRowHeight,dyDescent:j.properties.dyDescent,outlineLevelCol:j.properties.outlineLevelCol,outlineLevelRow:j.properties.outlineLevelRow}:void 0;j.properties&&j.properties.defaultColWidth&&(O.defaultColWidth=j.properties.defaultColWidth);const z={outlineProperties:j.properties&&j.properties.outlineProperties,tabColor:j.properties&&j.properties.tabColor,pageSetup:j.pageSetup&&j.pageSetup.fitToPage?{fitToPage:j.pageSetup.fitToPage}:void 0},V=j.pageSetup&&j.pageSetup.margins,q={showRowColHeaders:j.pageSetup&&j.pageSetup.showRowColHeaders,showGridLines:j.pageSetup&&j.pageSetup.showGridLines,horizontalCentered:j.pageSetup&&j.pageSetup.horizontalCentered,verticalCentered:j.pageSetup&&j.pageSetup.verticalCentered},P=j.sheetProtection;this.map.sheetPr.render(T,z),this.map.dimension.render(T,j.dimensions),this.map.sheetViews.render(T,j.views),this.map.sheetFormatPr.render(T,O),this.map.cols.render(T,j.cols),this.map.sheetData.render(T,j.rows),this.map.sheetProtection.render(T,P),this.map.autoFilter.render(T,j.autoFilter),this.map.mergeCells.render(T,j.mergeCells),this.map.conditionalFormatting.render(T,j.conditionalFormattings),this.map.dataValidations.render(T,j.dataValidations),this.map.hyperlinks.render(T,j.hyperlinks),this.map.printOptions.render(T,q),this.map.pageMargins.render(T,V),this.map.pageSetup.render(T,j.pageSetup),this.map.headerFooter.render(T,j.headerFooter),this.map.rowBreaks.render(T,j.rowBreaks),this.map.drawing.render(T,j.drawing),this.map.picture.render(T,j.background),this.map.tableParts.render(T,j.tables),this.map.extLst.render(T,j),j.rels&&j.rels.forEach(G=>{G.Type===n.VmlDrawing&&T.leafNode("legacyDrawing",{"r:id":G.Id})}),T.closeNode()}parseOpen(T){return this.parser?(this.parser.parseOpen(T),!0):T.name==="worksheet"?(l.each(this.map,j=>{j.reset()}),!0):(this.map[T.name]&&!this.ignoreNodes.includes(T.name)&&(this.parser=this.map[T.name],this.parser.parseOpen(T)),!0)}parseText(T){this.parser&&this.parser.parseText(T)}parseClose(T){if(this.parser)return this.parser.parseClose(T)||(this.parser=void 0),!0;switch(T){case"worksheet":{const j=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(j.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(j.outlineProperties=this.map.sheetPr.model.outlineProperties);const O={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},z=Object.assign(O,this.map.pageSetup.model,this.map.printOptions.model),V=w(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:j,views:this.map.sheetViews.model,pageSetup:z,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:V},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(T,j){const O=(T.relationships||[]).reduce((V,q)=>{if(V[q.Id]=q,q.Type===n.Comments&&(T.comments=j.comments[q.Target].comments),q.Type===n.VmlDrawing&&T.comments&&T.comments.length){const P=j.vmlDrawings[q.Target].comments;T.comments.forEach((G,I)=>{G.note=Object.assign({},G.note,P[I])})}return V},{});if(j.commentsMap=(T.comments||[]).reduce((V,q)=>(q.ref&&(V[q.ref]=q),V),{}),j.hyperlinkMap=(T.hyperlinks||[]).reduce((V,q)=>(q.rId&&(V[q.address]=O[q.rId].Target),V),{}),j.formulae={},T.rows=T.rows&&T.rows.filter(Boolean)||[],T.rows.forEach(V=>{V.cells=V.cells&&V.cells.filter(Boolean)||[]}),this.map.cols.reconcile(T.cols,j),this.map.sheetData.reconcile(T.rows,j),this.map.conditionalFormatting.reconcile(T.conditionalFormattings,j),T.media=[],T.drawing){const V=O[T.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(V){const q=V[1];j.drawings[q].anchors.forEach(P=>{if(P.medium){const G={type:"image",imageId:P.medium.index,range:P.range,hyperlinks:P.picture.hyperlinks};T.media.push(G)}})}}const z=T.background&&O[T.background.rId];if(z){const V=z.Target.split("/media/")[1],q=j.mediaIndex&&j.mediaIndex[V];q!==void 0&&T.media.push({type:"background",imageId:q})}T.tables=(T.tables||[]).map(V=>{const q=O[V.rId];return j.tables[q.Target]}),delete T.relationships,delete T.hyperlinks,delete T.comments}}v.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},h.exports=v},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,a){a&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=i.parse||function(a){return new Date(a)}}render(i,a){a&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(a)):i.writeText(this._format(a)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,a){(a||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,a):i.writeText(a),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,a){a!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,a):i.writeText(a),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,h,m){const l=t("./base-xform"),i=t("../../utils/xml-stream");h.exports=class extends l{constructor(a){super(),this._model=a}render(a){if(!this._xml){const n=new i;(function e(r,c){r.openNode(c.tag,c.$),c.c&&c.c.forEach(s=>{e(r,s)}),c.t&&r.writeText(c.t),r.closeNode()})(n,this._model),this._xml=n.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,h,m){const l=t("./text-xform"),i=t("./rich-text-xform"),a=t("../base-xform");h.exports=class extends a{constructor(){super(),this.map={r:new i,t:new l}}get tag(){return"rPh"}render(n,e){if(n.openNode(this.tag,{sb:e.sb||0,eb:e.eb||0}),e&&e.hasOwnProperty("richText")&&e.richText){const{r}=this.map;e.richText.forEach(c=>{r.render(n,c)})}else e&&this.map.t.render(n,e.text);n.closeNode()}parseOpen(n){const{name:e}=n;return this.parser?(this.parser.parseOpen(n),!0):e===this.tag?(this.model={sb:parseInt(n.attributes.sb,10),eb:parseInt(n.attributes.eb,10)},!0):(this.parser=this.map[e],!!this.parser&&(this.parser.parseOpen(n),!0))}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)){switch(n){case"r":{let e=this.model.richText;e||(e=this.model.richText=[]),e.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,h,m){const l=t("./text-xform"),i=t("../style/font-xform"),a=t("../base-xform");class n extends a{constructor(r){super(),this.model=r}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new l)}get fontXform(){return this._fontXform||(this._fontXform=new i(n.FONT_OPTIONS))}render(r,c){c=c||this.model,r.openNode("r"),c.font&&this.fontXform.render(r,c.font),this.textXform.render(r,c.text),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(r),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(r),!0;default:return!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){switch(r){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(r),!0}}}n.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},h.exports=n},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,h,m){const l=t("./text-xform"),i=t("./rich-text-xform"),a=t("./phonetic-text-xform"),n=t("../base-xform");h.exports=class extends n{constructor(e){super(),this.model=e,this.map={r:new i,t:new l,rPh:new a}}get tag(){return"si"}render(e,r){e.openNode(this.tag),r&&r.hasOwnProperty("richText")&&r.richText?r.richText.length?r.richText.forEach(c=>{this.map.r.render(e,c)}):this.map.t.render(e,""):r!=null&&this.map.t.render(e,r),e.closeNode()}parseOpen(e){const{name:r}=e;return this.parser?(this.parser.parseOpen(e),!0):r===this.tag?(this.model={},!0):(this.parser=this.map[r],!!this.parser&&(this.parser.parseOpen(e),!0))}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser){if(!this.parser.parseClose(e)){switch(e){case"r":{let r=this.model.richText;r||(r=this.model.richText=[]),r.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(e){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,h,m){const l=t("../../../utils/xml-stream"),i=t("../base-xform"),a=t("./shared-string-xform");h.exports=class extends i{constructor(n){super(),this.model=n||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(n){return this.model.values[n]}add(n){return n.richText?this.addRichText(n):this.addText(n)}addText(n){let e=this.hash[n];return e===void 0&&(e=this.hash[n]=this.model.values.length,this.model.values.push(n)),this.model.count++,e}addRichText(n){const e=this.sharedStringXform.toXml(n);let r=this.rich[e];return r===void 0&&(r=this.rich[e]=this.model.values.length,this.model.values.push(n)),this.model.count++,r}render(n,e){e=e||this._values,n.openXml(l.StdDocAttributes),n.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:e.count,uniqueCount:e.values.length});const r=this.sharedStringXform;e.values.forEach(c=>{r.render(n,c)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(n),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(n))}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(n){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+n)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"t"}render(i,a){i.openNode("t"),/^\s|\n|\s$/.test(a)&&i.addAttribute("xml:space","preserve"),i.writeText(a),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(i){switch(i.name){case"t":return this._text=[],!0;default:return!1}}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,h,m){const l=t("../../../doc/enums"),i=t("../../../utils/utils"),a=t("../base-xform"),n={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((r,c)=>(r[c]=!0,r),{}),horizontal(r){return this.horizontalValues[r]?r:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((r,c)=>(r[c]=!0,r),{}),vertical(r){return r==="middle"?"center":this.verticalValues[r]?r:void 0},wrapText:r=>!!r||void 0,shrinkToFit:r=>!!r||void 0,textRotation(r){switch(r){case"vertical":return r;default:return(r=i.validInt(r))>=-90&&r<=90?r:void 0}},indent:r=>(r=i.validInt(r),Math.max(0,r)),readingOrder(r){switch(r){case"ltr":return l.ReadingOrder.LeftToRight;case"rtl":return l.ReadingOrder.RightToLeft;default:return}}},e={toXml(r){if(r=n.textRotation(r)){if(r==="vertical")return 255;const c=Math.round(r);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(r){const c=i.validInt(r);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};h.exports=class extends a{get tag(){return"alignment"}render(r,c){r.addRollback(),r.openNode("alignment");let s=!1;function o(d,f){f&&(r.addAttribute(d,f),s=!0)}o("horizontal",n.horizontal(c.horizontal)),o("vertical",n.vertical(c.vertical)),o("wrapText",!!n.wrapText(c.wrapText)&&"1"),o("shrinkToFit",!!n.shrinkToFit(c.shrinkToFit)&&"1"),o("indent",n.indent(c.indent)),o("textRotation",e.toXml(c.textRotation)),o("readingOrder",n.readingOrder(c.readingOrder)),r.closeNode(),s?r.commit():r.rollback()}parseOpen(r){const c={};let s=!1;function o(d,f,u){d&&(c[f]=u,s=!0)}o(r.attributes.horizontal,"horizontal",r.attributes.horizontal),o(r.attributes.vertical,"vertical",r.attributes.vertical==="center"?"middle":r.attributes.vertical),o(r.attributes.wrapText,"wrapText",i.parseBoolean(r.attributes.wrapText)),o(r.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(r.attributes.shrinkToFit)),o(r.attributes.indent,"indent",parseInt(r.attributes.indent,10)),o(r.attributes.textRotation,"textRotation",e.toModel(r.attributes.textRotation)),o(r.attributes.readingOrder,"readingOrder",r.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=s?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,h,m){const l=t("../base-xform"),i=t("../../../utils/utils"),a=t("./color-xform");class n extends l{constructor(r){super(),this.name=r,this.map={color:new a}}get tag(){return this.name}render(r,c,s){const o=c&&c.color||s||this.defaultColor;r.openNode(this.name),c&&c.style&&(r.addAttribute("style",c.style),o&&this.map.color.render(r,o)),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.name:{const{style:c}=r.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(r),!0;default:return!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):(r===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(r){return n.validStyleValues[r]}}n.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((e,r)=>(e[r]=!0,e),{}),h.exports=class extends l{constructor(){super(),this.map={top:new n("top"),left:new n("left"),bottom:new n("bottom"),right:new n("right"),diagonal:new n("diagonal")}}render(e,r){const{color:c}=r;function s(o,d){o&&!o.color&&r.color&&(o={...o,color:r.color}),d.render(e,o,c)}e.openNode("border"),r.diagonal&&r.diagonal.style&&(r.diagonal.up&&e.addAttribute("diagonalUp","1"),r.diagonal.down&&e.addAttribute("diagonalDown","1")),s(r.left,this.map.left),s(r.right,this.map.right),s(r.top,this.map.top),s(r.bottom,this.map.bottom),s(r.diagonal,this.map.diagonal),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"border":return this.reset(),this.diagonalUp=i.parseBoolean(e.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(e.attributes.diagonalDown),!0;default:return this.parser=this.map[e.name],!!this.parser&&(this.parser.parseOpen(e),!0)}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;if(e==="border"){const r=this.model={},c=function(s,o,d){o&&(d&&Object.assign(o,d),r[s]=o)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,a){return!!a&&(i.openNode(this.name),a.argb?i.addAttribute("rgb",a.argb):a.theme!==void 0?(i.addAttribute("theme",a.theme),a.tint!==void 0&&i.addAttribute("tint",a.tint)):a.indexed!==void 0?i.addAttribute("indexed",a.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,h,m){const l=t("../base-xform"),i=t("./alignment-xform"),a=t("./border-xform"),n=t("./fill-xform"),e=t("./font-xform"),r=t("./numfmt-xform"),c=t("./protection-xform");h.exports=class extends l{constructor(){super(),this.map={alignment:new i,border:new a,fill:new n,font:new e,numFmt:new r,protection:new c}}get tag(){return"dxf"}render(s,o){if(s.openNode(this.tag),o.font&&this.map.font.render(s,o.font),o.numFmt&&o.numFmtId){const d={id:o.numFmtId,formatCode:o.numFmt};this.map.numFmt.render(s,d)}o.fill&&this.map.fill.render(s,o.fill),o.alignment&&this.map.alignment.render(s,o.alignment),o.border&&this.map.border.render(s,o.border),o.protection&&this.map.protection.render(s,o.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s),!0}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.parser=void 0),!0):s!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,h,m){const l=t("../base-xform"),i=t("./color-xform");class a extends l{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(s,o){s.openNode("stop"),s.addAttribute("position",o.position),this.map.color.render(s,o.color),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"stop":return this.model={position:parseFloat(s.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(s),!0;default:return!1}}parseText(){}parseClose(s){return!!this.parser&&(this.parser.parseClose(s)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class n extends l{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(s,o){s.openNode("patternFill"),s.addAttribute("patternType",o.pattern),o.fgColor&&this.map.fgColor.render(s,o.fgColor),o.bgColor&&this.map.bgColor.render(s,o.bgColor),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"patternFill":return this.model={type:"pattern",pattern:s.attributes.patternType},!0;default:return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return!!this.parser&&(this.parser.parseClose(s)||(this.parser.model&&(this.model[s]=this.parser.model),this.parser=void 0),!0)}}class e extends l{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(s,o){switch(s.openNode("gradientFill"),o.gradient){case"angle":s.addAttribute("degree",o.degree);break;case"path":s.addAttribute("type","path"),o.center.left&&(s.addAttribute("left",o.center.left),o.center.right===void 0&&s.addAttribute("right",o.center.left)),o.center.right&&s.addAttribute("right",o.center.right),o.center.top&&(s.addAttribute("top",o.center.top),o.center.bottom===void 0&&s.addAttribute("bottom",o.center.top)),o.center.bottom&&s.addAttribute("bottom",o.center.bottom)}const d=this.map.stop;o.stops.forEach(f=>{d.render(s,f)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"gradientFill":{const o=this.model={stops:[]};return s.attributes.degree?(o.gradient="angle",o.degree=parseInt(s.attributes.degree,10)):s.attributes.type==="path"&&(o.gradient="path",o.center={left:s.attributes.left?parseFloat(s.attributes.left):0,top:s.attributes.top?parseFloat(s.attributes.top):0},s.attributes.right!==s.attributes.left&&(o.center.right=s.attributes.right?parseFloat(s.attributes.right):0),s.attributes.bottom!==s.attributes.top&&(o.center.bottom=s.attributes.bottom?parseFloat(s.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return!!this.parser&&(this.parser.parseClose(s)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class r extends l{constructor(){super(),this.map={patternFill:new n,gradientFill:new e}}get tag(){return"fill"}render(s,o){switch(s.addRollback(),s.openNode("fill"),o.type){case"pattern":this.map.patternFill.render(s,o);break;case"gradient":this.map.gradientFill.render(s,o);break;default:return void s.rollback()}s.closeNode(),s.commit()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"fill":return this.model={},!0;default:return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return!!this.parser&&(this.parser.parseClose(s)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(s){return r.validPatternValues[s]}}r.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,s)=>(c[s]=!0,c),{}),r.StopXform=a,r.PatternFillXform=n,r.GradientFillXform=e,h.exports=r},{"../base-xform":32,"./color-xform":128}],131:[function(t,h,m){const l=t("./color-xform"),i=t("../simple/boolean-xform"),a=t("../simple/integer-xform"),n=t("../simple/string-xform"),e=t("./underline-xform"),r=t("../../../utils/under-dash"),c=t("../base-xform");class s extends c{constructor(d){super(),this.options=d||s.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new e},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new l},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new n({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new n({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new n({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(d,f){const{map:u}=this;d.openNode(this.options.tagName),r.each(this.map,(g,p)=>{u[p].xform.render(d,f[g.prop])}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;if(this.map[d.name])return this.parser=this.map[d.name].xform,this.parser.parseOpen(d);switch(d.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser&&!this.parser.parseClose(d)){const f=this.map[d];return this.parser.model&&(this.model[f.prop]=this.parser.model),this.parser=void 0,!0}switch(d){case this.options.tagName:return!1;default:return!0}}}s.OPTIONS={tagName:"font",fontNameTag:"name"},h.exports=s},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,h,m){const l=t("../../../utils/under-dash"),i=t("../../defaultnumformats"),a=t("../base-xform"),n=function(){const r={};return l.each(i,(c,s)=>{c.f&&(r[c.f]=parseInt(s,10))}),r}();class e extends a{constructor(c,s){super(),this.id=c,this.formatCode=s}get tag(){return"numFmt"}render(c,s){c.leafNode("numFmt",{numFmtId:s.id,formatCode:s.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}e.getDefaultFmtId=function(r){return n[r]},e.getDefaultFmtCode=function(r){return i[r]&&i[r].f},h.exports=e},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,h,m){const l=t("../base-xform"),i={boolean:(a,n)=>a===void 0?n:a};h.exports=class extends l{get tag(){return"protection"}render(a,n){a.addRollback(),a.openNode("protection");let e=!1;function r(c,s){s!==void 0&&(a.addAttribute(c,s),e=!0)}r("locked",i.boolean(n.locked,!0)?void 0:"0"),r("hidden",i.boolean(n.hidden,!1)?"1":void 0),a.closeNode(),e?a.commit():a.rollback()}parseOpen(a){const n={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},e=!n.locked||n.hidden;this.model=e?n:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,h,m){const l=t("../base-xform"),i=t("./alignment-xform"),a=t("./protection-xform");h.exports=class extends l{constructor(n){super(),this.xfId=!(!n||!n.xfId),this.map={alignment:new i,protection:new a}}get tag(){return"xf"}render(n,e){n.openNode("xf",{numFmtId:e.numFmtId||0,fontId:e.fontId||0,fillId:e.fillId||0,borderId:e.borderId||0}),this.xfId&&n.addAttribute("xfId",e.xfId||0),e.numFmtId&&n.addAttribute("applyNumberFormat","1"),e.fontId&&n.addAttribute("applyFont","1"),e.fillId&&n.addAttribute("applyFill","1"),e.borderId&&n.addAttribute("applyBorder","1"),e.alignment&&n.addAttribute("applyAlignment","1"),e.protection&&n.addAttribute("applyProtection","1"),e.alignment&&this.map.alignment.render(n,e.alignment),e.protection&&this.map.protection.render(n,e.protection),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"xf":return this.model={numFmtId:parseInt(n.attributes.numFmtId,10),fontId:parseInt(n.attributes.fontId,10),fillId:parseInt(n.attributes.fillId,10),borderId:parseInt(n.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(n.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(n),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):n!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,h,m){const l=t("../../../doc/enums"),i=t("../../../utils/xml-stream"),a=t("../base-xform"),n=t("../static-xform"),e=t("../list-xform"),r=t("./font-xform"),c=t("./fill-xform"),s=t("./border-xform"),o=t("./numfmt-xform"),d=t("./style-xform"),f=t("./dxf-xform");class u extends a{constructor(p){super(),this.map={numFmts:new e({tag:"numFmts",count:!0,childXform:new o}),fonts:new e({tag:"fonts",count:!0,childXform:new r,$:{"x14ac:knownFonts":1}}),fills:new e({tag:"fills",count:!0,childXform:new c}),borders:new e({tag:"borders",count:!0,childXform:new s}),cellStyleXfs:new e({tag:"cellStyleXfs",count:!0,childXform:new d}),cellXfs:new e({tag:"cellXfs",count:!0,childXform:new d({xfId:!0})}),dxfs:new e({tag:"dxfs",always:!0,count:!0,childXform:new f}),numFmt:new o,font:new r,fill:new c,border:new s,style:new d({xfId:!0}),cellStyles:u.STATIC_XFORMS.cellStyles,tableStyles:u.STATIC_XFORMS.tableStyles,extLst:u.STATIC_XFORMS.extLst},p&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(p,x){x=x||this.model,p.openXml(i.StdDocAttributes),p.openNode("styleSheet",u.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(p.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(S=>{p.writeXml(S)}),p.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),p.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(S=>{p.writeXml(S)}),p.closeNode(),p.openNode("fills",{count:x.fills.length}),x.fills.forEach(S=>{p.writeXml(S)}),p.closeNode(),p.openNode("borders",{count:x.borders.length}),x.borders.forEach(S=>{p.writeXml(S)}),p.closeNode(),this.map.cellStyleXfs.render(p,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),p.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(S=>{p.writeXml(S)}),p.closeNode()):(this.map.numFmts.render(p,x.numFmts),this.map.fonts.render(p,x.fonts),this.map.fills.render(p,x.fills),this.map.borders.render(p,x.borders),this.map.cellStyleXfs.render(p,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(p,x.styles)),u.STATIC_XFORMS.cellStyles.render(p),this.map.dxfs.render(p,x.dxfs),u.STATIC_XFORMS.tableStyles.render(p),u.STATIC_XFORMS.extLst.render(p),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"styleSheet":{this.model={};const x=(S,M)=>{M.model&&M.model.length&&(this.model[S]=M.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const S=this.index.numFmt;this.model.numFmts.forEach(M=>{S[M.id]=M.formatCode})}return!1}default:return!0}}addStyleModel(p,x){if(!p)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(p))return this.weakMap.get(p);const S={};if(x=x||l.ValueType.Number,p.numFmt)S.numFmtId=this._addNumFmtStr(p.numFmt);else switch(x){case l.ValueType.Number:S.numFmtId=this._addNumFmtStr("General");break;case l.ValueType.Date:S.numFmtId=this._addNumFmtStr("mm-dd-yy")}p.font&&(S.fontId=this._addFont(p.font)),p.border&&(S.borderId=this._addBorder(p.border)),p.fill&&(S.fillId=this._addFill(p.fill)),p.alignment&&(S.alignment=p.alignment),p.protection&&(S.protection=p.protection);const M=this._addStyle(S);return this.weakMap&&this.weakMap.set(p,M),M}getStyleModel(p){const x=this.model.styles[p];if(!x)return null;let S=this.index.model[p];if(S)return S;if(S=this.index.model[p]={},x.numFmtId){const R=this.index.numFmt[x.numFmtId]||o.getDefaultFmtCode(x.numFmtId);R&&(S.numFmt=R)}function M(R,B,N){if(N||N===0){const L=B[N];L&&(S[R]=L)}}return M("font",this.model.fonts,x.fontId),M("border",this.model.borders,x.borderId),M("fill",this.model.fills,x.fillId),x.alignment&&(S.alignment=x.alignment),x.protection&&(S.protection=x.protection),S}addDxfStyle(p){return p.numFmt&&(p.numFmtId=this._addNumFmtStr(p.numFmt)),this.model.dxfs.push(p),this.model.dxfs.length-1}getDxfStyle(p){return this.model.dxfs[p]}_addStyle(p){const x=this.map.style.toXml(p);let S=this.index.style[x];return S===void 0&&(S=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),S}_addNumFmtStr(p){let x=o.getDefaultFmtId(p);if(x!==void 0||(x=this.index.numFmt[p],x!==void 0))return x;x=this.index.numFmt[p]=164+this.model.numFmts.length;const S=this.map.numFmt.toXml({id:x,formatCode:p});return this.model.numFmts.push(S),x}_addFont(p){const x=this.map.font.toXml(p);let S=this.index.font[x];return S===void 0&&(S=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),S}_addBorder(p){const x=this.map.border.toXml(p);let S=this.index.border[x];return S===void 0&&(S=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),S}_addFill(p){const x=this.map.fill.toXml(p);let S=this.index.fill[x];return S===void 0&&(S=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),S}}u.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},u.STATIC_XFORMS={cellStyles:new n({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new n({tag:"dxfs",$:{count:0}}),tableStyles:new n({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new n({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},u.Mock=class extends u{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(g){return g.autodrain(),Promise.resolve()}addStyleModel(g,p){switch(p){case l.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const g={numFmtId:o.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(g)}return this._dateStyleId}getStyleModel(){return{}}},h.exports=u},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,h,m){const l=t("../base-xform");class i extends l{constructor(n){super(),this.model=n}get tag(){return"u"}render(n,e){if((e=e||this.model)===!0)n.leafNode("u");else{const r=i.Attributes[e];r&&n.leafNode("u",r)}}parseOpen(n){n.name==="u"&&(this.model=n.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},h.exports=i},{"../base-xform":32}],137:[function(t,h,m){const l=t("../base-xform"),i=t("./filter-column-xform");h.exports=class extends l{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((n,e)=>{this.map.filterColumn.prepare(n,{index:e})})}render(a,n){return a.openNode(this.tag,{ref:n.autoFilterRef}),n.columns.forEach(e=>{this.map.filterColumn.render(a,e)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"customFilter"}render(i,a){i.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,h,m){const l=t("../base-xform"),i=t("../list-xform"),a=t("./custom-filter-xform"),n=t("./filter-xform");h.exports=class extends l{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new n})}}get tag(){return"filterColumn"}prepare(e,r){e.colId=r.index.toString()}render(e,r){return r.customFilters?(e.openNode(this.tag,{colId:r.colId,hiddenButton:r.filterButton?"0":"1"}),this.map.customFilters.render(e,r.customFilters),e.closeNode(),!0):(e.leafNode(this.tag,{colId:r.colId,hiddenButton:r.filterButton?"0":"1"}),!0)}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;const{attributes:r}=e;switch(e.name){case this.tag:return this.model={filterButton:r.hiddenButton==="0"},!0;default:if(this.parser=this.map[e.name],this.parser)return this.parseOpen(e),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(e))}}parseText(){}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"filter"}render(i,a){i.leafNode(this.tag,{val:a.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"tableColumn"}prepare(i,a){i.id=a.index+1}render(i,a){return i.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(i){if(i.name===this.tag){const{attributes:a}=i;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,h,m){const l=t("../base-xform");h.exports=class extends l{get tag(){return"tableStyleInfo"}render(i,a){return i.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){const{attributes:a}=i;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,h,m){const l=t("../../../utils/xml-stream"),i=t("../base-xform"),a=t("../list-xform"),n=t("./auto-filter-xform"),e=t("./table-column-xform"),r=t("./table-style-info-xform");class c extends i{constructor(){super(),this.map={autoFilter:new n,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new e}),tableStyleInfo:new r}}prepare(o,d){this.map.autoFilter.prepare(o),this.map.tableColumns.prepare(o.columns,d)}get tag(){return"table"}render(o,d){o.openXml(l.StdDocAttributes),o.openNode(this.tag,{...c.TABLE_ATTRIBUTES,id:d.id,name:d.name,displayName:d.displayName||d.name,ref:d.tableRef,totalsRowCount:d.totalsRow?"1":void 0,totalsRowShown:d.totalsRow?void 0:"1",headerRowCount:d.headerRow?"1":"0"}),this.map.autoFilter.render(o,d),this.map.tableColumns.render(o,d.columns),this.map.tableStyleInfo.render(o,d.style),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{name:d,attributes:f}=o;switch(d){case this.tag:this.reset(),this.model={name:f.name,displayName:f.displayName||f.name,tableRef:f.ref,totalsRow:f.totalsRowCount==="1",headerRow:f.headerRowCount==="1"};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((d,f)=>{this.model.columns[f].filterButton=d.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(o,d){o.columns.forEach(f=>{f.dxfId!==void 0&&(f.style=d.styles.getDxfStyle(f.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},h.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,h,m){(function(l,i){(function(){const a=t("fs"),n=t("jszip"),{PassThrough:e}=t("readable-stream"),r=t("../utils/zip-stream"),c=t("../utils/stream-buf"),s=t("../utils/utils"),o=t("../utils/xml-stream"),{bufferToString:d}=t("../utils/browser-buffer-decode"),f=t("./xform/style/styles-xform"),u=t("./xform/core/core-xform"),g=t("./xform/strings/shared-strings-xform"),p=t("./xform/core/relationships-xform"),x=t("./xform/core/content-types-xform"),S=t("./xform/core/app-xform"),M=t("./xform/book/workbook-xform"),R=t("./xform/sheet/worksheet-xform"),B=t("./xform/drawing/drawing-xform"),N=t("./xform/table/table-xform"),L=t("./xform/comment/comments-xform"),F=t("./xform/comment/vml-notes-xform"),$=t("./xml/theme1");class W{constructor(D){this.workbook=D}async readFile(D,k){if(!await s.fs.exists(D))throw new Error("File not found: "+D);const y=a.createReadStream(D);try{const w=await this.read(y,k);return y.close(),w}catch(w){throw y.close(),w}}parseRels(D){return new p().parseStream(D)}parseWorkbook(D){return new M().parseStream(D)}parseSharedStrings(D){return new g().parseStream(D)}reconcile(D,k){const y=new M,w=new R(k),v=new B,_=new N;y.reconcile(D);const T={media:D.media,mediaIndex:D.mediaIndex};Object.keys(D.drawings).forEach(z=>{const V=D.drawings[z],q=D.drawingRels[z];q&&(T.rels=q.reduce((P,G)=>(P[G.Id]=G,P),{}),(V.anchors||[]).forEach(P=>{const G=P.picture&&P.picture.hyperlinks;G&&T.rels[G.rId]&&(G.hyperlink=T.rels[G.rId].Target,delete G.rId)}),v.reconcile(V,T))});const j={styles:D.styles};Object.values(D.tables).forEach(z=>{_.reconcile(z,j)});const O={styles:D.styles,sharedStrings:D.sharedStrings,media:D.media,mediaIndex:D.mediaIndex,date1904:D.properties&&D.properties.date1904,drawings:D.drawings,comments:D.comments,tables:D.tables,vmlDrawings:D.vmlDrawings};D.worksheets.forEach(z=>{z.relationships=D.worksheetRels[z.sheetNo],w.reconcile(z,O)}),delete D.worksheetHash,delete D.worksheetRels,delete D.globalRels,delete D.sharedStrings,delete D.workbookRels,delete D.sheetDefs,delete D.styles,delete D.mediaIndex,delete D.drawings,delete D.drawingRels,delete D.vmlDrawings}async _processWorksheetEntry(D,k,y,w,v){const _=new R(w),T=await _.parseStream(D);T.sheetNo=y,k.worksheetHash[v]=T,k.worksheets.push(T)}async _processCommentEntry(D,k,y){const w=new L,v=await w.parseStream(D);k.comments[`../${y}.xml`]=v}async _processTableEntry(D,k,y){const w=new N,v=await w.parseStream(D);k.tables[`../tables/${y}.xml`]=v}async _processWorksheetRelsEntry(D,k,y){const w=new p,v=await w.parseStream(D);k.worksheetRels[y]=v}async _processMediaEntry(D,k,y){const w=y.lastIndexOf(".");if(w>=1){const v=y.substr(w+1),_=y.substr(0,w);await new Promise((T,j)=>{const O=new c;O.on("finish",()=>{k.mediaIndex[y]=k.media.length,k.mediaIndex[_]=k.media.length;const z={type:"image",name:_,extension:v,buffer:O.toBuffer()};k.media.push(z),T()}),D.on("error",z=>{j(z)}),D.pipe(O)})}}async _processDrawingEntry(D,k,y){const w=new B,v=await w.parseStream(D);k.drawings[y]=v}async _processDrawingRelsEntry(D,k,y){const w=new p,v=await w.parseStream(D);k.drawingRels[y]=v}async _processVmlDrawingEntry(D,k,y){const w=new F,v=await w.parseStream(D);k.vmlDrawings[`../drawings/${y}.vml`]=v}async _processThemeEntry(D,k,y){await new Promise((w,v)=>{const _=new c;D.on("error",v),_.on("error",v),_.on("finish",()=>{k.themes[y]=_.read().toString(),w()}),D.pipe(_)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(D,k){!D[Symbol.asyncIterator]&&D.pipe&&(D=D.pipe(new e));const y=[];for await(const w of D)y.push(w);return this.load(i.concat(y),k)}async load(D,k){let y;y=k&&k.base64?i.from(D.toString(),"base64"):D;const w={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},v=await n.loadAsync(y);for(const _ of Object.values(v.files))if(!_.dir){let T,j=_.name;if(j[0]==="/"&&(j=j.substr(1)),j.match(/xl\/media\//)||j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))T=new e,T.write(await _.async("nodebuffer"));else{let O;T=new e({writableObjectMode:!0,readableObjectMode:!0}),O=l.browser?d(await _.async("nodebuffer")):await _.async("string");const z=16384;for(let V=0;V<O.length;V+=z)T.write(O.substring(V,V+z))}switch(T.end(),j){case"_rels/.rels":w.globalRels=await this.parseRels(T);break;case"xl/workbook.xml":{const O=await this.parseWorkbook(T);w.sheets=O.sheets,w.definedNames=O.definedNames,w.views=O.views,w.properties=O.properties,w.calcProperties=O.calcProperties;break}case"xl/_rels/workbook.xml.rels":w.workbookRels=await this.parseRels(T);break;case"xl/sharedStrings.xml":w.sharedStrings=new g,await w.sharedStrings.parseStream(T);break;case"xl/styles.xml":w.styles=new f,await w.styles.parseStream(T);break;case"docProps/app.xml":{const O=new S,z=await O.parseStream(T);w.company=z.company,w.manager=z.manager;break}case"docProps/core.xml":{const O=new u,z=await O.parseStream(T);Object.assign(w,z);break}default:{let O=j.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(O){await this._processWorksheetEntry(T,w,O[1],k,j);break}if(O=j.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),O){await this._processWorksheetRelsEntry(T,w,O[1]);break}if(O=j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),O){await this._processThemeEntry(T,w,O[1]);break}if(O=j.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),O){await this._processMediaEntry(T,w,O[1]);break}if(O=j.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),O){await this._processDrawingEntry(T,w,O[1]);break}if(O=j.match(/xl\/(comments\d+)[.]xml/),O){await this._processCommentEntry(T,w,O[1]);break}if(O=j.match(/xl\/tables\/(table\d+)[.]xml/),O){await this._processTableEntry(T,w,O[1]);break}if(O=j.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),O){await this._processDrawingRelsEntry(T,w,O[1]);break}if(O=j.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),O){await this._processVmlDrawingEntry(T,w,O[1]);break}}}}return this.reconcile(w,k),this.workbook.model=w,this.workbook}async addMedia(D,k){await Promise.all(k.media.map(async y=>{if(y.type==="image"){const w=`xl/media/${y.name}.${y.extension}`;if(y.filename){const v=await function(_,T){return new Promise((j,O)=>{a.readFile(_,T,(z,V)=>{z?O(z):j(V)})})}(y.filename);return D.append(v,{name:w})}if(y.buffer)return D.append(y.buffer,{name:w});if(y.base64){const v=y.base64,_=v.substring(v.indexOf(",")+1);return D.append(_,{name:w,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(D,k){const y=new B,w=new p;k.worksheets.forEach(v=>{const{drawing:_}=v;if(_){y.prepare(_,{});let T=y.toXml(_);D.append(T,{name:`xl/drawings/${_.name}.xml`}),T=w.toXml(_.rels),D.append(T,{name:`xl/drawings/_rels/${_.name}.xml.rels`})}})}addTables(D,k){const y=new N;k.worksheets.forEach(w=>{const{tables:v}=w;v.forEach(_=>{y.prepare(_,{});const T=y.toXml(_);D.append(T,{name:"xl/tables/"+_.target})})})}async addContentTypes(D,k){const y=new x().toXml(k);D.append(y,{name:"[Content_Types].xml"})}async addApp(D,k){const y=new S().toXml(k);D.append(y,{name:"docProps/app.xml"})}async addCore(D,k){const y=new u;D.append(y.toXml(k),{name:"docProps/core.xml"})}async addThemes(D,k){const y=k.themes||{theme1:$};Object.keys(y).forEach(w=>{const v=y[w],_=`xl/theme/${w}.xml`;D.append(v,{name:_})})}async addOfficeRels(D){const k=new p().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);D.append(k,{name:"_rels/.rels"})}async addWorkbookRels(D,k){let y=1;const w=[{Id:"rId"+y++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+y++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];k.sharedStrings.count&&w.push({Id:"rId"+y++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),k.worksheets.forEach(_=>{_.rId="rId"+y++,w.push({Id:_.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${_.id}.xml`})});const v=new p().toXml(w);D.append(v,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(D,k){k.sharedStrings&&k.sharedStrings.count&&D.append(k.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(D,k){const{xml:y}=k.styles;y&&D.append(y,{name:"xl/styles.xml"})}async addWorkbook(D,k){const y=new M;D.append(y.toXml(k),{name:"xl/workbook.xml"})}async addWorksheets(D,k){const y=new R,w=new p,v=new L,_=new F;k.worksheets.forEach(T=>{let j=new o;y.render(j,T),D.append(j.xml,{name:`xl/worksheets/sheet${T.id}.xml`}),T.rels&&T.rels.length&&(j=new o,w.render(j,T.rels),D.append(j.xml,{name:`xl/worksheets/_rels/sheet${T.id}.xml.rels`})),T.comments.length>0&&(j=new o,v.render(j,T),D.append(j.xml,{name:`xl/comments${T.id}.xml`}),j=new o,_.render(j,T),D.append(j.xml,{name:`xl/drawings/vmlDrawing${T.id}.vml`}))})}_finalize(D){return new Promise((k,y)=>{D.on("finish",()=>{k(this)}),D.on("error",y),D.finalize()})}prepareModel(D,k){D.creator=D.creator||"ExcelJS",D.lastModifiedBy=D.lastModifiedBy||"ExcelJS",D.created=D.created||new Date,D.modified=D.modified||new Date,D.useSharedStrings=k.useSharedStrings===void 0||k.useSharedStrings,D.useStyles=k.useStyles===void 0||k.useStyles,D.sharedStrings=new g,D.styles=D.useStyles?new f(!0):new f.Mock;const y=new M,w=new R;y.prepare(D);const v={sharedStrings:D.sharedStrings,styles:D.styles,date1904:D.properties.date1904,drawingsCount:0,media:D.media};v.drawings=D.drawings=[],v.commentRefs=D.commentRefs=[];let _=0;D.tables=[],D.worksheets.forEach(T=>{T.tables.forEach(j=>{_++,j.target=`table${_}.xml`,j.id=_,D.tables.push(j)}),w.prepare(T,v)})}async write(D,k){k=k||{};const{model:y}=this.workbook,w=new r.ZipWriter(k.zip);return w.pipe(D),this.prepareModel(y,k),await this.addContentTypes(w,y),await this.addOfficeRels(w,y),await this.addWorkbookRels(w,y),await this.addWorksheets(w,y),await this.addSharedStrings(w,y),await this.addDrawings(w,y),await this.addTables(w,y),await Promise.all([this.addThemes(w,y),this.addStyles(w,y)]),await this.addMedia(w,y),await Promise.all([this.addApp(w,y),this.addCore(w,y)]),await this.addWorkbook(w,y),this._finalize(w)}writeFile(D,k){const y=a.createWriteStream(D);return new Promise((w,v)=>{y.on("finish",()=>{w()}),y.on("error",_=>{v(_)}),this.write(y,k).then(()=>{y.end()}).catch(_=>{v(_)})})}async writeBuffer(D){const k=new c;return await this.write(k,D),k.read()}}W.RelType=t("./rel-type"),h.exports=W}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,h,m){h.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,h,m){(function(l){(function(){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvFormatterStream=void 0;const i=t("stream"),a=t("./formatter");class n extends i.Transform{constructor(r){super({writableObjectMode:r.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=r,this.rowFormatter=new a.RowFormatter(r),this.hasWrittenBOM=!r.writeBOM}transform(r){return this.rowFormatter.rowTransform=r,this}_transform(r,c,s){let o=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(r,(d,f)=>d?(o=!0,s(d)):(f&&f.forEach(u=>{this.push(l.from(u,"utf8"))}),o=!0,s()))}catch(d){if(o)throw d;s(d)}}_flush(r){this.rowFormatter.finish((c,s)=>c?r(c):(s&&s.forEach(o=>{this.push(l.from(o,"utf8"))}),r()))}}m.CsvFormatterStream=n}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.FormatterOptions=void 0,m.FormatterOptions=class{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,l||{}),(l==null?void 0:l.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(l==null?void 0:l.quote)===!0?this.quote='"':(l==null?void 0:l.quote)===!1&&(this.quote=""),typeof(l==null?void 0:l.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=l.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,h,m){var l=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m,"__esModule",{value:!0}),m.FieldFormatter=void 0;const i=l(t("lodash.isboolean")),a=l(t("lodash.isnil")),n=l(t("lodash.escaperegexp"));m.FieldFormatter=class{constructor(e){this._headers=null,this.formatterOptions=e,e.headers!==null&&(this.headers=e.headers),this.REPLACE_REGEXP=new RegExp(e.quote,"g");const r=`[${e.delimiter}${n.default(e.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(r)}set headers(e){this._headers=e}shouldQuote(e,r){const c=r?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(c)?c:Array.isArray(c)?c[e]:this._headers!==null&&c[this._headers[e]]}format(e,r,c){const s=(""+(a.default(e)?"":e)).replace(/\0/g,""),{formatterOptions:o}=this;return o.quote!==""&&s.indexOf(o.quote)!==-1?this.quoteField(s.replace(this.REPLACE_REGEXP,o.escapedQuote)):s.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(r,c)?this.quoteField(s):s}quoteField(e){const{quote:r}=this.formatterOptions;return`${r}${e}${r}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,h,m){var l=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(m,"__esModule",{value:!0}),m.RowFormatter=void 0;const i=l(t("lodash.isfunction")),a=l(t("lodash.isequal")),n=t("./FieldFormatter"),e=t("../types");class r{constructor(s){this.rowCount=0,this.formatterOptions=s,this.fieldFormatter=new n.FieldFormatter(s),this.headers=s.headers,this.shouldWriteHeaders=s.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),s.transform&&(this.rowTransform=s.transform)}static isRowHashArray(s){return!!Array.isArray(s)&&Array.isArray(s[0])&&s[0].length===2}static isRowArray(s){return Array.isArray(s)&&!this.isRowHashArray(s)}static gatherHeaders(s){return r.isRowHashArray(s)?s.map(o=>o[0]):Array.isArray(s)?s:Object.keys(s)}static createTransform(s){return e.isSyncTransform(s)?(o,d)=>{let f=null;try{f=s(o)}catch(u){return d(u)}return d(null,f)}:(o,d)=>{s(o,d)}}set rowTransform(s){if(!i.default(s))throw new TypeError("The transform should be a function");this._rowTransform=r.createTransform(s)}format(s,o){this.callTransformer(s,(d,f)=>{if(d)return o(d);if(!s)return o(null);const u=[];if(f){const{shouldFormatColumns:g,headers:p}=this.checkHeaders(f);if(this.shouldWriteHeaders&&p&&!this.hasWrittenHeaders&&(u.push(this.formatColumns(p,!0)),this.hasWrittenHeaders=!0),g){const x=this.gatherColumns(f);u.push(this.formatColumns(x,!1))}}return o(null,u)})}finish(s){const o=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return s(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));o.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&o.push(this.formatterOptions.rowDelimiter),s(null,o)}checkHeaders(s){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const o=r.gatherHeaders(s);return this.headers=o,this.fieldFormatter.headers=o,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(o,s),headers:o}:{shouldFormatColumns:!0,headers:null}}gatherColumns(s){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(s)?r.isRowHashArray(s)?this.headers.map((o,d)=>{const f=s[d];return f?f[1]:""}):r.isRowArray(s)&&!this.shouldWriteHeaders?s:this.headers.map((o,d)=>s[d]):this.headers.map(o=>s[o])}callTransformer(s,o){return this._rowTransform?this._rowTransform(s,o):o(null,s)}formatColumns(s,o){const d=s.map((u,g)=>this.fieldFormatter.format(u,g,o)).join(this.formatterOptions.delimiter),{rowCount:f}=this;return this.rowCount+=1,f?[this.formatterOptions.rowDelimiter,d].join(""):d}}m.RowFormatter=r},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.FieldFormatter=m.RowFormatter=void 0;var l=t("./RowFormatter");Object.defineProperty(m,"RowFormatter",{enumerable:!0,get:function(){return l.RowFormatter}});var i=t("./FieldFormatter");Object.defineProperty(m,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,h,m){(function(l){(function(){var i=Object.create?function(g,p,x,S){S===void 0&&(S=x),Object.defineProperty(g,S,{enumerable:!0,get:function(){return p[x]}})}:function(g,p,x,S){S===void 0&&(S=x),g[S]=p[x]},a=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},n=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var x in g)x!=="default"&&Object.prototype.hasOwnProperty.call(g,x)&&i(p,g,x);return a(p,g),p},e=function(g,p){for(var x in g)x==="default"||Object.prototype.hasOwnProperty.call(p,x)||i(p,g,x)};Object.defineProperty(m,"__esModule",{value:!0}),m.writeToPath=m.writeToString=m.writeToBuffer=m.writeToStream=m.write=m.format=m.FormatterOptions=m.CsvFormatterStream=void 0;const r=t("util"),c=t("stream"),s=n(t("fs")),o=t("./FormatterOptions"),d=t("./CsvFormatterStream");e(t("./types"),m);var f=t("./CsvFormatterStream");Object.defineProperty(m,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}});var u=t("./FormatterOptions");Object.defineProperty(m,"FormatterOptions",{enumerable:!0,get:function(){return u.FormatterOptions}}),m.format=g=>new d.CsvFormatterStream(new o.FormatterOptions(g)),m.write=(g,p)=>{const x=m.format(p),S=r.promisify((M,R)=>{x.write(M,void 0,R)});return g.reduce((M,R)=>M.then(()=>S(R)),Promise.resolve()).then(()=>x.end()).catch(M=>{x.emit("error",M)}),x},m.writeToStream=(g,p,x)=>m.write(p,x).pipe(g),m.writeToBuffer=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],S=new c.Writable({write(M,R,B){x.push(M),B()}});return new Promise((M,R)=>{S.on("error",R).on("finish",()=>M(l.concat(x))),m.write(g,p).pipe(S)})},m.writeToString=(g,p)=>m.writeToBuffer(g,p).then(x=>x.toString()),m.writeToPath=(g,p,x)=>{const S=s.createWriteStream(g,{encoding:"utf8"});return m.write(p,x).pipe(S)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.isSyncTransform=void 0,m.isSyncTransform=l=>l.length===1},{}],153:[function(t,h,m){(function(l){(function(){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvParserStream=void 0;const i=t("string_decoder"),a=t("stream"),n=t("./transforms"),e=t("./parser");class r extends a.Transform{constructor(s){super({objectMode:s.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=s,this.parser=new e.Parser(s),this.headerTransformer=new n.HeaderTransformer(s),this.decoder=new i.StringDecoder(s.encoding),this.rowTransformerValidator=new n.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(s){return this.rowTransformerValidator.rowTransform=s,this}validate(s){return this.rowTransformerValidator.rowValidator=s,this}emit(s){if(s==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var o=arguments.length,d=new Array(o>1?o-1:0),f=1;f<o;f++)d[f-1]=arguments[f];return super.emit(s,...d)}_transform(s,o,d){if(this.hasHitRowLimit)return d();const f=r.wrapDoneCallback(d);try{const{lines:u}=this,g=u+this.decoder.write(s),p=this.parse(g,!0);return this.processRows(p,f)}catch(u){return f(u)}}_flush(s){const o=r.wrapDoneCallback(s);if(this.hasHitRowLimit)return o();try{const d=this.lines+this.decoder.end(),f=this.parse(d,!1);return this.processRows(f,o)}catch(d){return o(d)}}parse(s,o){if(!s)return[];const{line:d,rows:f}=this.parser.parse(s,o);return this.lines=d,f}processRows(s,o){const d=s.length,f=u=>{const g=S=>S?o(S):u%100!=0?f(u+1):void l(()=>f(u+1));if(this.checkAndEmitHeaders(),u>=d||this.hasHitRowLimit)return o();if(this.parsedLineCount+=1,this.shouldSkipLine)return g();const p=s[u];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(p,(S,M)=>{if(S)return this.rowCount-=1,g(S);if(!M)return g(new Error("expected transform result"));if(M.isValid){if(M.row)return this.pushRow(M.row,g)}else this.emit("data-invalid",M.row,x,M.reason);return g()})};f(0)}transformRow(s,o){try{this.headerTransformer.transform(s,(d,f)=>d?o(d):f?f.isValid?f.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(f.row,o):this.skipRow(o):(this.rowCount-=1,this.parsedRowCount-=1,o(null,{row:null,isValid:!0})):this.shouldEmitRows?o(null,{isValid:!1,row:s}):this.skipRow(o):o(new Error("Expected result from header transform")))}catch(d){o(d)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(s){return this.rowCount-=1,s(null,{row:null,isValid:!0})}pushRow(s,o){try{this.parserOptions.objectMode?this.push(s):this.push(JSON.stringify(s)),o()}catch(d){o(d)}}static wrapDoneCallback(s){let o=!1;return function(d){if(d){if(o)throw d;return o=!0,void s(d)}for(var f=arguments.length,u=new Array(f>1?f-1:0),g=1;g<f;g++)u[g-1]=arguments[g];s(...u)}}}m.CsvParserStream=r}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,h,m){var l=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(m,"__esModule",{value:!0}),m.ParserOptions=void 0;const i=l(t("lodash.escaperegexp")),a=l(t("lodash.isnil"));m.ParserOptions=class{constructor(n){var e;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,n||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(e=this.escape)!==null&&e!==void 0?e:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,h,m){var l=Object.create?function(f,u,g,p){p===void 0&&(p=g),Object.defineProperty(f,p,{enumerable:!0,get:function(){return u[g]}})}:function(f,u,g,p){p===void 0&&(p=g),f[p]=u[g]},i=Object.create?function(f,u){Object.defineProperty(f,"default",{enumerable:!0,value:u})}:function(f,u){f.default=u},a=function(f){if(f&&f.__esModule)return f;var u={};if(f!=null)for(var g in f)g!=="default"&&Object.prototype.hasOwnProperty.call(f,g)&&l(u,f,g);return i(u,f),u},n=function(f,u){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(u,g)||l(u,f,g)};Object.defineProperty(m,"__esModule",{value:!0}),m.parseString=m.parseFile=m.parseStream=m.parse=m.ParserOptions=m.CsvParserStream=void 0;const e=a(t("fs")),r=t("stream"),c=t("./ParserOptions"),s=t("./CsvParserStream");n(t("./types"),m);var o=t("./CsvParserStream");Object.defineProperty(m,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}});var d=t("./ParserOptions");Object.defineProperty(m,"ParserOptions",{enumerable:!0,get:function(){return d.ParserOptions}}),m.parse=f=>new s.CsvParserStream(new c.ParserOptions(f)),m.parseStream=(f,u)=>f.pipe(new s.CsvParserStream(new c.ParserOptions(u))),m.parseFile=function(f){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.createReadStream(f).pipe(new s.CsvParserStream(new c.ParserOptions(u)))},m.parseString=(f,u)=>{const g=new r.Readable;return g.push(f),g.push(null),g.pipe(new s.CsvParserStream(new c.ParserOptions(u)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Parser=void 0;const l=t("./Scanner"),i=t("./RowParser"),a=t("./Token");class n{constructor(r){this.parserOptions=r,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(r){return r&&r.charCodeAt(0)===65279?r.slice(1):r}parse(r,c){const s=new l.Scanner({line:n.removeBOM(r),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(s):this.parseWithoutComments(s)}parseWithoutComments(r){const c=[];let s=!0;for(;s;)s=this.parseRow(r,c);return{line:r.line,rows:c}}parseWithComments(r){const{parserOptions:c}=this,s=[];for(let o=r.nextCharacterToken;o!==null;o=r.nextCharacterToken)if(a.Token.isTokenComment(o,c)){if(r.advancePastLine()===null)return{line:r.lineFromCursor,rows:s};if(!r.hasMoreCharacters)return{line:r.lineFromCursor,rows:s};r.truncateToCursor()}else if(!this.parseRow(r,s))break;return{line:r.line,rows:s}}parseRow(r,c){if(!r.nextNonSpaceToken)return!1;const s=this.rowParser.parse(r);return s!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(s)||c.push(s),!0)}}m.Parser=n},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.RowParser=void 0;const l=t("./column"),i=t("./Token");m.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new l.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:n}=this,{hasMoreData:e}=a,r=a,c=[];let s=this.getStartToken(r,c);for(;s;){if(i.Token.isTokenRowDelimiter(s))return r.advancePastToken(s),!r.hasMoreCharacters&&i.Token.isTokenCarriageReturn(s,n)&&e?null:(r.truncateToCursor(),c);if(!this.shouldSkipColumnParse(r,s,c)){const o=this.columnParser.parse(r);if(o===null)return null;c.push(o)}s=r.nextNonSpaceToken}return e?null:(r.truncateToCursor(),c)}getStartToken(a,n){const e=a.nextNonSpaceToken;return e!==null&&i.Token.isTokenDelimiter(e,this.parserOptions)?(n.push(""),a.nextNonSpaceToken):e}shouldSkipColumnParse(a,n,e){const{parserOptions:r}=this;if(i.Token.isTokenDelimiter(n,r)){a.advancePastToken(n);const c=a.nextCharacterToken;if(!a.hasMoreCharacters||c!==null&&i.Token.isTokenRowDelimiter(c)||c!==null&&i.Token.isTokenDelimiter(c,r))return e.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Scanner=void 0;const l=t("./Token"),i=/((?:\r\n)|\n|\r)/;m.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,n=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(n)===-1)return null;const e=n.exec(a);if(e==null)return null;const r=e[1],c=this.cursor+(e.index||0);return new l.Token({token:r,startCursor:c,endCursor:c+r.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:n}=this;return n<=a?null:new l.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=i.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Token=void 0,m.Token=class{constructor(l){this.token=l.token,this.startCursor=l.startCursor,this.endCursor=l.endCursor}static isTokenRowDelimiter(l){const i=l.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(l,i){return l.token===i.carriageReturn}static isTokenComment(l,i){return i.supportsComments&&!!l&&l.token===i.comment}static isTokenEscapeCharacter(l,i){return l.token===i.escapeChar}static isTokenQuote(l,i){return l.token===i.quote}static isTokenDelimiter(l,i){return l.token===i.delimiter}}},{}],160:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnFormatter=void 0,m.ColumnFormatter=class{constructor(l){l.trim?this.format=i=>i.trim():l.ltrim?this.format=i=>i.trimLeft():l.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnParser=void 0;const l=t("./NonQuotedColumnParser"),i=t("./QuotedColumnParser"),a=t("../Token");m.ColumnParser=class{constructor(n){this.parserOptions=n,this.quotedColumnParser=new i.QuotedColumnParser(n),this.nonQuotedColumnParser=new l.NonQuotedColumnParser(n)}parse(n){const{nextNonSpaceToken:e}=n;return e!==null&&a.Token.isTokenQuote(e,this.parserOptions)?(n.advanceToToken(e),this.quotedColumnParser.parse(n)):this.nonQuotedColumnParser.parse(n)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.NonQuotedColumnParser=void 0;const l=t("./ColumnFormatter"),i=t("../Token");m.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new l.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:n}=this,e=[];let r=a.nextCharacterToken;for(;r&&!i.Token.isTokenDelimiter(r,n)&&!i.Token.isTokenRowDelimiter(r);r=a.nextCharacterToken)e.push(r.token),a.advancePastToken(r);return this.columnFormatter.format(e.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.QuotedColumnParser=void 0;const l=t("./ColumnFormatter"),i=t("../Token");m.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new l.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const n=a.cursor,{foundClosingQuote:e,col:r}=this.gatherDataBetweenQuotes(a);if(!e){if(a.advanceTo(n),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),r}gatherDataBetweenQuotes(a){const{parserOptions:n}=this;let e=!1,r=!1;const c=[];let s=a.nextCharacterToken;for(;!r&&s!==null;s=a.nextCharacterToken){const o=i.Token.isTokenQuote(s,n);if(!e&&o)e=!0;else if(e)if(i.Token.isTokenEscapeCharacter(s,n)){a.advancePastToken(s);const d=a.nextCharacterToken;d!==null&&(i.Token.isTokenQuote(d,n)||i.Token.isTokenEscapeCharacter(d,n))?(c.push(d.token),s=d):o?r=!0:c.push(s.token)}else o?r=!0:c.push(s.token);a.advancePastToken(s)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:r}}checkForMalformedColumn(a){const{parserOptions:n}=this,{nextNonSpaceToken:e}=a;if(e){const r=i.Token.isTokenDelimiter(e,n),c=i.Token.isTokenRowDelimiter(e);if(!r&&!c){const s=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${n.escapedDelimiter}' OR new line got: '${e.token}'. at '${s}`)}a.advanceToToken(e)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnFormatter=m.QuotedColumnParser=m.NonQuotedColumnParser=m.ColumnParser=void 0;var l=t("./ColumnParser");Object.defineProperty(m,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}});var i=t("./NonQuotedColumnParser");Object.defineProperty(m,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var a=t("./QuotedColumnParser");Object.defineProperty(m,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var n=t("./ColumnFormatter");Object.defineProperty(m,"ColumnFormatter",{enumerable:!0,get:function(){return n.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.QuotedColumnParser=m.NonQuotedColumnParser=m.ColumnParser=m.Token=m.Scanner=m.RowParser=m.Parser=void 0;var l=t("./Parser");Object.defineProperty(m,"Parser",{enumerable:!0,get:function(){return l.Parser}});var i=t("./RowParser");Object.defineProperty(m,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var a=t("./Scanner");Object.defineProperty(m,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var n=t("./Token");Object.defineProperty(m,"Token",{enumerable:!0,get:function(){return n.Token}});var e=t("./column");Object.defineProperty(m,"ColumnParser",{enumerable:!0,get:function(){return e.ColumnParser}}),Object.defineProperty(m,"NonQuotedColumnParser",{enumerable:!0,get:function(){return e.NonQuotedColumnParser}}),Object.defineProperty(m,"QuotedColumnParser",{enumerable:!0,get:function(){return e.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,h,m){var l=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(m,"__esModule",{value:!0}),m.HeaderTransformer=void 0;const i=l(t("lodash.isundefined")),a=l(t("lodash.isfunction")),n=l(t("lodash.uniq")),e=l(t("lodash.groupby"));m.HeaderTransformer=class{constructor(r){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=r,r.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(r.headers)?this.setHeaders(r.headers):a.default(r.headers)&&(this.headersTransform=r.headers)}transform(r,c){return this.shouldMapRow(r)?c(null,this.processRow(r)):c(null,{row:null,isValid:!0})}shouldMapRow(r){const{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(r)){if(this.headersTransform)this.setHeaders(this.headersTransform(r));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(r)}return!1}return!0}processRow(r){if(!this.headers)return{row:r,isValid:!0};const{parserOptions:c}=this;if(!c.discardUnmappedColumns&&r.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${r.length}`);return{row:r,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${r.length}`}}return c.strictColumnHandling&&r.length<this.headersLength?{row:r,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${r.length}`}:{row:this.mapHeaders(r),isValid:!0}}mapHeaders(r){const c={},{headers:s,headersLength:o}=this;for(let d=0;d<o;d+=1){const f=s[d];if(!i.default(f)){const u=r[d];i.default(u)?c[f]="":c[f]=u}}return c}setHeaders(r){var c;const s=r.filter(o=>!!o);if(n.default(s).length!==s.length){const o=e.default(s),d=Object.keys(o).filter(f=>o[f].length>1);throw new Error("Duplicate headers found "+JSON.stringify(d))}this.headers=r,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,h,m){var l=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m,"__esModule",{value:!0}),m.RowTransformerValidator=void 0;const i=l(t("lodash.isfunction")),a=t("../types");class n{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(r){return a.isSyncTransform(r)?(c,s)=>{let o=null;try{o=r(c)}catch(d){return s(d)}return s(null,o)}:r}static createValidator(r){return a.isSyncValidate(r)?(c,s)=>{s(null,{row:c,isValid:r(c)})}:(c,s)=>{r(c,(o,d,f)=>o?s(o):s(null,d?{row:c,isValid:d,reason:f}:{row:c,isValid:!1,reason:f}))}}set rowTransform(r){if(!i.default(r))throw new TypeError("The transform should be a function");this._rowTransform=n.createTransform(r)}set rowValidator(r){if(!i.default(r))throw new TypeError("The validate should be a function");this._rowValidator=n.createValidator(r)}transformAndValidate(r,c){return this.callTransformer(r,(s,o)=>s?c(s):o?this.callValidator(o,(d,f)=>d?c(d):f&&!f.isValid?c(null,{row:o,isValid:!1,reason:f.reason}):c(null,{row:o,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(r,c){return this._rowTransform?this._rowTransform(r,c):c(null,r)}callValidator(r,c){return this._rowValidator?this._rowValidator(r,c):c(null,{row:r,isValid:!0})}}m.RowTransformerValidator=n},{"../types":169,"lodash.isfunction":446}],168:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.HeaderTransformer=m.RowTransformerValidator=void 0;var l=t("./RowTransformerValidator");Object.defineProperty(m,"RowTransformerValidator",{enumerable:!0,get:function(){return l.RowTransformerValidator}});var i=t("./HeaderTransformer");Object.defineProperty(m,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.isSyncValidate=m.isSyncTransform=void 0,m.isSyncTransform=l=>l.length===1,m.isSyncValidate=l=>l.length===1},{}],170:[function(t,h,m){const l=m;l.bignum=t("bn.js"),l.define=t("./asn1/api").define,l.base=t("./asn1/base"),l.constants=t("./asn1/constants"),l.decoders=t("./asn1/decoders"),l.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,h,m){const l=t("./encoders"),i=t("./decoders"),a=t("inherits");function n(e,r){this.name=e,this.body=r,this.decoders={},this.encoders={}}m.define=function(e,r){return new n(e,r)},n.prototype._createNamed=function(e){const r=this.name;function c(s){this._initNamed(s,r)}return a(c,e),c.prototype._initNamed=function(s,o){e.call(this,s,o)},new c(this)},n.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},n.prototype.decode=function(e,r,c){return this._getDecoder(r).decode(e,c)},n.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(l[e])),this.encoders[e]},n.prototype.encode=function(e,r,c){return this._getEncoder(r).encode(e,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,h,m){const l=t("inherits"),i=t("../base/reporter").Reporter,a=t("safer-buffer").Buffer;function n(r,c){i.call(this,c),a.isBuffer(r)?(this.base=r,this.offset=0,this.length=r.length):this.error("Input not Buffer")}function e(r,c){if(Array.isArray(r))this.length=0,this.value=r.map(function(s){return e.isEncoderBuffer(s)||(s=new e(s,c)),this.length+=s.length,s},this);else if(typeof r=="number"){if(!(0<=r&&r<=255))return c.error("non-byte EncoderBuffer value");this.value=r,this.length=1}else if(typeof r=="string")this.value=r,this.length=a.byteLength(r);else{if(!a.isBuffer(r))return c.error("Unsupported type: "+typeof r);this.value=r,this.length=r.length}}l(n,i),m.DecoderBuffer=n,n.isDecoderBuffer=function(r){return r instanceof n?!0:typeof r=="object"&&a.isBuffer(r.base)&&r.constructor.name==="DecoderBuffer"&&typeof r.offset=="number"&&typeof r.length=="number"&&typeof r.save=="function"&&typeof r.restore=="function"&&typeof r.isEmpty=="function"&&typeof r.readUInt8=="function"&&typeof r.skip=="function"&&typeof r.raw=="function"},n.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},n.prototype.restore=function(r){const c=new n(this.base);return c.offset=r.offset,c.length=this.offset,this.offset=r.offset,i.prototype.restore.call(this,r.reporter),c},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(r){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(r||"DecoderBuffer overrun")},n.prototype.skip=function(r,c){if(!(this.offset+r<=this.length))return this.error(c||"DecoderBuffer overrun");const s=new n(this.base);return s._reporterState=this._reporterState,s.offset=this.offset,s.length=this.offset+r,this.offset+=r,s},n.prototype.raw=function(r){return this.base.slice(r?r.offset:this.offset,this.length)},m.EncoderBuffer=e,e.isEncoderBuffer=function(r){return r instanceof e?!0:typeof r=="object"&&r.constructor.name==="EncoderBuffer"&&typeof r.length=="number"&&typeof r.join=="function"},e.prototype.join=function(r,c){return r||(r=a.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(s){s.join(r,c),c+=s.length}):(typeof this.value=="number"?r[c]=this.value:typeof this.value=="string"?r.write(this.value,c):a.isBuffer(this.value)&&this.value.copy(r,c),c+=this.length)),r}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,h,m){const l=m;l.Reporter=t("./reporter").Reporter,l.DecoderBuffer=t("./buffer").DecoderBuffer,l.EncoderBuffer=t("./buffer").EncoderBuffer,l.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,h,m){const l=t("../base/reporter").Reporter,i=t("../base/buffer").EncoderBuffer,a=t("../base/buffer").DecoderBuffer,n=t("minimalistic-assert"),e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],r=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(e);function c(o,d,f){const u={};this._baseState=u,u.name=f,u.enc=o,u.parent=d||null,u.children=null,u.tag=null,u.args=null,u.reverseArgs=null,u.choice=null,u.optional=!1,u.any=!1,u.obj=!1,u.use=null,u.useDecoder=null,u.key=null,u.default=null,u.explicit=null,u.implicit=null,u.contains=null,u.parent||(u.children=[],this._wrap())}h.exports=c;const s=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const o=this._baseState,d={};s.forEach(function(u){d[u]=o[u]});const f=new this.constructor(d.parent);return f._baseState=d,f},c.prototype._wrap=function(){const o=this._baseState;r.forEach(function(d){this[d]=function(){const f=new this.constructor(this);return o.children.push(f),f[d].apply(f,arguments)}},this)},c.prototype._init=function(o){const d=this._baseState;n(d.parent===null),o.call(this),d.children=d.children.filter(function(f){return f._baseState.parent===this},this),n.equal(d.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(o){const d=this._baseState,f=o.filter(function(u){return u instanceof this.constructor},this);o=o.filter(function(u){return!(u instanceof this.constructor)},this),f.length!==0&&(n(d.children===null),d.children=f,f.forEach(function(u){u._baseState.parent=this},this)),o.length!==0&&(n(d.args===null),d.args=o,d.reverseArgs=o.map(function(u){if(typeof u!="object"||u.constructor!==Object)return u;const g={};return Object.keys(u).forEach(function(p){p==(0|p)&&(p|=0);const x=u[p];g[x]=p}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(o){c.prototype[o]=function(){const d=this._baseState;throw new Error(o+" not implemented for encoding: "+d.enc)}}),e.forEach(function(o){c.prototype[o]=function(){const d=this._baseState,f=Array.prototype.slice.call(arguments);return n(d.tag===null),d.tag=o,this._useArgs(f),this}}),c.prototype.use=function(o){n(o);const d=this._baseState;return n(d.use===null),d.use=o,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(o){const d=this._baseState;return n(d.default===null),d.default=o,d.optional=!0,this},c.prototype.explicit=function(o){const d=this._baseState;return n(d.explicit===null&&d.implicit===null),d.explicit=o,this},c.prototype.implicit=function(o){const d=this._baseState;return n(d.explicit===null&&d.implicit===null),d.implicit=o,this},c.prototype.obj=function(){const o=this._baseState,d=Array.prototype.slice.call(arguments);return o.obj=!0,d.length!==0&&this._useArgs(d),this},c.prototype.key=function(o){const d=this._baseState;return n(d.key===null),d.key=o,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(o){const d=this._baseState;return n(d.choice===null),d.choice=o,this._useArgs(Object.keys(o).map(function(f){return o[f]})),this},c.prototype.contains=function(o){const d=this._baseState;return n(d.use===null),d.contains=o,this},c.prototype._decode=function(o,d){const f=this._baseState;if(f.parent===null)return o.wrapResult(f.children[0]._decode(o,d));let u,g=f.default,p=!0,x=null;if(f.key!==null&&(x=o.enterKey(f.key)),f.optional){let S=null;if(f.explicit!==null?S=f.explicit:f.implicit!==null?S=f.implicit:f.tag!==null&&(S=f.tag),S!==null||f.any){if(p=this._peekTag(o,S,f.any),o.isError(p))return p}else{const M=o.save();try{f.choice===null?this._decodeGeneric(f.tag,o,d):this._decodeChoice(o,d),p=!0}catch{p=!1}o.restore(M)}}if(f.obj&&p&&(u=o.enterObject()),p){if(f.explicit!==null){const M=this._decodeTag(o,f.explicit);if(o.isError(M))return M;o=M}const S=o.offset;if(f.use===null&&f.choice===null){let M;f.any&&(M=o.save());const R=this._decodeTag(o,f.implicit!==null?f.implicit:f.tag,f.any);if(o.isError(R))return R;f.any?g=o.raw(M):o=R}if(d&&d.track&&f.tag!==null&&d.track(o.path(),S,o.length,"tagged"),d&&d.track&&f.tag!==null&&d.track(o.path(),o.offset,o.length,"content"),f.any||(g=f.choice===null?this._decodeGeneric(f.tag,o,d):this._decodeChoice(o,d)),o.isError(g))return g;if(f.any||f.choice!==null||f.children===null||f.children.forEach(function(M){M._decode(o,d)}),f.contains&&(f.tag==="octstr"||f.tag==="bitstr")){const M=new a(g);g=this._getUse(f.contains,o._reporterState.obj)._decode(M,d)}}return f.obj&&p&&(g=o.leaveObject(u)),f.key===null||g===null&&p!==!0?x!==null&&o.exitKey(x):o.leaveKey(x,f.key,g),g},c.prototype._decodeGeneric=function(o,d,f){const u=this._baseState;return o==="seq"||o==="set"?null:o==="seqof"||o==="setof"?this._decodeList(d,o,u.args[0],f):/str$/.test(o)?this._decodeStr(d,o,f):o==="objid"&&u.args?this._decodeObjid(d,u.args[0],u.args[1],f):o==="objid"?this._decodeObjid(d,null,null,f):o==="gentime"||o==="utctime"?this._decodeTime(d,o,f):o==="null_"?this._decodeNull(d,f):o==="bool"?this._decodeBool(d,f):o==="objDesc"?this._decodeStr(d,o,f):o==="int"||o==="enum"?this._decodeInt(d,u.args&&u.args[0],f):u.use!==null?this._getUse(u.use,d._reporterState.obj)._decode(d,f):d.error("unknown tag: "+o)},c.prototype._getUse=function(o,d){const f=this._baseState;return f.useDecoder=this._use(o,d),n(f.useDecoder._baseState.parent===null),f.useDecoder=f.useDecoder._baseState.children[0],f.implicit!==f.useDecoder._baseState.implicit&&(f.useDecoder=f.useDecoder.clone(),f.useDecoder._baseState.implicit=f.implicit),f.useDecoder},c.prototype._decodeChoice=function(o,d){const f=this._baseState;let u=null,g=!1;return Object.keys(f.choice).some(function(p){const x=o.save(),S=f.choice[p];try{const M=S._decode(o,d);if(o.isError(M))return!1;u={type:p,value:M},g=!0}catch{return o.restore(x),!1}return!0},this),g?u:o.error("Choice not matched")},c.prototype._createEncoderBuffer=function(o){return new i(o,this.reporter)},c.prototype._encode=function(o,d,f){const u=this._baseState;if(u.default!==null&&u.default===o)return;const g=this._encodeValue(o,d,f);return g===void 0||this._skipDefault(g,d,f)?void 0:g},c.prototype._encodeValue=function(o,d,f){const u=this._baseState;if(u.parent===null)return u.children[0]._encode(o,d||new l);let g=null;if(this.reporter=d,u.optional&&o===void 0){if(u.default===null)return;o=u.default}let p=null,x=!1;if(u.any)g=this._createEncoderBuffer(o);else if(u.choice)g=this._encodeChoice(o,d);else if(u.contains)p=this._getUse(u.contains,f)._encode(o,d),x=!0;else if(u.children)p=u.children.map(function(S){if(S._baseState.tag==="null_")return S._encode(null,d,o);if(S._baseState.key===null)return d.error("Child should have a key");const M=d.enterKey(S._baseState.key);if(typeof o!="object")return d.error("Child expected, but input is not object");const R=S._encode(o[S._baseState.key],d,o);return d.leaveKey(M),R},this).filter(function(S){return S}),p=this._createEncoderBuffer(p);else if(u.tag==="seqof"||u.tag==="setof"){if(!u.args||u.args.length!==1)return d.error("Too many args for : "+u.tag);if(!Array.isArray(o))return d.error("seqof/setof, but data is not Array");const S=this.clone();S._baseState.implicit=null,p=this._createEncoderBuffer(o.map(function(M){const R=this._baseState;return this._getUse(R.args[0],o)._encode(M,d)},S))}else u.use!==null?g=this._getUse(u.use,f)._encode(o,d):(p=this._encodePrimitive(u.tag,o),x=!0);if(!u.any&&u.choice===null){const S=u.implicit!==null?u.implicit:u.tag,M=u.implicit===null?"universal":"context";S===null?u.use===null&&d.error("Tag could be omitted only for .use()"):u.use===null&&(g=this._encodeComposite(S,x,M,p))}return u.explicit!==null&&(g=this._encodeComposite(u.explicit,!1,"context",g)),g},c.prototype._encodeChoice=function(o,d){const f=this._baseState,u=f.choice[o.type];return u||n(!1,o.type+" not found in "+JSON.stringify(Object.keys(f.choice))),u._encode(o.value,d)},c.prototype._encodePrimitive=function(o,d){const f=this._baseState;if(/str$/.test(o))return this._encodeStr(d,o);if(o==="objid"&&f.args)return this._encodeObjid(d,f.reverseArgs[0],f.args[1]);if(o==="objid")return this._encodeObjid(d,null,null);if(o==="gentime"||o==="utctime")return this._encodeTime(d,o);if(o==="null_")return this._encodeNull();if(o==="int"||o==="enum")return this._encodeInt(d,f.args&&f.reverseArgs[0]);if(o==="bool")return this._encodeBool(d);if(o==="objDesc")return this._encodeStr(d,o);throw new Error("Unsupported tag: "+o)},c.prototype._isNumstr=function(o){return/^[0-9 ]*$/.test(o)},c.prototype._isPrintstr=function(o){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(o)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,h,m){const l=t("inherits");function i(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}function a(n,e){this.path=n,this.rethrow(e)}m.Reporter=i,i.prototype.isError=function(n){return n instanceof a},i.prototype.save=function(){const n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},i.prototype.restore=function(n){const e=this._reporterState;e.obj=n.obj,e.path=e.path.slice(0,n.pathLen)},i.prototype.enterKey=function(n){return this._reporterState.path.push(n)},i.prototype.exitKey=function(n){const e=this._reporterState;e.path=e.path.slice(0,n-1)},i.prototype.leaveKey=function(n,e,r){const c=this._reporterState;this.exitKey(n),c.obj!==null&&(c.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const n=this._reporterState,e=n.obj;return n.obj={},e},i.prototype.leaveObject=function(n){const e=this._reporterState,r=e.obj;return e.obj=n,r},i.prototype.error=function(n){let e;const r=this._reporterState,c=n instanceof a;if(e=c?n:new a(r.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),n.message||n,n.stack),!r.options.partial)throw e;return c||r.errors.push(e),e},i.prototype.wrapResult=function(n){const e=this._reporterState;return e.options.partial?{result:this.isError(n)?null:n,errors:e.errors}:n},l(a,Error),a.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:440}],176:[function(t,h,m){function l(i){const a={};return Object.keys(i).forEach(function(n){(0|n)==n&&(n|=0);const e=i[n];a[e]=n}),a}m.tagClass={0:"universal",1:"application",2:"context",3:"private"},m.tagClassByName=l(m.tagClass),m.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},m.tagByName=l(m.tag)},{}],177:[function(t,h,m){const l=m;l._reverse=function(i){const a={};return Object.keys(i).forEach(function(n){(0|n)==n&&(n|=0);const e=i[n];a[e]=n}),a},l.der=t("./der")},{"./der":176}],178:[function(t,h,m){const l=t("inherits"),i=t("bn.js"),a=t("../base/buffer").DecoderBuffer,n=t("../base/node"),e=t("../constants/der");function r(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new c,this.tree._init(d.body)}function c(d){n.call(this,"der",d)}function s(d,f){let u=d.readUInt8(f);if(d.isError(u))return u;const g=e.tagClass[u>>6],p=(32&u)==0;if((31&u)==31){let x=u;for(u=0;(128&x)==128;){if(x=d.readUInt8(f),d.isError(x))return x;u<<=7,u|=127&x}}else u&=31;return{cls:g,primitive:p,tag:u,tagStr:e.tag[u]}}function o(d,f,u){let g=d.readUInt8(u);if(d.isError(g))return g;if(!f&&g===128)return null;if(!(128&g))return g;const p=127&g;if(p>4)return d.error("length octect is too long");g=0;for(let x=0;x<p;x++){g<<=8;const S=d.readUInt8(u);if(d.isError(S))return S;g|=S}return g}h.exports=r,r.prototype.decode=function(d,f){return a.isDecoderBuffer(d)||(d=new a(d,f)),this.tree._decode(d,f)},l(c,n),c.prototype._peekTag=function(d,f,u){if(d.isEmpty())return!1;const g=d.save(),p=s(d,'Failed to peek tag: "'+f+'"');return d.isError(p)?p:(d.restore(g),p.tag===f||p.tagStr===f||p.tagStr+"of"===f||u)},c.prototype._decodeTag=function(d,f,u){const g=s(d,'Failed to decode tag of "'+f+'"');if(d.isError(g))return g;let p=o(d,g.primitive,'Failed to get length of "'+f+'"');if(d.isError(p))return p;if(!u&&g.tag!==f&&g.tagStr!==f&&g.tagStr+"of"!==f)return d.error('Failed to match tag: "'+f+'"');if(g.primitive||p!==null)return d.skip(p,'Failed to match body of: "'+f+'"');const x=d.save(),S=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(S)?S:(p=d.offset-x.offset,d.restore(x),d.skip(p,'Failed to match body of: "'+f+'"'))},c.prototype._skipUntilEnd=function(d,f){for(;;){const u=s(d,f);if(d.isError(u))return u;const g=o(d,u.primitive,f);if(d.isError(g))return g;let p;if(p=u.primitive||g!==null?d.skip(g):this._skipUntilEnd(d,f),d.isError(p))return p;if(u.tagStr==="end")break}},c.prototype._decodeList=function(d,f,u,g){const p=[];for(;!d.isEmpty();){const x=this._peekTag(d,"end");if(d.isError(x))return x;const S=u.decode(d,"der",g);if(d.isError(S)&&x)break;p.push(S)}return p},c.prototype._decodeStr=function(d,f){if(f==="bitstr"){const u=d.readUInt8();return d.isError(u)?u:{unused:u,data:d.raw()}}if(f==="bmpstr"){const u=d.raw();if(u.length%2==1)return d.error("Decoding of string type: bmpstr length mismatch");let g="";for(let p=0;p<u.length/2;p++)g+=String.fromCharCode(u.readUInt16BE(2*p));return g}if(f==="numstr"){const u=d.raw().toString("ascii");return this._isNumstr(u)?u:d.error("Decoding of string type: numstr unsupported characters")}if(f==="octstr"||f==="objDesc")return d.raw();if(f==="printstr"){const u=d.raw().toString("ascii");return this._isPrintstr(u)?u:d.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(f)?d.raw().toString():d.error("Decoding of string type: "+f+" unsupported")},c.prototype._decodeObjid=function(d,f,u){let g;const p=[];let x=0,S=0;for(;!d.isEmpty();)S=d.readUInt8(),x<<=7,x|=127&S,!(128&S)&&(p.push(x),x=0);128&S&&p.push(x);const M=p[0]/40|0,R=p[0]%40;if(g=u?p:[M,R].concat(p.slice(1)),f){let B=f[g.join(" ")];B===void 0&&(B=f[g.join(".")]),B!==void 0&&(g=B)}return g},c.prototype._decodeTime=function(d,f){const u=d.raw().toString();let g,p,x,S,M,R;if(f==="gentime")g=0|u.slice(0,4),p=0|u.slice(4,6),x=0|u.slice(6,8),S=0|u.slice(8,10),M=0|u.slice(10,12),R=0|u.slice(12,14);else{if(f!=="utctime")return d.error("Decoding "+f+" time is not supported yet");g=0|u.slice(0,2),p=0|u.slice(2,4),x=0|u.slice(4,6),S=0|u.slice(6,8),M=0|u.slice(8,10),R=0|u.slice(10,12),g=g<70?2e3+g:1900+g}return Date.UTC(g,p-1,x,S,M,R,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(d){const f=d.readUInt8();return d.isError(f)?f:f!==0},c.prototype._decodeInt=function(d,f){const u=d.raw();let g=new i(u);return f&&(g=f[g.toString(10)]||g),g},c.prototype._use=function(d,f){return typeof d=="function"&&(d=d(f)),d._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,h,m){const l=m;l.der=t("./der"),l.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,h,m){const l=t("inherits"),i=t("safer-buffer").Buffer,a=t("./der");function n(e){a.call(this,e),this.enc="pem"}l(n,a),h.exports=n,n.prototype.decode=function(e,r){const c=e.toString().split(/[\r\n]+/g),s=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let d=-1,f=-1;for(let p=0;p<c.length;p++){const x=c[p].match(o);if(x!==null&&x[2]===s){if(d!==-1){if(x[1]!=="END")break;f=p;break}if(x[1]!=="BEGIN")break;d=p}}if(d===-1||f===-1)throw new Error("PEM section not found for: "+s);const u=c.slice(d+1,f).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const g=i.from(u,"base64");return a.prototype.decode.call(this,g,r)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,h,m){const l=t("inherits"),i=t("safer-buffer").Buffer,a=t("../base/node"),n=t("../constants/der");function e(s){this.enc="der",this.name=s.name,this.entity=s,this.tree=new r,this.tree._init(s.body)}function r(s){a.call(this,"der",s)}function c(s){return s<10?"0"+s:s}h.exports=e,e.prototype.encode=function(s,o){return this.tree._encode(s,o).join()},l(r,a),r.prototype._encodeComposite=function(s,o,d,f){const u=function(x,S,M,R){let B;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),n.tagByName.hasOwnProperty(x))B=n.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return R.error("Unknown tag: "+x);B=x}return B>=31?R.error("Multi-octet tag encoding unsupported"):(S||(B|=32),B|=n.tagClassByName[M||"universal"]<<6,B)}(s,o,d,this.reporter);if(f.length<128){const x=i.alloc(2);return x[0]=u,x[1]=f.length,this._createEncoderBuffer([x,f])}let g=1;for(let x=f.length;x>=256;x>>=8)g++;const p=i.alloc(2+g);p[0]=u,p[1]=128|g;for(let x=1+g,S=f.length;S>0;x--,S>>=8)p[x]=255&S;return this._createEncoderBuffer([p,f])},r.prototype._encodeStr=function(s,o){if(o==="bitstr")return this._createEncoderBuffer([0|s.unused,s.data]);if(o==="bmpstr"){const d=i.alloc(2*s.length);for(let f=0;f<s.length;f++)d.writeUInt16BE(s.charCodeAt(f),2*f);return this._createEncoderBuffer(d)}return o==="numstr"?this._isNumstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: numstr supports only digits and space"):o==="printstr"?this._isPrintstr(s)?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(o)||o==="objDesc"?this._createEncoderBuffer(s):this.reporter.error("Encoding of string type: "+o+" unsupported")},r.prototype._encodeObjid=function(s,o,d){if(typeof s=="string"){if(!o)return this.reporter.error("string objid given, but no values map found");if(!o.hasOwnProperty(s))return this.reporter.error("objid not found in values map");s=o[s].split(/[\s.]+/g);for(let p=0;p<s.length;p++)s[p]|=0}else if(Array.isArray(s)){s=s.slice();for(let p=0;p<s.length;p++)s[p]|=0}if(!Array.isArray(s))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(s));if(!d){if(s[1]>=40)return this.reporter.error("Second objid identifier OOB");s.splice(0,2,40*s[0]+s[1])}let f=0;for(let p=0;p<s.length;p++){let x=s[p];for(f++;x>=128;x>>=7)f++}const u=i.alloc(f);let g=u.length-1;for(let p=s.length-1;p>=0;p--){let x=s[p];for(u[g--]=127&x;(x>>=7)>0;)u[g--]=128|127&x}return this._createEncoderBuffer(u)},r.prototype._encodeTime=function(s,o){let d;const f=new Date(s);return o==="gentime"?d=[c(f.getUTCFullYear()),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):o==="utctime"?d=[c(f.getUTCFullYear()%100),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+o+" time is not supported yet"),this._encodeStr(d,"octstr")},r.prototype._encodeNull=function(){return this._createEncoderBuffer("")},r.prototype._encodeInt=function(s,o){if(typeof s=="string"){if(!o)return this.reporter.error("String int or enum given, but no values map");if(!o.hasOwnProperty(s))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(s));s=o[s]}if(typeof s!="number"&&!i.isBuffer(s)){const u=s.toArray();!s.sign&&128&u[0]&&u.unshift(0),s=i.from(u)}if(i.isBuffer(s)){let u=s.length;s.length===0&&u++;const g=i.alloc(u);return s.copy(g),s.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(s<128)return this._createEncoderBuffer(s);if(s<256)return this._createEncoderBuffer([0,s]);let d=1;for(let u=s;u>=256;u>>=8)d++;const f=new Array(d);for(let u=f.length-1;u>=0;u--)f[u]=255&s,s>>=8;return 128&f[0]&&f.unshift(0),this._createEncoderBuffer(i.from(f))},r.prototype._encodeBool=function(s){return this._createEncoderBuffer(s?255:0)},r.prototype._use=function(s,o){return typeof s=="function"&&(s=s(o)),s._getEncoder("der").tree},r.prototype._skipDefault=function(s,o,d){const f=this._baseState;let u;if(f.default===null)return!1;const g=s.join();if(f.defaultBuffer===void 0&&(f.defaultBuffer=this._encodeValue(f.default,o,d).join()),g.length!==f.defaultBuffer.length)return!1;for(u=0;u<g.length;u++)if(g[u]!==f.defaultBuffer[u])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,h,m){const l=m;l.der=t("./der"),l.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,h,m){const l=t("inherits"),i=t("./der");function a(n){i.call(this,n),this.enc="pem"}l(a,i),h.exports=a,a.prototype.encode=function(n,e){const r=i.prototype.encode.call(this,n).toString("base64"),c=["-----BEGIN "+e.label+"-----"];for(let s=0;s<r.length;s+=64)c.push(r.slice(s,s+64));return c.push("-----END "+e.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,h,m){(function(l,i){function a(C,D){if(!C)throw new Error(D||"Assertion failed")}function n(C,D){C.super_=D;var k=function(){};k.prototype=D.prototype,C.prototype=new k,C.prototype.constructor=C}function e(C,D,k){if(e.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(D!=="le"&&D!=="be"||(k=D,D=10),this._init(C||0,D||10,k||"be"))}var r;typeof l=="object"?l.exports=e:(void 0).BN=e,e.BN=e,e.wordSize=26;try{r=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function c(C,D){var k=C.charCodeAt(D);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function s(C,D,k){var y=c(C,k);return k-1>=D&&(y|=c(C,k-1)<<4),y}function o(C,D,k,y){for(var w=0,v=Math.min(C.length,k),_=D;_<v;_++){var T=C.charCodeAt(_)-48;w*=y,w+=T>=49?T-49+10:T>=17?T-17+10:T}return w}e.isBN=function(C){return C instanceof e||C!==null&&typeof C=="object"&&C.constructor.wordSize===e.wordSize&&Array.isArray(C.words)},e.max=function(C,D){return C.cmp(D)>0?C:D},e.min=function(C,D){return C.cmp(D)<0?C:D},e.prototype._init=function(C,D,k){if(typeof C=="number")return this._initNumber(C,D,k);if(typeof C=="object")return this._initArray(C,D,k);D==="hex"&&(D=16),a(D===(0|D)&&D>=2&&D<=36);var y=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(y++,this.negative=1),y<C.length&&(D===16?this._parseHex(C,y,k):(this._parseBase(C,D,y),k==="le"&&this._initArray(this.toArray(),D,k)))},e.prototype._initNumber=function(C,D,k){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(a(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),D,k)},e.prototype._initArray=function(C,D,k){if(a(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,v,_=0;if(k==="be")for(y=C.length-1,w=0;y>=0;y-=3)v=C[y]|C[y-1]<<8|C[y-2]<<16,this.words[w]|=v<<_&67108863,this.words[w+1]=v>>>26-_&67108863,(_+=24)>=26&&(_-=26,w++);else if(k==="le")for(y=0,w=0;y<C.length;y+=3)v=C[y]|C[y+1]<<8|C[y+2]<<16,this.words[w]|=v<<_&67108863,this.words[w+1]=v>>>26-_&67108863,(_+=24)>=26&&(_-=26,w++);return this.strip()},e.prototype._parseHex=function(C,D,k){this.length=Math.ceil((C.length-D)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,v=0,_=0;if(k==="be")for(y=C.length-1;y>=D;y-=2)w=s(C,D,y)<<v,this.words[_]|=67108863&w,v>=18?(v-=18,_+=1,this.words[_]|=w>>>26):v+=8;else for(y=(C.length-D)%2==0?D+1:D;y<C.length;y+=2)w=s(C,D,y)<<v,this.words[_]|=67108863&w,v>=18?(v-=18,_+=1,this.words[_]|=w>>>26):v+=8;this.strip()},e.prototype._parseBase=function(C,D,k){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=D)y++;y--,w=w/D|0;for(var v=C.length-k,_=v%y,T=Math.min(v,v-_)+k,j=0,O=k;O<T;O+=y)j=o(C,O,O+y,D),this.imuln(w),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(_!==0){var z=1;for(j=o(C,O,C.length,D),O=0;O<_;O++)z*=D;this.imuln(z),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},e.prototype.copy=function(C){C.words=new Array(this.length);for(var D=0;D<this.length;D++)C.words[D]=this.words[D];C.length=this.length,C.negative=this.negative,C.red=this.red},e.prototype.clone=function(){var C=new e(null);return this.copy(C),C},e.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},e.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(C,D,k){k.negative=D.negative^C.negative;var y=C.length+D.length|0;k.length=y,y=y-1|0;var w=0|C.words[0],v=0|D.words[0],_=w*v,T=67108863&_,j=_/67108864|0;k.words[0]=T;for(var O=1;O<y;O++){for(var z=j>>>26,V=67108863&j,q=Math.min(O,D.length-1),P=Math.max(0,O-C.length+1);P<=q;P++){var G=O-P|0;z+=(_=(w=0|C.words[G])*(v=0|D.words[P])+V)/67108864|0,V=67108863&_}k.words[O]=0|V,j=0|z}return j!==0?k.words[O]=0|j:k.length--,k.strip()}e.prototype.toString=function(C,D){var k;if(D=0|D||1,(C=C||10)===16||C==="hex"){k="";for(var y=0,w=0,v=0;v<this.length;v++){var _=this.words[v],T=(16777215&(_<<y|w)).toString(16);k=(w=_>>>24-y&16777215)!==0||v!==this.length-1?d[6-T.length]+T+k:T+k,(y+=2)>=26&&(y-=26,v--)}for(w!==0&&(k=w.toString(16)+k);k.length%D!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(C===(0|C)&&C>=2&&C<=36){var j=f[C],O=u[C];k="";var z=this.clone();for(z.negative=0;!z.isZero();){var V=z.modn(O).toString(C);k=(z=z.idivn(O)).isZero()?V+k:d[j-V.length]+V+k}for(this.isZero()&&(k="0"+k);k.length%D!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}a(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},e.prototype.toJSON=function(){return this.toString(16)},e.prototype.toBuffer=function(C,D){return a(r!==void 0),this.toArrayLike(r,C,D)},e.prototype.toArray=function(C,D){return this.toArrayLike(Array,C,D)},e.prototype.toArrayLike=function(C,D,k){var y=this.byteLength(),w=k||Math.max(1,y);a(y<=w,"byte array longer than desired length"),a(w>0,"Requested array length <= 0"),this.strip();var v,_,T=D==="le",j=new C(w),O=this.clone();if(T){for(_=0;!O.isZero();_++)v=O.andln(255),O.iushrn(8),j[_]=v;for(;_<w;_++)j[_]=0}else{for(_=0;_<w-y;_++)j[_]=0;for(_=0;!O.isZero();_++)v=O.andln(255),O.iushrn(8),j[w-_-1]=v}return j},Math.clz32?e.prototype._countBits=function(C){return 32-Math.clz32(C)}:e.prototype._countBits=function(C){var D=C,k=0;return D>=4096&&(k+=13,D>>>=13),D>=64&&(k+=7,D>>>=7),D>=8&&(k+=4,D>>>=4),D>=2&&(k+=2,D>>>=2),k+D},e.prototype._zeroBits=function(C){if(C===0)return 26;var D=C,k=0;return!(8191&D)&&(k+=13,D>>>=13),!(127&D)&&(k+=7,D>>>=7),!(15&D)&&(k+=4,D>>>=4),!(3&D)&&(k+=2,D>>>=2),!(1&D)&&k++,k},e.prototype.bitLength=function(){var C=this.words[this.length-1],D=this._countBits(C);return 26*(this.length-1)+D},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,D=0;D<this.length;D++){var k=this._zeroBits(this.words[D]);if(C+=k,k!==26)break}return C},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},e.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var D=0;D<C.length;D++)this.words[D]=this.words[D]|C.words[D];return this.strip()},e.prototype.ior=function(C){return a((this.negative|C.negative)==0),this.iuor(C)},e.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},e.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},e.prototype.iuand=function(C){var D;D=this.length>C.length?C:this;for(var k=0;k<D.length;k++)this.words[k]=this.words[k]&C.words[k];return this.length=D.length,this.strip()},e.prototype.iand=function(C){return a((this.negative|C.negative)==0),this.iuand(C)},e.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},e.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},e.prototype.iuxor=function(C){var D,k;this.length>C.length?(D=this,k=C):(D=C,k=this);for(var y=0;y<k.length;y++)this.words[y]=D.words[y]^k.words[y];if(this!==D)for(;y<D.length;y++)this.words[y]=D.words[y];return this.length=D.length,this.strip()},e.prototype.ixor=function(C){return a((this.negative|C.negative)==0),this.iuxor(C)},e.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},e.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},e.prototype.inotn=function(C){a(typeof C=="number"&&C>=0);var D=0|Math.ceil(C/26),k=C%26;this._expand(D),k>0&&D--;for(var y=0;y<D;y++)this.words[y]=67108863&~this.words[y];return k>0&&(this.words[y]=~this.words[y]&67108863>>26-k),this.strip()},e.prototype.notn=function(C){return this.clone().inotn(C)},e.prototype.setn=function(C,D){a(typeof C=="number"&&C>=0);var k=C/26|0,y=C%26;return this._expand(k+1),this.words[k]=D?this.words[k]|1<<y:this.words[k]&~(1<<y),this.strip()},e.prototype.iadd=function(C){var D,k,y;if(this.negative!==0&&C.negative===0)return this.negative=0,D=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,D=this.isub(C),C.negative=1,D._normSign();this.length>C.length?(k=this,y=C):(k=C,y=this);for(var w=0,v=0;v<y.length;v++)D=(0|k.words[v])+(0|y.words[v])+w,this.words[v]=67108863&D,w=D>>>26;for(;w!==0&&v<k.length;v++)D=(0|k.words[v])+w,this.words[v]=67108863&D,w=D>>>26;if(this.length=k.length,w!==0)this.words[this.length]=w,this.length++;else if(k!==this)for(;v<k.length;v++)this.words[v]=k.words[v];return this},e.prototype.add=function(C){var D;return C.negative!==0&&this.negative===0?(C.negative=0,D=this.sub(C),C.negative^=1,D):C.negative===0&&this.negative!==0?(this.negative=0,D=C.sub(this),this.negative=1,D):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},e.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var D=this.iadd(C);return C.negative=1,D._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var k,y,w=this.cmp(C);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(k=this,y=C):(k=C,y=this);for(var v=0,_=0;_<y.length;_++)v=(D=(0|k.words[_])-(0|y.words[_])+v)>>26,this.words[_]=67108863&D;for(;v!==0&&_<k.length;_++)v=(D=(0|k.words[_])+v)>>26,this.words[_]=67108863&D;if(v===0&&_<k.length&&k!==this)for(;_<k.length;_++)this.words[_]=k.words[_];return this.length=Math.max(this.length,_),k!==this&&(this.negative=1),this.strip()},e.prototype.sub=function(C){return this.clone().isub(C)};var p=function(C,D,k){var y,w,v,_=C.words,T=D.words,j=k.words,O=0,z=0|_[0],V=8191&z,q=z>>>13,P=0|_[1],G=8191&P,I=P>>>13,A=0|_[2],H=8191&A,X=A>>>13,J=0|_[3],Y=8191&J,Q=J>>>13,it=0|_[4],st=8191&it,K=it>>>13,et=0|_[5],rt=8191&et,at=et>>>13,ot=0|_[6],ct=8191&ot,dt=ot>>>13,ft=0|_[7],gt=8191&ft,Dt=ft>>>13,Tt=0|_[8],wt=8191&Tt,Lt=Tt>>>13,Wt=0|_[9],zt=8191&Wt,Ht=Wt>>>13,It=0|T[0],St=8191&It,Pt=It>>>13,Ft=0|T[1],Bt=8191&Ft,Qt=Ft>>>13,ae=0|T[2],Vt=8191&ae,le=ae>>>13,ne=0|T[3],Ct=8191&ne,mt=ne>>>13,ht=0|T[4],Nt=8191&ht,_t=ht>>>13,bt=0|T[5],Et=8191&bt,Gt=bt>>>13,te=0|T[6],Mt=8191&te,nt=te>>>13,lt=0|T[7],pt=8191&lt,At=lt>>>13,Zt=0|T[8],Ot=8191&Zt,ee=Zt>>>13,Kt=0|T[9],Yt=8191&Kt,se=Kt>>>13;k.negative=C.negative^D.negative,k.length=19;var re=(O+(y=Math.imul(V,St))|0)+((8191&(w=(w=Math.imul(V,Pt))+Math.imul(q,St)|0))<<13)|0;O=((v=Math.imul(q,Pt))+(w>>>13)|0)+(re>>>26)|0,re&=67108863,y=Math.imul(G,St),w=(w=Math.imul(G,Pt))+Math.imul(I,St)|0,v=Math.imul(I,Pt);var ce=(O+(y=y+Math.imul(V,Bt)|0)|0)+((8191&(w=(w=w+Math.imul(V,Qt)|0)+Math.imul(q,Bt)|0))<<13)|0;O=((v=v+Math.imul(q,Qt)|0)+(w>>>13)|0)+(ce>>>26)|0,ce&=67108863,y=Math.imul(H,St),w=(w=Math.imul(H,Pt))+Math.imul(X,St)|0,v=Math.imul(X,Pt),y=y+Math.imul(G,Bt)|0,w=(w=w+Math.imul(G,Qt)|0)+Math.imul(I,Bt)|0,v=v+Math.imul(I,Qt)|0;var Ee=(O+(y=y+Math.imul(V,Vt)|0)|0)+((8191&(w=(w=w+Math.imul(V,le)|0)+Math.imul(q,Vt)|0))<<13)|0;O=((v=v+Math.imul(q,le)|0)+(w>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,y=Math.imul(Y,St),w=(w=Math.imul(Y,Pt))+Math.imul(Q,St)|0,v=Math.imul(Q,Pt),y=y+Math.imul(H,Bt)|0,w=(w=w+Math.imul(H,Qt)|0)+Math.imul(X,Bt)|0,v=v+Math.imul(X,Qt)|0,y=y+Math.imul(G,Vt)|0,w=(w=w+Math.imul(G,le)|0)+Math.imul(I,Vt)|0,v=v+Math.imul(I,le)|0;var ie=(O+(y=y+Math.imul(V,Ct)|0)|0)+((8191&(w=(w=w+Math.imul(V,mt)|0)+Math.imul(q,Ct)|0))<<13)|0;O=((v=v+Math.imul(q,mt)|0)+(w>>>13)|0)+(ie>>>26)|0,ie&=67108863,y=Math.imul(st,St),w=(w=Math.imul(st,Pt))+Math.imul(K,St)|0,v=Math.imul(K,Pt),y=y+Math.imul(Y,Bt)|0,w=(w=w+Math.imul(Y,Qt)|0)+Math.imul(Q,Bt)|0,v=v+Math.imul(Q,Qt)|0,y=y+Math.imul(H,Vt)|0,w=(w=w+Math.imul(H,le)|0)+Math.imul(X,Vt)|0,v=v+Math.imul(X,le)|0,y=y+Math.imul(G,Ct)|0,w=(w=w+Math.imul(G,mt)|0)+Math.imul(I,Ct)|0,v=v+Math.imul(I,mt)|0;var ye=(O+(y=y+Math.imul(V,Nt)|0)|0)+((8191&(w=(w=w+Math.imul(V,_t)|0)+Math.imul(q,Nt)|0))<<13)|0;O=((v=v+Math.imul(q,_t)|0)+(w>>>13)|0)+(ye>>>26)|0,ye&=67108863,y=Math.imul(rt,St),w=(w=Math.imul(rt,Pt))+Math.imul(at,St)|0,v=Math.imul(at,Pt),y=y+Math.imul(st,Bt)|0,w=(w=w+Math.imul(st,Qt)|0)+Math.imul(K,Bt)|0,v=v+Math.imul(K,Qt)|0,y=y+Math.imul(Y,Vt)|0,w=(w=w+Math.imul(Y,le)|0)+Math.imul(Q,Vt)|0,v=v+Math.imul(Q,le)|0,y=y+Math.imul(H,Ct)|0,w=(w=w+Math.imul(H,mt)|0)+Math.imul(X,Ct)|0,v=v+Math.imul(X,mt)|0,y=y+Math.imul(G,Nt)|0,w=(w=w+Math.imul(G,_t)|0)+Math.imul(I,Nt)|0,v=v+Math.imul(I,_t)|0;var ge=(O+(y=y+Math.imul(V,Et)|0)|0)+((8191&(w=(w=w+Math.imul(V,Gt)|0)+Math.imul(q,Et)|0))<<13)|0;O=((v=v+Math.imul(q,Gt)|0)+(w>>>13)|0)+(ge>>>26)|0,ge&=67108863,y=Math.imul(ct,St),w=(w=Math.imul(ct,Pt))+Math.imul(dt,St)|0,v=Math.imul(dt,Pt),y=y+Math.imul(rt,Bt)|0,w=(w=w+Math.imul(rt,Qt)|0)+Math.imul(at,Bt)|0,v=v+Math.imul(at,Qt)|0,y=y+Math.imul(st,Vt)|0,w=(w=w+Math.imul(st,le)|0)+Math.imul(K,Vt)|0,v=v+Math.imul(K,le)|0,y=y+Math.imul(Y,Ct)|0,w=(w=w+Math.imul(Y,mt)|0)+Math.imul(Q,Ct)|0,v=v+Math.imul(Q,mt)|0,y=y+Math.imul(H,Nt)|0,w=(w=w+Math.imul(H,_t)|0)+Math.imul(X,Nt)|0,v=v+Math.imul(X,_t)|0,y=y+Math.imul(G,Et)|0,w=(w=w+Math.imul(G,Gt)|0)+Math.imul(I,Et)|0,v=v+Math.imul(I,Gt)|0;var Pe=(O+(y=y+Math.imul(V,Mt)|0)|0)+((8191&(w=(w=w+Math.imul(V,nt)|0)+Math.imul(q,Mt)|0))<<13)|0;O=((v=v+Math.imul(q,nt)|0)+(w>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,y=Math.imul(gt,St),w=(w=Math.imul(gt,Pt))+Math.imul(Dt,St)|0,v=Math.imul(Dt,Pt),y=y+Math.imul(ct,Bt)|0,w=(w=w+Math.imul(ct,Qt)|0)+Math.imul(dt,Bt)|0,v=v+Math.imul(dt,Qt)|0,y=y+Math.imul(rt,Vt)|0,w=(w=w+Math.imul(rt,le)|0)+Math.imul(at,Vt)|0,v=v+Math.imul(at,le)|0,y=y+Math.imul(st,Ct)|0,w=(w=w+Math.imul(st,mt)|0)+Math.imul(K,Ct)|0,v=v+Math.imul(K,mt)|0,y=y+Math.imul(Y,Nt)|0,w=(w=w+Math.imul(Y,_t)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,_t)|0,y=y+Math.imul(H,Et)|0,w=(w=w+Math.imul(H,Gt)|0)+Math.imul(X,Et)|0,v=v+Math.imul(X,Gt)|0,y=y+Math.imul(G,Mt)|0,w=(w=w+Math.imul(G,nt)|0)+Math.imul(I,Mt)|0,v=v+Math.imul(I,nt)|0;var tt=(O+(y=y+Math.imul(V,pt)|0)|0)+((8191&(w=(w=w+Math.imul(V,At)|0)+Math.imul(q,pt)|0))<<13)|0;O=((v=v+Math.imul(q,At)|0)+(w>>>13)|0)+(tt>>>26)|0,tt&=67108863,y=Math.imul(wt,St),w=(w=Math.imul(wt,Pt))+Math.imul(Lt,St)|0,v=Math.imul(Lt,Pt),y=y+Math.imul(gt,Bt)|0,w=(w=w+Math.imul(gt,Qt)|0)+Math.imul(Dt,Bt)|0,v=v+Math.imul(Dt,Qt)|0,y=y+Math.imul(ct,Vt)|0,w=(w=w+Math.imul(ct,le)|0)+Math.imul(dt,Vt)|0,v=v+Math.imul(dt,le)|0,y=y+Math.imul(rt,Ct)|0,w=(w=w+Math.imul(rt,mt)|0)+Math.imul(at,Ct)|0,v=v+Math.imul(at,mt)|0,y=y+Math.imul(st,Nt)|0,w=(w=w+Math.imul(st,_t)|0)+Math.imul(K,Nt)|0,v=v+Math.imul(K,_t)|0,y=y+Math.imul(Y,Et)|0,w=(w=w+Math.imul(Y,Gt)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,Gt)|0,y=y+Math.imul(H,Mt)|0,w=(w=w+Math.imul(H,nt)|0)+Math.imul(X,Mt)|0,v=v+Math.imul(X,nt)|0,y=y+Math.imul(G,pt)|0,w=(w=w+Math.imul(G,At)|0)+Math.imul(I,pt)|0,v=v+Math.imul(I,At)|0;var ut=(O+(y=y+Math.imul(V,Ot)|0)|0)+((8191&(w=(w=w+Math.imul(V,ee)|0)+Math.imul(q,Ot)|0))<<13)|0;O=((v=v+Math.imul(q,ee)|0)+(w>>>13)|0)+(ut>>>26)|0,ut&=67108863,y=Math.imul(zt,St),w=(w=Math.imul(zt,Pt))+Math.imul(Ht,St)|0,v=Math.imul(Ht,Pt),y=y+Math.imul(wt,Bt)|0,w=(w=w+Math.imul(wt,Qt)|0)+Math.imul(Lt,Bt)|0,v=v+Math.imul(Lt,Qt)|0,y=y+Math.imul(gt,Vt)|0,w=(w=w+Math.imul(gt,le)|0)+Math.imul(Dt,Vt)|0,v=v+Math.imul(Dt,le)|0,y=y+Math.imul(ct,Ct)|0,w=(w=w+Math.imul(ct,mt)|0)+Math.imul(dt,Ct)|0,v=v+Math.imul(dt,mt)|0,y=y+Math.imul(rt,Nt)|0,w=(w=w+Math.imul(rt,_t)|0)+Math.imul(at,Nt)|0,v=v+Math.imul(at,_t)|0,y=y+Math.imul(st,Et)|0,w=(w=w+Math.imul(st,Gt)|0)+Math.imul(K,Et)|0,v=v+Math.imul(K,Gt)|0,y=y+Math.imul(Y,Mt)|0,w=(w=w+Math.imul(Y,nt)|0)+Math.imul(Q,Mt)|0,v=v+Math.imul(Q,nt)|0,y=y+Math.imul(H,pt)|0,w=(w=w+Math.imul(H,At)|0)+Math.imul(X,pt)|0,v=v+Math.imul(X,At)|0,y=y+Math.imul(G,Ot)|0,w=(w=w+Math.imul(G,ee)|0)+Math.imul(I,Ot)|0,v=v+Math.imul(I,ee)|0;var yt=(O+(y=y+Math.imul(V,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(V,se)|0)+Math.imul(q,Yt)|0))<<13)|0;O=((v=v+Math.imul(q,se)|0)+(w>>>13)|0)+(yt>>>26)|0,yt&=67108863,y=Math.imul(zt,Bt),w=(w=Math.imul(zt,Qt))+Math.imul(Ht,Bt)|0,v=Math.imul(Ht,Qt),y=y+Math.imul(wt,Vt)|0,w=(w=w+Math.imul(wt,le)|0)+Math.imul(Lt,Vt)|0,v=v+Math.imul(Lt,le)|0,y=y+Math.imul(gt,Ct)|0,w=(w=w+Math.imul(gt,mt)|0)+Math.imul(Dt,Ct)|0,v=v+Math.imul(Dt,mt)|0,y=y+Math.imul(ct,Nt)|0,w=(w=w+Math.imul(ct,_t)|0)+Math.imul(dt,Nt)|0,v=v+Math.imul(dt,_t)|0,y=y+Math.imul(rt,Et)|0,w=(w=w+Math.imul(rt,Gt)|0)+Math.imul(at,Et)|0,v=v+Math.imul(at,Gt)|0,y=y+Math.imul(st,Mt)|0,w=(w=w+Math.imul(st,nt)|0)+Math.imul(K,Mt)|0,v=v+Math.imul(K,nt)|0,y=y+Math.imul(Y,pt)|0,w=(w=w+Math.imul(Y,At)|0)+Math.imul(Q,pt)|0,v=v+Math.imul(Q,At)|0,y=y+Math.imul(H,Ot)|0,w=(w=w+Math.imul(H,ee)|0)+Math.imul(X,Ot)|0,v=v+Math.imul(X,ee)|0;var kt=(O+(y=y+Math.imul(G,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(G,se)|0)+Math.imul(I,Yt)|0))<<13)|0;O=((v=v+Math.imul(I,se)|0)+(w>>>13)|0)+(kt>>>26)|0,kt&=67108863,y=Math.imul(zt,Vt),w=(w=Math.imul(zt,le))+Math.imul(Ht,Vt)|0,v=Math.imul(Ht,le),y=y+Math.imul(wt,Ct)|0,w=(w=w+Math.imul(wt,mt)|0)+Math.imul(Lt,Ct)|0,v=v+Math.imul(Lt,mt)|0,y=y+Math.imul(gt,Nt)|0,w=(w=w+Math.imul(gt,_t)|0)+Math.imul(Dt,Nt)|0,v=v+Math.imul(Dt,_t)|0,y=y+Math.imul(ct,Et)|0,w=(w=w+Math.imul(ct,Gt)|0)+Math.imul(dt,Et)|0,v=v+Math.imul(dt,Gt)|0,y=y+Math.imul(rt,Mt)|0,w=(w=w+Math.imul(rt,nt)|0)+Math.imul(at,Mt)|0,v=v+Math.imul(at,nt)|0,y=y+Math.imul(st,pt)|0,w=(w=w+Math.imul(st,At)|0)+Math.imul(K,pt)|0,v=v+Math.imul(K,At)|0,y=y+Math.imul(Y,Ot)|0,w=(w=w+Math.imul(Y,ee)|0)+Math.imul(Q,Ot)|0,v=v+Math.imul(Q,ee)|0;var Xt=(O+(y=y+Math.imul(H,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(H,se)|0)+Math.imul(X,Yt)|0))<<13)|0;O=((v=v+Math.imul(X,se)|0)+(w>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,y=Math.imul(zt,Ct),w=(w=Math.imul(zt,mt))+Math.imul(Ht,Ct)|0,v=Math.imul(Ht,mt),y=y+Math.imul(wt,Nt)|0,w=(w=w+Math.imul(wt,_t)|0)+Math.imul(Lt,Nt)|0,v=v+Math.imul(Lt,_t)|0,y=y+Math.imul(gt,Et)|0,w=(w=w+Math.imul(gt,Gt)|0)+Math.imul(Dt,Et)|0,v=v+Math.imul(Dt,Gt)|0,y=y+Math.imul(ct,Mt)|0,w=(w=w+Math.imul(ct,nt)|0)+Math.imul(dt,Mt)|0,v=v+Math.imul(dt,nt)|0,y=y+Math.imul(rt,pt)|0,w=(w=w+Math.imul(rt,At)|0)+Math.imul(at,pt)|0,v=v+Math.imul(at,At)|0,y=y+Math.imul(st,Ot)|0,w=(w=w+Math.imul(st,ee)|0)+Math.imul(K,Ot)|0,v=v+Math.imul(K,ee)|0;var jt=(O+(y=y+Math.imul(Y,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(Y,se)|0)+Math.imul(Q,Yt)|0))<<13)|0;O=((v=v+Math.imul(Q,se)|0)+(w>>>13)|0)+(jt>>>26)|0,jt&=67108863,y=Math.imul(zt,Nt),w=(w=Math.imul(zt,_t))+Math.imul(Ht,Nt)|0,v=Math.imul(Ht,_t),y=y+Math.imul(wt,Et)|0,w=(w=w+Math.imul(wt,Gt)|0)+Math.imul(Lt,Et)|0,v=v+Math.imul(Lt,Gt)|0,y=y+Math.imul(gt,Mt)|0,w=(w=w+Math.imul(gt,nt)|0)+Math.imul(Dt,Mt)|0,v=v+Math.imul(Dt,nt)|0,y=y+Math.imul(ct,pt)|0,w=(w=w+Math.imul(ct,At)|0)+Math.imul(dt,pt)|0,v=v+Math.imul(dt,At)|0,y=y+Math.imul(rt,Ot)|0,w=(w=w+Math.imul(rt,ee)|0)+Math.imul(at,Ot)|0,v=v+Math.imul(at,ee)|0;var Rt=(O+(y=y+Math.imul(st,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(st,se)|0)+Math.imul(K,Yt)|0))<<13)|0;O=((v=v+Math.imul(K,se)|0)+(w>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,y=Math.imul(zt,Et),w=(w=Math.imul(zt,Gt))+Math.imul(Ht,Et)|0,v=Math.imul(Ht,Gt),y=y+Math.imul(wt,Mt)|0,w=(w=w+Math.imul(wt,nt)|0)+Math.imul(Lt,Mt)|0,v=v+Math.imul(Lt,nt)|0,y=y+Math.imul(gt,pt)|0,w=(w=w+Math.imul(gt,At)|0)+Math.imul(Dt,pt)|0,v=v+Math.imul(Dt,At)|0,y=y+Math.imul(ct,Ot)|0,w=(w=w+Math.imul(ct,ee)|0)+Math.imul(dt,Ot)|0,v=v+Math.imul(dt,ee)|0;var me=(O+(y=y+Math.imul(rt,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(rt,se)|0)+Math.imul(at,Yt)|0))<<13)|0;O=((v=v+Math.imul(at,se)|0)+(w>>>13)|0)+(me>>>26)|0,me&=67108863,y=Math.imul(zt,Mt),w=(w=Math.imul(zt,nt))+Math.imul(Ht,Mt)|0,v=Math.imul(Ht,nt),y=y+Math.imul(wt,pt)|0,w=(w=w+Math.imul(wt,At)|0)+Math.imul(Lt,pt)|0,v=v+Math.imul(Lt,At)|0,y=y+Math.imul(gt,Ot)|0,w=(w=w+Math.imul(gt,ee)|0)+Math.imul(Dt,Ot)|0,v=v+Math.imul(Dt,ee)|0;var ue=(O+(y=y+Math.imul(ct,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(ct,se)|0)+Math.imul(dt,Yt)|0))<<13)|0;O=((v=v+Math.imul(dt,se)|0)+(w>>>13)|0)+(ue>>>26)|0,ue&=67108863,y=Math.imul(zt,pt),w=(w=Math.imul(zt,At))+Math.imul(Ht,pt)|0,v=Math.imul(Ht,At),y=y+Math.imul(wt,Ot)|0,w=(w=w+Math.imul(wt,ee)|0)+Math.imul(Lt,Ot)|0,v=v+Math.imul(Lt,ee)|0;var de=(O+(y=y+Math.imul(gt,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(gt,se)|0)+Math.imul(Dt,Yt)|0))<<13)|0;O=((v=v+Math.imul(Dt,se)|0)+(w>>>13)|0)+(de>>>26)|0,de&=67108863,y=Math.imul(zt,Ot),w=(w=Math.imul(zt,ee))+Math.imul(Ht,Ot)|0,v=Math.imul(Ht,ee);var Jt=(O+(y=y+Math.imul(wt,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(wt,se)|0)+Math.imul(Lt,Yt)|0))<<13)|0;O=((v=v+Math.imul(Lt,se)|0)+(w>>>13)|0)+(Jt>>>26)|0,Jt&=67108863;var ve=(O+(y=Math.imul(zt,Yt))|0)+((8191&(w=(w=Math.imul(zt,se))+Math.imul(Ht,Yt)|0))<<13)|0;return O=((v=Math.imul(Ht,se))+(w>>>13)|0)+(ve>>>26)|0,ve&=67108863,j[0]=re,j[1]=ce,j[2]=Ee,j[3]=ie,j[4]=ye,j[5]=ge,j[6]=Pe,j[7]=tt,j[8]=ut,j[9]=yt,j[10]=kt,j[11]=Xt,j[12]=jt,j[13]=Rt,j[14]=me,j[15]=ue,j[16]=de,j[17]=Jt,j[18]=ve,O!==0&&(j[19]=O,k.length++),k};function x(C,D,k){return new S().mulp(C,D,k)}function S(C,D){this.x=C,this.y=D}Math.imul||(p=g),e.prototype.mulTo=function(C,D){var k=this.length+C.length;return this.length===10&&C.length===10?p(this,C,D):k<63?g(this,C,D):k<1024?function(y,w,v){v.negative=w.negative^y.negative,v.length=y.length+w.length;for(var _=0,T=0,j=0;j<v.length-1;j++){var O=T;T=0;for(var z=67108863&_,V=Math.min(j,w.length-1),q=Math.max(0,j-y.length+1);q<=V;q++){var P=j-q,G=(0|y.words[P])*(0|w.words[q]),I=67108863&G;z=67108863&(I=I+z|0),T+=(O=(O=O+(G/67108864|0)|0)+(I>>>26)|0)>>>26,O&=67108863}v.words[j]=z,_=O,O=T}return _!==0?v.words[j]=_:v.length--,v.strip()}(this,C,D):x(this,C,D)},S.prototype.makeRBT=function(C){for(var D=new Array(C),k=e.prototype._countBits(C)-1,y=0;y<C;y++)D[y]=this.revBin(y,k,C);return D},S.prototype.revBin=function(C,D,k){if(C===0||C===k-1)return C;for(var y=0,w=0;w<D;w++)y|=(1&C)<<D-w-1,C>>=1;return y},S.prototype.permute=function(C,D,k,y,w,v){for(var _=0;_<v;_++)y[_]=D[C[_]],w[_]=k[C[_]]},S.prototype.transform=function(C,D,k,y,w,v){this.permute(v,C,D,k,y,w);for(var _=1;_<w;_<<=1)for(var T=_<<1,j=Math.cos(2*Math.PI/T),O=Math.sin(2*Math.PI/T),z=0;z<w;z+=T)for(var V=j,q=O,P=0;P<_;P++){var G=k[z+P],I=y[z+P],A=k[z+P+_],H=y[z+P+_],X=V*A-q*H;H=V*H+q*A,A=X,k[z+P]=G+A,y[z+P]=I+H,k[z+P+_]=G-A,y[z+P+_]=I-H,P!==T&&(X=j*V-O*q,q=j*q+O*V,V=X)}},S.prototype.guessLen13b=function(C,D){var k=1|Math.max(D,C),y=1&k,w=0;for(k=k/2|0;k;k>>>=1)w++;return 1<<w+1+y},S.prototype.conjugate=function(C,D,k){if(!(k<=1))for(var y=0;y<k/2;y++){var w=C[y];C[y]=C[k-y-1],C[k-y-1]=w,w=D[y],D[y]=-D[k-y-1],D[k-y-1]=-w}},S.prototype.normalize13b=function(C,D){for(var k=0,y=0;y<D/2;y++){var w=8192*Math.round(C[2*y+1]/D)+Math.round(C[2*y]/D)+k;C[y]=67108863&w,k=w<67108864?0:w/67108864|0}return C},S.prototype.convert13b=function(C,D,k,y){for(var w=0,v=0;v<D;v++)w+=0|C[v],k[2*v]=8191&w,w>>>=13,k[2*v+1]=8191&w,w>>>=13;for(v=2*D;v<y;++v)k[v]=0;a(w===0),a((-8192&w)==0)},S.prototype.stub=function(C){for(var D=new Array(C),k=0;k<C;k++)D[k]=0;return D},S.prototype.mulp=function(C,D,k){var y=2*this.guessLen13b(C.length,D.length),w=this.makeRBT(y),v=this.stub(y),_=new Array(y),T=new Array(y),j=new Array(y),O=new Array(y),z=new Array(y),V=new Array(y),q=k.words;q.length=y,this.convert13b(C.words,C.length,_,y),this.convert13b(D.words,D.length,O,y),this.transform(_,v,T,j,y,w),this.transform(O,v,z,V,y,w);for(var P=0;P<y;P++){var G=T[P]*z[P]-j[P]*V[P];j[P]=T[P]*V[P]+j[P]*z[P],T[P]=G}return this.conjugate(T,j,y),this.transform(T,j,q,v,y,w),this.conjugate(q,v,y),this.normalize13b(q,y),k.negative=C.negative^D.negative,k.length=C.length+D.length,k.strip()},e.prototype.mul=function(C){var D=new e(null);return D.words=new Array(this.length+C.length),this.mulTo(C,D)},e.prototype.mulf=function(C){var D=new e(null);return D.words=new Array(this.length+C.length),x(this,C,D)},e.prototype.imul=function(C){return this.clone().mulTo(C,this)},e.prototype.imuln=function(C){a(typeof C=="number"),a(C<67108864);for(var D=0,k=0;k<this.length;k++){var y=(0|this.words[k])*C,w=(67108863&y)+(67108863&D);D>>=26,D+=y/67108864|0,D+=w>>>26,this.words[k]=67108863&w}return D!==0&&(this.words[k]=D,this.length++),this},e.prototype.muln=function(C){return this.clone().imuln(C)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(C){var D=function(v){for(var _=new Array(v.bitLength()),T=0;T<_.length;T++){var j=T/26|0,O=T%26;_[T]=(v.words[j]&1<<O)>>>O}return _}(C);if(D.length===0)return new e(1);for(var k=this,y=0;y<D.length&&D[y]===0;y++,k=k.sqr());if(++y<D.length)for(var w=k.sqr();y<D.length;y++,w=w.sqr())D[y]!==0&&(k=k.mul(w));return k},e.prototype.iushln=function(C){a(typeof C=="number"&&C>=0);var D,k=C%26,y=(C-k)/26,w=67108863>>>26-k<<26-k;if(k!==0){var v=0;for(D=0;D<this.length;D++){var _=this.words[D]&w,T=(0|this.words[D])-_<<k;this.words[D]=T|v,v=_>>>26-k}v&&(this.words[D]=v,this.length++)}if(y!==0){for(D=this.length-1;D>=0;D--)this.words[D+y]=this.words[D];for(D=0;D<y;D++)this.words[D]=0;this.length+=y}return this.strip()},e.prototype.ishln=function(C){return a(this.negative===0),this.iushln(C)},e.prototype.iushrn=function(C,D,k){var y;a(typeof C=="number"&&C>=0),y=D?(D-D%26)/26:0;var w=C%26,v=Math.min((C-w)/26,this.length),_=67108863^67108863>>>w<<w,T=k;if(y-=v,y=Math.max(0,y),T){for(var j=0;j<v;j++)T.words[j]=this.words[j];T.length=v}if(v!==0)if(this.length>v)for(this.length-=v,j=0;j<this.length;j++)this.words[j]=this.words[j+v];else this.words[0]=0,this.length=1;var O=0;for(j=this.length-1;j>=0&&(O!==0||j>=y);j--){var z=0|this.words[j];this.words[j]=O<<26-w|z>>>w,O=z&_}return T&&O!==0&&(T.words[T.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},e.prototype.ishrn=function(C,D,k){return a(this.negative===0),this.iushrn(C,D,k)},e.prototype.shln=function(C){return this.clone().ishln(C)},e.prototype.ushln=function(C){return this.clone().iushln(C)},e.prototype.shrn=function(C){return this.clone().ishrn(C)},e.prototype.ushrn=function(C){return this.clone().iushrn(C)},e.prototype.testn=function(C){a(typeof C=="number"&&C>=0);var D=C%26,k=(C-D)/26,y=1<<D;return!(this.length<=k)&&!!(this.words[k]&y)},e.prototype.imaskn=function(C){a(typeof C=="number"&&C>=0);var D=C%26,k=(C-D)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(D!==0&&k++,this.length=Math.min(k,this.length),D!==0){var y=67108863^67108863>>>D<<D;this.words[this.length-1]&=y}return this.strip()},e.prototype.maskn=function(C){return this.clone().imaskn(C)},e.prototype.iaddn=function(C){return a(typeof C=="number"),a(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},e.prototype._iaddn=function(C){this.words[0]+=C;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},e.prototype.isubn=function(C){if(a(typeof C=="number"),a(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this.strip()},e.prototype.addn=function(C){return this.clone().iaddn(C)},e.prototype.subn=function(C){return this.clone().isubn(C)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(C,D,k){var y,w,v=C.length+k;this._expand(v);var _=0;for(y=0;y<C.length;y++){w=(0|this.words[y+k])+_;var T=(0|C.words[y])*D;_=((w-=67108863&T)>>26)-(T/67108864|0),this.words[y+k]=67108863&w}for(;y<this.length-k;y++)_=(w=(0|this.words[y+k])+_)>>26,this.words[y+k]=67108863&w;if(_===0)return this.strip();for(a(_===-1),_=0,y=0;y<this.length;y++)_=(w=-(0|this.words[y])+_)>>26,this.words[y]=67108863&w;return this.negative=1,this.strip()},e.prototype._wordDiv=function(C,D){var k=(this.length,C.length),y=this.clone(),w=C,v=0|w.words[w.length-1];(k=26-this._countBits(v))!==0&&(w=w.ushln(k),y.iushln(k),v=0|w.words[w.length-1]);var _,T=y.length-w.length;if(D!=="mod"){(_=new e(null)).length=T+1,_.words=new Array(_.length);for(var j=0;j<_.length;j++)_.words[j]=0}var O=y.clone()._ishlnsubmul(w,1,T);O.negative===0&&(y=O,_&&(_.words[T]=1));for(var z=T-1;z>=0;z--){var V=67108864*(0|y.words[w.length+z])+(0|y.words[w.length+z-1]);for(V=Math.min(V/v|0,67108863),y._ishlnsubmul(w,V,z);y.negative!==0;)V--,y.negative=0,y._ishlnsubmul(w,1,z),y.isZero()||(y.negative^=1);_&&(_.words[z]=V)}return _&&_.strip(),y.strip(),D!=="div"&&k!==0&&y.iushrn(k),{div:_||null,mod:y}},e.prototype.divmod=function(C,D,k){return a(!C.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:this.negative!==0&&C.negative===0?(v=this.neg().divmod(C,D),D!=="mod"&&(y=v.div.neg()),D!=="div"&&(w=v.mod.neg(),k&&w.negative!==0&&w.iadd(C)),{div:y,mod:w}):this.negative===0&&C.negative!==0?(v=this.divmod(C.neg(),D),D!=="mod"&&(y=v.div.neg()),{div:y,mod:v.mod}):this.negative&C.negative?(v=this.neg().divmod(C.neg(),D),D!=="div"&&(w=v.mod.neg(),k&&w.negative!==0&&w.isub(C)),{div:v.div,mod:w}):C.length>this.length||this.cmp(C)<0?{div:new e(0),mod:this}:C.length===1?D==="div"?{div:this.divn(C.words[0]),mod:null}:D==="mod"?{div:null,mod:new e(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new e(this.modn(C.words[0]))}:this._wordDiv(C,D);var y,w,v},e.prototype.div=function(C){return this.divmod(C,"div",!1).div},e.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},e.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},e.prototype.divRound=function(C){var D=this.divmod(C);if(D.mod.isZero())return D.div;var k=D.div.negative!==0?D.mod.isub(C):D.mod,y=C.ushrn(1),w=C.andln(1),v=k.cmp(y);return v<0||w===1&&v===0?D.div:D.div.negative!==0?D.div.isubn(1):D.div.iaddn(1)},e.prototype.modn=function(C){a(C<=67108863);for(var D=(1<<26)%C,k=0,y=this.length-1;y>=0;y--)k=(D*k+(0|this.words[y]))%C;return k},e.prototype.idivn=function(C){a(C<=67108863);for(var D=0,k=this.length-1;k>=0;k--){var y=(0|this.words[k])+67108864*D;this.words[k]=y/C|0,D=y%C}return this.strip()},e.prototype.divn=function(C){return this.clone().idivn(C)},e.prototype.egcd=function(C){a(C.negative===0),a(!C.isZero());var D=this,k=C.clone();D=D.negative!==0?D.umod(C):D.clone();for(var y=new e(1),w=new e(0),v=new e(0),_=new e(1),T=0;D.isEven()&&k.isEven();)D.iushrn(1),k.iushrn(1),++T;for(var j=k.clone(),O=D.clone();!D.isZero();){for(var z=0,V=1;!(D.words[0]&V)&&z<26;++z,V<<=1);if(z>0)for(D.iushrn(z);z-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(j),w.isub(O)),y.iushrn(1),w.iushrn(1);for(var q=0,P=1;!(k.words[0]&P)&&q<26;++q,P<<=1);if(q>0)for(k.iushrn(q);q-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(j),_.isub(O)),v.iushrn(1),_.iushrn(1);D.cmp(k)>=0?(D.isub(k),y.isub(v),w.isub(_)):(k.isub(D),v.isub(y),_.isub(w))}return{a:v,b:_,gcd:k.iushln(T)}},e.prototype._invmp=function(C){a(C.negative===0),a(!C.isZero());var D=this,k=C.clone();D=D.negative!==0?D.umod(C):D.clone();for(var y,w=new e(1),v=new e(0),_=k.clone();D.cmpn(1)>0&&k.cmpn(1)>0;){for(var T=0,j=1;!(D.words[0]&j)&&T<26;++T,j<<=1);if(T>0)for(D.iushrn(T);T-- >0;)w.isOdd()&&w.iadd(_),w.iushrn(1);for(var O=0,z=1;!(k.words[0]&z)&&O<26;++O,z<<=1);if(O>0)for(k.iushrn(O);O-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);D.cmp(k)>=0?(D.isub(k),w.isub(v)):(k.isub(D),v.isub(w))}return(y=D.cmpn(1)===0?w:v).cmpn(0)<0&&y.iadd(C),y},e.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var D=this.clone(),k=C.clone();D.negative=0,k.negative=0;for(var y=0;D.isEven()&&k.isEven();y++)D.iushrn(1),k.iushrn(1);for(;;){for(;D.isEven();)D.iushrn(1);for(;k.isEven();)k.iushrn(1);var w=D.cmp(k);if(w<0){var v=D;D=k,k=v}else if(w===0||k.cmpn(1)===0)break;D.isub(k)}return k.iushln(y)},e.prototype.invm=function(C){return this.egcd(C).a.umod(C)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(C){return this.words[0]&C},e.prototype.bincn=function(C){a(typeof C=="number");var D=C%26,k=(C-D)/26,y=1<<D;if(this.length<=k)return this._expand(k+1),this.words[k]|=y,this;for(var w=y,v=k;w!==0&&v<this.length;v++){var _=0|this.words[v];w=(_+=w)>>>26,_&=67108863,this.words[v]=_}return w!==0&&(this.words[v]=w,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(C){var D,k=C<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this.strip(),this.length>1)D=1;else{k&&(C=-C),a(C<=67108863,"Number is too big");var y=0|this.words[0];D=y===C?0:y<C?-1:1}return this.negative!==0?0|-D:D},e.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var D=this.ucmp(C);return this.negative!==0?0|-D:D},e.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var D=0,k=this.length-1;k>=0;k--){var y=0|this.words[k],w=0|C.words[k];if(y!==w){y<w?D=-1:y>w&&(D=1);break}}return D},e.prototype.gtn=function(C){return this.cmpn(C)===1},e.prototype.gt=function(C){return this.cmp(C)===1},e.prototype.gten=function(C){return this.cmpn(C)>=0},e.prototype.gte=function(C){return this.cmp(C)>=0},e.prototype.ltn=function(C){return this.cmpn(C)===-1},e.prototype.lt=function(C){return this.cmp(C)===-1},e.prototype.lten=function(C){return this.cmpn(C)<=0},e.prototype.lte=function(C){return this.cmp(C)<=0},e.prototype.eqn=function(C){return this.cmpn(C)===0},e.prototype.eq=function(C){return this.cmp(C)===0},e.red=function(C){return new $(C)},e.prototype.toRed=function(C){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},e.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(C){return this.red=C,this},e.prototype.forceRed=function(C){return a(!this.red,"Already a number in reduction context"),this._forceRed(C)},e.prototype.redAdd=function(C){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},e.prototype.redIAdd=function(C){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},e.prototype.redSub=function(C){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},e.prototype.redISub=function(C){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},e.prototype.redShl=function(C){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},e.prototype.redMul=function(C){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},e.prototype.redIMul=function(C){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},e.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(C){return a(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var M={k256:null,p224:null,p192:null,p25519:null};function R(C,D){this.name=C,this.p=new e(D,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function N(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(C){if(typeof C=="string"){var D=e._prime(C);this.m=D.p,this.prime=D}else a(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function W(C){$.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var C=new e(null);return C.words=new Array(Math.ceil(this.n/13)),C},R.prototype.ireduce=function(C){var D,k=C;do this.split(k,this.tmp),D=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(D>this.n);var y=D<this.n?-1:k.ucmp(this.p);return y===0?(k.words[0]=0,k.length=1):y>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},R.prototype.split=function(C,D){C.iushrn(this.n,0,D)},R.prototype.imulK=function(C){return C.imul(this.k)},n(B,R),B.prototype.split=function(C,D){for(var k=Math.min(C.length,9),y=0;y<k;y++)D.words[y]=C.words[y];if(D.length=k,C.length<=9)return C.words[0]=0,void(C.length=1);var w=C.words[9];for(D.words[D.length++]=4194303&w,y=10;y<C.length;y++){var v=0|C.words[y];C.words[y-10]=(4194303&v)<<4|w>>>22,w=v}w>>>=22,C.words[y-10]=w,w===0&&C.length>10?C.length-=10:C.length-=9},B.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var D=0,k=0;k<C.length;k++){var y=0|C.words[k];D+=977*y,C.words[k]=67108863&D,D=64*y+(D/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},n(N,R),n(L,R),n(F,R),F.prototype.imulK=function(C){for(var D=0,k=0;k<C.length;k++){var y=19*(0|C.words[k])+D,w=67108863&y;y>>>=26,C.words[k]=w,D=y}return D!==0&&(C.words[C.length++]=D),C},e._prime=function(C){if(M[C])return M[C];var D;if(C==="k256")D=new B;else if(C==="p224")D=new N;else if(C==="p192")D=new L;else{if(C!=="p25519")throw new Error("Unknown prime "+C);D=new F}return M[C]=D,D},$.prototype._verify1=function(C){a(C.negative===0,"red works only with positives"),a(C.red,"red works only with red numbers")},$.prototype._verify2=function(C,D){a((C.negative|D.negative)==0,"red works only with positives"),a(C.red&&C.red===D.red,"red works only with red numbers")},$.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},$.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},$.prototype.add=function(C,D){this._verify2(C,D);var k=C.add(D);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},$.prototype.iadd=function(C,D){this._verify2(C,D);var k=C.iadd(D);return k.cmp(this.m)>=0&&k.isub(this.m),k},$.prototype.sub=function(C,D){this._verify2(C,D);var k=C.sub(D);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},$.prototype.isub=function(C,D){this._verify2(C,D);var k=C.isub(D);return k.cmpn(0)<0&&k.iadd(this.m),k},$.prototype.shl=function(C,D){return this._verify1(C),this.imod(C.ushln(D))},$.prototype.imul=function(C,D){return this._verify2(C,D),this.imod(C.imul(D))},$.prototype.mul=function(C,D){return this._verify2(C,D),this.imod(C.mul(D))},$.prototype.isqr=function(C){return this.imul(C,C.clone())},$.prototype.sqr=function(C){return this.mul(C,C)},$.prototype.sqrt=function(C){if(C.isZero())return C.clone();var D=this.m.andln(3);if(a(D%2==1),D===3){var k=this.m.add(new e(1)).iushrn(2);return this.pow(C,k)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);a(!y.isZero());var v=new e(1).toRed(this),_=v.redNeg(),T=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new e(2*j*j).toRed(this);this.pow(j,T).cmp(_)!==0;)j.redIAdd(_);for(var O=this.pow(j,y),z=this.pow(C,y.addn(1).iushrn(1)),V=this.pow(C,y),q=w;V.cmp(v)!==0;){for(var P=V,G=0;P.cmp(v)!==0;G++)P=P.redSqr();a(G<q);var I=this.pow(O,new e(1).iushln(q-G-1));z=z.redMul(I),O=I.redSqr(),V=V.redMul(O),q=G}return z},$.prototype.invm=function(C){var D=C._invmp(this.m);return D.negative!==0?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},$.prototype.pow=function(C,D){if(D.isZero())return new e(1).toRed(this);if(D.cmpn(1)===0)return C.clone();var k=new Array(16);k[0]=new e(1).toRed(this),k[1]=C;for(var y=2;y<k.length;y++)k[y]=this.mul(k[y-1],C);var w=k[0],v=0,_=0,T=D.bitLength()%26;for(T===0&&(T=26),y=D.length-1;y>=0;y--){for(var j=D.words[y],O=T-1;O>=0;O--){var z=j>>O&1;w!==k[0]&&(w=this.sqr(w)),z!==0||v!==0?(v<<=1,v|=z,(++_===4||y===0&&O===0)&&(w=this.mul(w,k[v]),_=0,v=0)):_=0}T=26}return w},$.prototype.convertTo=function(C){var D=C.umod(this.m);return D===C?D.clone():D},$.prototype.convertFrom=function(C){var D=C.clone();return D.red=null,D},e.mont=function(C){return new W(C)},n(W,$),W.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},W.prototype.convertFrom=function(C){var D=this.imod(C.mul(this.rinv));return D.red=null,D},W.prototype.imul=function(C,D){if(C.isZero()||D.isZero())return C.words[0]=0,C.length=1,C;var k=C.imul(D),y=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=k.isub(y).iushrn(this.shift),v=w;return w.cmp(this.m)>=0?v=w.isub(this.m):w.cmpn(0)<0&&(v=w.iadd(this.m)),v._forceRed(this)},W.prototype.mul=function(C,D){if(C.isZero()||D.isZero())return new e(0)._forceRed(this);var k=C.mul(D),y=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=k.isub(y).iushrn(this.shift),v=w;return w.cmp(this.m)>=0?v=w.isub(this.m):w.cmpn(0)<0&&(v=w.iadd(this.m)),v._forceRed(this)},W.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(h===void 0||h)},{buffer:188}],185:[function(t,h,m){m.byteLength=function(o){var d=c(o),f=d[0],u=d[1];return 3*(f+u)/4-u},m.toByteArray=function(o){var d,f,u=c(o),g=u[0],p=u[1],x=new a(function(R,B,N){return 3*(B+N)/4-N}(0,g,p)),S=0,M=p>0?g-4:g;for(f=0;f<M;f+=4)d=i[o.charCodeAt(f)]<<18|i[o.charCodeAt(f+1)]<<12|i[o.charCodeAt(f+2)]<<6|i[o.charCodeAt(f+3)],x[S++]=d>>16&255,x[S++]=d>>8&255,x[S++]=255&d;return p===2&&(d=i[o.charCodeAt(f)]<<2|i[o.charCodeAt(f+1)]>>4,x[S++]=255&d),p===1&&(d=i[o.charCodeAt(f)]<<10|i[o.charCodeAt(f+1)]<<4|i[o.charCodeAt(f+2)]>>2,x[S++]=d>>8&255,x[S++]=255&d),x},m.fromByteArray=function(o){for(var d,f=o.length,u=f%3,g=[],p=0,x=f-u;p<x;p+=16383)g.push(s(o,p,p+16383>x?x:p+16383));return u===1?(d=o[f-1],g.push(l[d>>2]+l[d<<4&63]+"==")):u===2&&(d=(o[f-2]<<8)+o[f-1],g.push(l[d>>10]+l[d>>4&63]+l[d<<2&63]+"=")),g.join("")};for(var l=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=n.length;e<r;++e)l[e]=n[e],i[n.charCodeAt(e)]=e;function c(o){var d=o.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=o.indexOf("=");return f===-1&&(f=d),[f,f===d?0:4-f%4]}function s(o,d,f){for(var u,g,p=[],x=d;x<f;x+=3)u=(o[x]<<16&16711680)+(o[x+1]<<8&65280)+(255&o[x+2]),p.push(l[(g=u)>>18&63]+l[g>>12&63]+l[g>>6&63]+l[63&g]);return p.join("")}i[45]=62,i[95]=63},{}],186:[function(t,h,m){(function(l,i){function a(k,y){if(!k)throw new Error(y||"Assertion failed")}function n(k,y){k.super_=y;var w=function(){};w.prototype=y.prototype,k.prototype=new w,k.prototype.constructor=k}function e(k,y,w){if(e.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(y!=="le"&&y!=="be"||(w=y,y=10),this._init(k||0,y||10,w||"be"))}var r;typeof l=="object"?l.exports=e:(void 0).BN=e,e.BN=e,e.wordSize=26;try{r=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function c(k,y){var w=k.charCodeAt(y);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void a(!1,"Invalid character in "+k)}function s(k,y,w){var v=c(k,w);return w-1>=y&&(v|=c(k,w-1)<<4),v}function o(k,y,w,v){for(var _=0,T=0,j=Math.min(k.length,w),O=y;O<j;O++){var z=k.charCodeAt(O)-48;_*=v,T=z>=49?z-49+10:z>=17?z-17+10:z,a(z>=0&&T<v,"Invalid character"),_+=T}return _}function d(k,y){k.words=y.words,k.length=y.length,k.negative=y.negative,k.red=y.red}if(e.isBN=function(k){return k instanceof e||k!==null&&typeof k=="object"&&k.constructor.wordSize===e.wordSize&&Array.isArray(k.words)},e.max=function(k,y){return k.cmp(y)>0?k:y},e.min=function(k,y){return k.cmp(y)<0?k:y},e.prototype._init=function(k,y,w){if(typeof k=="number")return this._initNumber(k,y,w);if(typeof k=="object")return this._initArray(k,y,w);y==="hex"&&(y=16),a(y===(0|y)&&y>=2&&y<=36);var v=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<k.length&&(y===16?this._parseHex(k,v,w):(this._parseBase(k,y,v),w==="le"&&this._initArray(this.toArray(),y,w)))},e.prototype._initNumber=function(k,y,w){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(a(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),y,w)},e.prototype._initArray=function(k,y,w){if(a(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,T,j=0;if(w==="be")for(v=k.length-1,_=0;v>=0;v-=3)T=k[v]|k[v-1]<<8|k[v-2]<<16,this.words[_]|=T<<j&67108863,this.words[_+1]=T>>>26-j&67108863,(j+=24)>=26&&(j-=26,_++);else if(w==="le")for(v=0,_=0;v<k.length;v+=3)T=k[v]|k[v+1]<<8|k[v+2]<<16,this.words[_]|=T<<j&67108863,this.words[_+1]=T>>>26-j&67108863,(j+=24)>=26&&(j-=26,_++);return this._strip()},e.prototype._parseHex=function(k,y,w){this.length=Math.ceil((k.length-y)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,T=0,j=0;if(w==="be")for(v=k.length-1;v>=y;v-=2)_=s(k,y,v)<<T,this.words[j]|=67108863&_,T>=18?(T-=18,j+=1,this.words[j]|=_>>>26):T+=8;else for(v=(k.length-y)%2==0?y+1:y;v<k.length;v+=2)_=s(k,y,v)<<T,this.words[j]|=67108863&_,T>=18?(T-=18,j+=1,this.words[j]|=_>>>26):T+=8;this._strip()},e.prototype._parseBase=function(k,y,w){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=y)v++;v--,_=_/y|0;for(var T=k.length-w,j=T%v,O=Math.min(T,T-j)+w,z=0,V=w;V<O;V+=v)z=o(k,V,V+v,y),this.imuln(_),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(j!==0){var q=1;for(z=o(k,V,k.length,y),V=0;V<j;V++)q*=y;this.imuln(q),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},e.prototype.copy=function(k){k.words=new Array(this.length);for(var y=0;y<this.length;y++)k.words[y]=this.words[y];k.length=this.length,k.negative=this.negative,k.red=this.red},e.prototype._move=function(k){d(k,this)},e.prototype.clone=function(){var k=new e(null);return this.copy(k),k},e.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{e.prototype.inspect=f}else e.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(k,y){var w;if(y=0|y||1,(k=k||10)===16||k==="hex"){w="";for(var v=0,_=0,T=0;T<this.length;T++){var j=this.words[T],O=(16777215&(j<<v|_)).toString(16);_=j>>>24-v&16777215,(v+=2)>=26&&(v-=26,T--),w=_!==0||T!==this.length-1?u[6-O.length]+O+w:O+w}for(_!==0&&(w=_.toString(16)+w);w.length%y!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(k===(0|k)&&k>=2&&k<=36){var z=g[k],V=p[k];w="";var q=this.clone();for(q.negative=0;!q.isZero();){var P=q.modrn(V).toString(k);w=(q=q.idivn(V)).isZero()?P+w:u[z-P.length]+P+w}for(this.isZero()&&(w="0"+w);w.length%y!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}a(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},e.prototype.toJSON=function(){return this.toString(16,2)},r&&(e.prototype.toBuffer=function(k,y){return this.toArrayLike(r,k,y)}),e.prototype.toArray=function(k,y){return this.toArrayLike(Array,k,y)};function x(k,y,w){w.negative=y.negative^k.negative;var v=k.length+y.length|0;w.length=v,v=v-1|0;var _=0|k.words[0],T=0|y.words[0],j=_*T,O=67108863&j,z=j/67108864|0;w.words[0]=O;for(var V=1;V<v;V++){for(var q=z>>>26,P=67108863&z,G=Math.min(V,y.length-1),I=Math.max(0,V-k.length+1);I<=G;I++){var A=V-I|0;q+=(j=(_=0|k.words[A])*(T=0|y.words[I])+P)/67108864|0,P=67108863&j}w.words[V]=0|P,z=0|q}return z!==0?w.words[V]=0|z:w.length--,w._strip()}e.prototype.toArrayLike=function(k,y,w){this._strip();var v=this.byteLength(),_=w||Math.max(1,v);a(v<=_,"byte array longer than desired length"),a(_>0,"Requested array length <= 0");var T=function(j,O){return j.allocUnsafe?j.allocUnsafe(O):new j(O)}(k,_);return this["_toArrayLike"+(y==="le"?"LE":"BE")](T,v),T},e.prototype._toArrayLikeLE=function(k,y){for(var w=0,v=0,_=0,T=0;_<this.length;_++){var j=this.words[_]<<T|v;k[w++]=255&j,w<k.length&&(k[w++]=j>>8&255),w<k.length&&(k[w++]=j>>16&255),T===6?(w<k.length&&(k[w++]=j>>24&255),v=0,T=0):(v=j>>>24,T+=2)}if(w<k.length)for(k[w++]=v;w<k.length;)k[w++]=0},e.prototype._toArrayLikeBE=function(k,y){for(var w=k.length-1,v=0,_=0,T=0;_<this.length;_++){var j=this.words[_]<<T|v;k[w--]=255&j,w>=0&&(k[w--]=j>>8&255),w>=0&&(k[w--]=j>>16&255),T===6?(w>=0&&(k[w--]=j>>24&255),v=0,T=0):(v=j>>>24,T+=2)}if(w>=0)for(k[w--]=v;w>=0;)k[w--]=0},Math.clz32?e.prototype._countBits=function(k){return 32-Math.clz32(k)}:e.prototype._countBits=function(k){var y=k,w=0;return y>=4096&&(w+=13,y>>>=13),y>=64&&(w+=7,y>>>=7),y>=8&&(w+=4,y>>>=4),y>=2&&(w+=2,y>>>=2),w+y},e.prototype._zeroBits=function(k){if(k===0)return 26;var y=k,w=0;return!(8191&y)&&(w+=13,y>>>=13),!(127&y)&&(w+=7,y>>>=7),!(15&y)&&(w+=4,y>>>=4),!(3&y)&&(w+=2,y>>>=2),!(1&y)&&w++,w},e.prototype.bitLength=function(){var k=this.words[this.length-1],y=this._countBits(k);return 26*(this.length-1)+y},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,y=0;y<this.length;y++){var w=this._zeroBits(this.words[y]);if(k+=w,w!==26)break}return k},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},e.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var y=0;y<k.length;y++)this.words[y]=this.words[y]|k.words[y];return this._strip()},e.prototype.ior=function(k){return a((this.negative|k.negative)==0),this.iuor(k)},e.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},e.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},e.prototype.iuand=function(k){var y;y=this.length>k.length?k:this;for(var w=0;w<y.length;w++)this.words[w]=this.words[w]&k.words[w];return this.length=y.length,this._strip()},e.prototype.iand=function(k){return a((this.negative|k.negative)==0),this.iuand(k)},e.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},e.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},e.prototype.iuxor=function(k){var y,w;this.length>k.length?(y=this,w=k):(y=k,w=this);for(var v=0;v<w.length;v++)this.words[v]=y.words[v]^w.words[v];if(this!==y)for(;v<y.length;v++)this.words[v]=y.words[v];return this.length=y.length,this._strip()},e.prototype.ixor=function(k){return a((this.negative|k.negative)==0),this.iuxor(k)},e.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},e.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},e.prototype.inotn=function(k){a(typeof k=="number"&&k>=0);var y=0|Math.ceil(k/26),w=k%26;this._expand(y),w>0&&y--;for(var v=0;v<y;v++)this.words[v]=67108863&~this.words[v];return w>0&&(this.words[v]=~this.words[v]&67108863>>26-w),this._strip()},e.prototype.notn=function(k){return this.clone().inotn(k)},e.prototype.setn=function(k,y){a(typeof k=="number"&&k>=0);var w=k/26|0,v=k%26;return this._expand(w+1),this.words[w]=y?this.words[w]|1<<v:this.words[w]&~(1<<v),this._strip()},e.prototype.iadd=function(k){var y,w,v;if(this.negative!==0&&k.negative===0)return this.negative=0,y=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,y=this.isub(k),k.negative=1,y._normSign();this.length>k.length?(w=this,v=k):(w=k,v=this);for(var _=0,T=0;T<v.length;T++)y=(0|w.words[T])+(0|v.words[T])+_,this.words[T]=67108863&y,_=y>>>26;for(;_!==0&&T<w.length;T++)y=(0|w.words[T])+_,this.words[T]=67108863&y,_=y>>>26;if(this.length=w.length,_!==0)this.words[this.length]=_,this.length++;else if(w!==this)for(;T<w.length;T++)this.words[T]=w.words[T];return this},e.prototype.add=function(k){var y;return k.negative!==0&&this.negative===0?(k.negative=0,y=this.sub(k),k.negative^=1,y):k.negative===0&&this.negative!==0?(this.negative=0,y=k.sub(this),this.negative=1,y):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},e.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var y=this.iadd(k);return k.negative=1,y._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var w,v,_=this.cmp(k);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(w=this,v=k):(w=k,v=this);for(var T=0,j=0;j<v.length;j++)T=(y=(0|w.words[j])-(0|v.words[j])+T)>>26,this.words[j]=67108863&y;for(;T!==0&&j<w.length;j++)T=(y=(0|w.words[j])+T)>>26,this.words[j]=67108863&y;if(T===0&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(k){return this.clone().isub(k)};var S=function(k,y,w){var v,_,T,j=k.words,O=y.words,z=w.words,V=0,q=0|j[0],P=8191&q,G=q>>>13,I=0|j[1],A=8191&I,H=I>>>13,X=0|j[2],J=8191&X,Y=X>>>13,Q=0|j[3],it=8191&Q,st=Q>>>13,K=0|j[4],et=8191&K,rt=K>>>13,at=0|j[5],ot=8191&at,ct=at>>>13,dt=0|j[6],ft=8191&dt,gt=dt>>>13,Dt=0|j[7],Tt=8191&Dt,wt=Dt>>>13,Lt=0|j[8],Wt=8191&Lt,zt=Lt>>>13,Ht=0|j[9],It=8191&Ht,St=Ht>>>13,Pt=0|O[0],Ft=8191&Pt,Bt=Pt>>>13,Qt=0|O[1],ae=8191&Qt,Vt=Qt>>>13,le=0|O[2],ne=8191&le,Ct=le>>>13,mt=0|O[3],ht=8191&mt,Nt=mt>>>13,_t=0|O[4],bt=8191&_t,Et=_t>>>13,Gt=0|O[5],te=8191&Gt,Mt=Gt>>>13,nt=0|O[6],lt=8191&nt,pt=nt>>>13,At=0|O[7],Zt=8191&At,Ot=At>>>13,ee=0|O[8],Kt=8191&ee,Yt=ee>>>13,se=0|O[9],re=8191&se,ce=se>>>13;w.negative=k.negative^y.negative,w.length=19;var Ee=(V+(v=Math.imul(P,Ft))|0)+((8191&(_=(_=Math.imul(P,Bt))+Math.imul(G,Ft)|0))<<13)|0;V=((T=Math.imul(G,Bt))+(_>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,v=Math.imul(A,Ft),_=(_=Math.imul(A,Bt))+Math.imul(H,Ft)|0,T=Math.imul(H,Bt);var ie=(V+(v=v+Math.imul(P,ae)|0)|0)+((8191&(_=(_=_+Math.imul(P,Vt)|0)+Math.imul(G,ae)|0))<<13)|0;V=((T=T+Math.imul(G,Vt)|0)+(_>>>13)|0)+(ie>>>26)|0,ie&=67108863,v=Math.imul(J,Ft),_=(_=Math.imul(J,Bt))+Math.imul(Y,Ft)|0,T=Math.imul(Y,Bt),v=v+Math.imul(A,ae)|0,_=(_=_+Math.imul(A,Vt)|0)+Math.imul(H,ae)|0,T=T+Math.imul(H,Vt)|0;var ye=(V+(v=v+Math.imul(P,ne)|0)|0)+((8191&(_=(_=_+Math.imul(P,Ct)|0)+Math.imul(G,ne)|0))<<13)|0;V=((T=T+Math.imul(G,Ct)|0)+(_>>>13)|0)+(ye>>>26)|0,ye&=67108863,v=Math.imul(it,Ft),_=(_=Math.imul(it,Bt))+Math.imul(st,Ft)|0,T=Math.imul(st,Bt),v=v+Math.imul(J,ae)|0,_=(_=_+Math.imul(J,Vt)|0)+Math.imul(Y,ae)|0,T=T+Math.imul(Y,Vt)|0,v=v+Math.imul(A,ne)|0,_=(_=_+Math.imul(A,Ct)|0)+Math.imul(H,ne)|0,T=T+Math.imul(H,Ct)|0;var ge=(V+(v=v+Math.imul(P,ht)|0)|0)+((8191&(_=(_=_+Math.imul(P,Nt)|0)+Math.imul(G,ht)|0))<<13)|0;V=((T=T+Math.imul(G,Nt)|0)+(_>>>13)|0)+(ge>>>26)|0,ge&=67108863,v=Math.imul(et,Ft),_=(_=Math.imul(et,Bt))+Math.imul(rt,Ft)|0,T=Math.imul(rt,Bt),v=v+Math.imul(it,ae)|0,_=(_=_+Math.imul(it,Vt)|0)+Math.imul(st,ae)|0,T=T+Math.imul(st,Vt)|0,v=v+Math.imul(J,ne)|0,_=(_=_+Math.imul(J,Ct)|0)+Math.imul(Y,ne)|0,T=T+Math.imul(Y,Ct)|0,v=v+Math.imul(A,ht)|0,_=(_=_+Math.imul(A,Nt)|0)+Math.imul(H,ht)|0,T=T+Math.imul(H,Nt)|0;var Pe=(V+(v=v+Math.imul(P,bt)|0)|0)+((8191&(_=(_=_+Math.imul(P,Et)|0)+Math.imul(G,bt)|0))<<13)|0;V=((T=T+Math.imul(G,Et)|0)+(_>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,v=Math.imul(ot,Ft),_=(_=Math.imul(ot,Bt))+Math.imul(ct,Ft)|0,T=Math.imul(ct,Bt),v=v+Math.imul(et,ae)|0,_=(_=_+Math.imul(et,Vt)|0)+Math.imul(rt,ae)|0,T=T+Math.imul(rt,Vt)|0,v=v+Math.imul(it,ne)|0,_=(_=_+Math.imul(it,Ct)|0)+Math.imul(st,ne)|0,T=T+Math.imul(st,Ct)|0,v=v+Math.imul(J,ht)|0,_=(_=_+Math.imul(J,Nt)|0)+Math.imul(Y,ht)|0,T=T+Math.imul(Y,Nt)|0,v=v+Math.imul(A,bt)|0,_=(_=_+Math.imul(A,Et)|0)+Math.imul(H,bt)|0,T=T+Math.imul(H,Et)|0;var tt=(V+(v=v+Math.imul(P,te)|0)|0)+((8191&(_=(_=_+Math.imul(P,Mt)|0)+Math.imul(G,te)|0))<<13)|0;V=((T=T+Math.imul(G,Mt)|0)+(_>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(ft,Ft),_=(_=Math.imul(ft,Bt))+Math.imul(gt,Ft)|0,T=Math.imul(gt,Bt),v=v+Math.imul(ot,ae)|0,_=(_=_+Math.imul(ot,Vt)|0)+Math.imul(ct,ae)|0,T=T+Math.imul(ct,Vt)|0,v=v+Math.imul(et,ne)|0,_=(_=_+Math.imul(et,Ct)|0)+Math.imul(rt,ne)|0,T=T+Math.imul(rt,Ct)|0,v=v+Math.imul(it,ht)|0,_=(_=_+Math.imul(it,Nt)|0)+Math.imul(st,ht)|0,T=T+Math.imul(st,Nt)|0,v=v+Math.imul(J,bt)|0,_=(_=_+Math.imul(J,Et)|0)+Math.imul(Y,bt)|0,T=T+Math.imul(Y,Et)|0,v=v+Math.imul(A,te)|0,_=(_=_+Math.imul(A,Mt)|0)+Math.imul(H,te)|0,T=T+Math.imul(H,Mt)|0;var ut=(V+(v=v+Math.imul(P,lt)|0)|0)+((8191&(_=(_=_+Math.imul(P,pt)|0)+Math.imul(G,lt)|0))<<13)|0;V=((T=T+Math.imul(G,pt)|0)+(_>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(Tt,Ft),_=(_=Math.imul(Tt,Bt))+Math.imul(wt,Ft)|0,T=Math.imul(wt,Bt),v=v+Math.imul(ft,ae)|0,_=(_=_+Math.imul(ft,Vt)|0)+Math.imul(gt,ae)|0,T=T+Math.imul(gt,Vt)|0,v=v+Math.imul(ot,ne)|0,_=(_=_+Math.imul(ot,Ct)|0)+Math.imul(ct,ne)|0,T=T+Math.imul(ct,Ct)|0,v=v+Math.imul(et,ht)|0,_=(_=_+Math.imul(et,Nt)|0)+Math.imul(rt,ht)|0,T=T+Math.imul(rt,Nt)|0,v=v+Math.imul(it,bt)|0,_=(_=_+Math.imul(it,Et)|0)+Math.imul(st,bt)|0,T=T+Math.imul(st,Et)|0,v=v+Math.imul(J,te)|0,_=(_=_+Math.imul(J,Mt)|0)+Math.imul(Y,te)|0,T=T+Math.imul(Y,Mt)|0,v=v+Math.imul(A,lt)|0,_=(_=_+Math.imul(A,pt)|0)+Math.imul(H,lt)|0,T=T+Math.imul(H,pt)|0;var yt=(V+(v=v+Math.imul(P,Zt)|0)|0)+((8191&(_=(_=_+Math.imul(P,Ot)|0)+Math.imul(G,Zt)|0))<<13)|0;V=((T=T+Math.imul(G,Ot)|0)+(_>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(Wt,Ft),_=(_=Math.imul(Wt,Bt))+Math.imul(zt,Ft)|0,T=Math.imul(zt,Bt),v=v+Math.imul(Tt,ae)|0,_=(_=_+Math.imul(Tt,Vt)|0)+Math.imul(wt,ae)|0,T=T+Math.imul(wt,Vt)|0,v=v+Math.imul(ft,ne)|0,_=(_=_+Math.imul(ft,Ct)|0)+Math.imul(gt,ne)|0,T=T+Math.imul(gt,Ct)|0,v=v+Math.imul(ot,ht)|0,_=(_=_+Math.imul(ot,Nt)|0)+Math.imul(ct,ht)|0,T=T+Math.imul(ct,Nt)|0,v=v+Math.imul(et,bt)|0,_=(_=_+Math.imul(et,Et)|0)+Math.imul(rt,bt)|0,T=T+Math.imul(rt,Et)|0,v=v+Math.imul(it,te)|0,_=(_=_+Math.imul(it,Mt)|0)+Math.imul(st,te)|0,T=T+Math.imul(st,Mt)|0,v=v+Math.imul(J,lt)|0,_=(_=_+Math.imul(J,pt)|0)+Math.imul(Y,lt)|0,T=T+Math.imul(Y,pt)|0,v=v+Math.imul(A,Zt)|0,_=(_=_+Math.imul(A,Ot)|0)+Math.imul(H,Zt)|0,T=T+Math.imul(H,Ot)|0;var kt=(V+(v=v+Math.imul(P,Kt)|0)|0)+((8191&(_=(_=_+Math.imul(P,Yt)|0)+Math.imul(G,Kt)|0))<<13)|0;V=((T=T+Math.imul(G,Yt)|0)+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,v=Math.imul(It,Ft),_=(_=Math.imul(It,Bt))+Math.imul(St,Ft)|0,T=Math.imul(St,Bt),v=v+Math.imul(Wt,ae)|0,_=(_=_+Math.imul(Wt,Vt)|0)+Math.imul(zt,ae)|0,T=T+Math.imul(zt,Vt)|0,v=v+Math.imul(Tt,ne)|0,_=(_=_+Math.imul(Tt,Ct)|0)+Math.imul(wt,ne)|0,T=T+Math.imul(wt,Ct)|0,v=v+Math.imul(ft,ht)|0,_=(_=_+Math.imul(ft,Nt)|0)+Math.imul(gt,ht)|0,T=T+Math.imul(gt,Nt)|0,v=v+Math.imul(ot,bt)|0,_=(_=_+Math.imul(ot,Et)|0)+Math.imul(ct,bt)|0,T=T+Math.imul(ct,Et)|0,v=v+Math.imul(et,te)|0,_=(_=_+Math.imul(et,Mt)|0)+Math.imul(rt,te)|0,T=T+Math.imul(rt,Mt)|0,v=v+Math.imul(it,lt)|0,_=(_=_+Math.imul(it,pt)|0)+Math.imul(st,lt)|0,T=T+Math.imul(st,pt)|0,v=v+Math.imul(J,Zt)|0,_=(_=_+Math.imul(J,Ot)|0)+Math.imul(Y,Zt)|0,T=T+Math.imul(Y,Ot)|0,v=v+Math.imul(A,Kt)|0,_=(_=_+Math.imul(A,Yt)|0)+Math.imul(H,Kt)|0,T=T+Math.imul(H,Yt)|0;var Xt=(V+(v=v+Math.imul(P,re)|0)|0)+((8191&(_=(_=_+Math.imul(P,ce)|0)+Math.imul(G,re)|0))<<13)|0;V=((T=T+Math.imul(G,ce)|0)+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(It,ae),_=(_=Math.imul(It,Vt))+Math.imul(St,ae)|0,T=Math.imul(St,Vt),v=v+Math.imul(Wt,ne)|0,_=(_=_+Math.imul(Wt,Ct)|0)+Math.imul(zt,ne)|0,T=T+Math.imul(zt,Ct)|0,v=v+Math.imul(Tt,ht)|0,_=(_=_+Math.imul(Tt,Nt)|0)+Math.imul(wt,ht)|0,T=T+Math.imul(wt,Nt)|0,v=v+Math.imul(ft,bt)|0,_=(_=_+Math.imul(ft,Et)|0)+Math.imul(gt,bt)|0,T=T+Math.imul(gt,Et)|0,v=v+Math.imul(ot,te)|0,_=(_=_+Math.imul(ot,Mt)|0)+Math.imul(ct,te)|0,T=T+Math.imul(ct,Mt)|0,v=v+Math.imul(et,lt)|0,_=(_=_+Math.imul(et,pt)|0)+Math.imul(rt,lt)|0,T=T+Math.imul(rt,pt)|0,v=v+Math.imul(it,Zt)|0,_=(_=_+Math.imul(it,Ot)|0)+Math.imul(st,Zt)|0,T=T+Math.imul(st,Ot)|0,v=v+Math.imul(J,Kt)|0,_=(_=_+Math.imul(J,Yt)|0)+Math.imul(Y,Kt)|0,T=T+Math.imul(Y,Yt)|0;var jt=(V+(v=v+Math.imul(A,re)|0)|0)+((8191&(_=(_=_+Math.imul(A,ce)|0)+Math.imul(H,re)|0))<<13)|0;V=((T=T+Math.imul(H,ce)|0)+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,v=Math.imul(It,ne),_=(_=Math.imul(It,Ct))+Math.imul(St,ne)|0,T=Math.imul(St,Ct),v=v+Math.imul(Wt,ht)|0,_=(_=_+Math.imul(Wt,Nt)|0)+Math.imul(zt,ht)|0,T=T+Math.imul(zt,Nt)|0,v=v+Math.imul(Tt,bt)|0,_=(_=_+Math.imul(Tt,Et)|0)+Math.imul(wt,bt)|0,T=T+Math.imul(wt,Et)|0,v=v+Math.imul(ft,te)|0,_=(_=_+Math.imul(ft,Mt)|0)+Math.imul(gt,te)|0,T=T+Math.imul(gt,Mt)|0,v=v+Math.imul(ot,lt)|0,_=(_=_+Math.imul(ot,pt)|0)+Math.imul(ct,lt)|0,T=T+Math.imul(ct,pt)|0,v=v+Math.imul(et,Zt)|0,_=(_=_+Math.imul(et,Ot)|0)+Math.imul(rt,Zt)|0,T=T+Math.imul(rt,Ot)|0,v=v+Math.imul(it,Kt)|0,_=(_=_+Math.imul(it,Yt)|0)+Math.imul(st,Kt)|0,T=T+Math.imul(st,Yt)|0;var Rt=(V+(v=v+Math.imul(J,re)|0)|0)+((8191&(_=(_=_+Math.imul(J,ce)|0)+Math.imul(Y,re)|0))<<13)|0;V=((T=T+Math.imul(Y,ce)|0)+(_>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,v=Math.imul(It,ht),_=(_=Math.imul(It,Nt))+Math.imul(St,ht)|0,T=Math.imul(St,Nt),v=v+Math.imul(Wt,bt)|0,_=(_=_+Math.imul(Wt,Et)|0)+Math.imul(zt,bt)|0,T=T+Math.imul(zt,Et)|0,v=v+Math.imul(Tt,te)|0,_=(_=_+Math.imul(Tt,Mt)|0)+Math.imul(wt,te)|0,T=T+Math.imul(wt,Mt)|0,v=v+Math.imul(ft,lt)|0,_=(_=_+Math.imul(ft,pt)|0)+Math.imul(gt,lt)|0,T=T+Math.imul(gt,pt)|0,v=v+Math.imul(ot,Zt)|0,_=(_=_+Math.imul(ot,Ot)|0)+Math.imul(ct,Zt)|0,T=T+Math.imul(ct,Ot)|0,v=v+Math.imul(et,Kt)|0,_=(_=_+Math.imul(et,Yt)|0)+Math.imul(rt,Kt)|0,T=T+Math.imul(rt,Yt)|0;var me=(V+(v=v+Math.imul(it,re)|0)|0)+((8191&(_=(_=_+Math.imul(it,ce)|0)+Math.imul(st,re)|0))<<13)|0;V=((T=T+Math.imul(st,ce)|0)+(_>>>13)|0)+(me>>>26)|0,me&=67108863,v=Math.imul(It,bt),_=(_=Math.imul(It,Et))+Math.imul(St,bt)|0,T=Math.imul(St,Et),v=v+Math.imul(Wt,te)|0,_=(_=_+Math.imul(Wt,Mt)|0)+Math.imul(zt,te)|0,T=T+Math.imul(zt,Mt)|0,v=v+Math.imul(Tt,lt)|0,_=(_=_+Math.imul(Tt,pt)|0)+Math.imul(wt,lt)|0,T=T+Math.imul(wt,pt)|0,v=v+Math.imul(ft,Zt)|0,_=(_=_+Math.imul(ft,Ot)|0)+Math.imul(gt,Zt)|0,T=T+Math.imul(gt,Ot)|0,v=v+Math.imul(ot,Kt)|0,_=(_=_+Math.imul(ot,Yt)|0)+Math.imul(ct,Kt)|0,T=T+Math.imul(ct,Yt)|0;var ue=(V+(v=v+Math.imul(et,re)|0)|0)+((8191&(_=(_=_+Math.imul(et,ce)|0)+Math.imul(rt,re)|0))<<13)|0;V=((T=T+Math.imul(rt,ce)|0)+(_>>>13)|0)+(ue>>>26)|0,ue&=67108863,v=Math.imul(It,te),_=(_=Math.imul(It,Mt))+Math.imul(St,te)|0,T=Math.imul(St,Mt),v=v+Math.imul(Wt,lt)|0,_=(_=_+Math.imul(Wt,pt)|0)+Math.imul(zt,lt)|0,T=T+Math.imul(zt,pt)|0,v=v+Math.imul(Tt,Zt)|0,_=(_=_+Math.imul(Tt,Ot)|0)+Math.imul(wt,Zt)|0,T=T+Math.imul(wt,Ot)|0,v=v+Math.imul(ft,Kt)|0,_=(_=_+Math.imul(ft,Yt)|0)+Math.imul(gt,Kt)|0,T=T+Math.imul(gt,Yt)|0;var de=(V+(v=v+Math.imul(ot,re)|0)|0)+((8191&(_=(_=_+Math.imul(ot,ce)|0)+Math.imul(ct,re)|0))<<13)|0;V=((T=T+Math.imul(ct,ce)|0)+(_>>>13)|0)+(de>>>26)|0,de&=67108863,v=Math.imul(It,lt),_=(_=Math.imul(It,pt))+Math.imul(St,lt)|0,T=Math.imul(St,pt),v=v+Math.imul(Wt,Zt)|0,_=(_=_+Math.imul(Wt,Ot)|0)+Math.imul(zt,Zt)|0,T=T+Math.imul(zt,Ot)|0,v=v+Math.imul(Tt,Kt)|0,_=(_=_+Math.imul(Tt,Yt)|0)+Math.imul(wt,Kt)|0,T=T+Math.imul(wt,Yt)|0;var Jt=(V+(v=v+Math.imul(ft,re)|0)|0)+((8191&(_=(_=_+Math.imul(ft,ce)|0)+Math.imul(gt,re)|0))<<13)|0;V=((T=T+Math.imul(gt,ce)|0)+(_>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(It,Zt),_=(_=Math.imul(It,Ot))+Math.imul(St,Zt)|0,T=Math.imul(St,Ot),v=v+Math.imul(Wt,Kt)|0,_=(_=_+Math.imul(Wt,Yt)|0)+Math.imul(zt,Kt)|0,T=T+Math.imul(zt,Yt)|0;var ve=(V+(v=v+Math.imul(Tt,re)|0)|0)+((8191&(_=(_=_+Math.imul(Tt,ce)|0)+Math.imul(wt,re)|0))<<13)|0;V=((T=T+Math.imul(wt,ce)|0)+(_>>>13)|0)+(ve>>>26)|0,ve&=67108863,v=Math.imul(It,Kt),_=(_=Math.imul(It,Yt))+Math.imul(St,Kt)|0,T=Math.imul(St,Yt);var we=(V+(v=v+Math.imul(Wt,re)|0)|0)+((8191&(_=(_=_+Math.imul(Wt,ce)|0)+Math.imul(zt,re)|0))<<13)|0;V=((T=T+Math.imul(zt,ce)|0)+(_>>>13)|0)+(we>>>26)|0,we&=67108863;var ke=(V+(v=Math.imul(It,re))|0)+((8191&(_=(_=Math.imul(It,ce))+Math.imul(St,re)|0))<<13)|0;return V=((T=Math.imul(St,ce))+(_>>>13)|0)+(ke>>>26)|0,ke&=67108863,z[0]=Ee,z[1]=ie,z[2]=ye,z[3]=ge,z[4]=Pe,z[5]=tt,z[6]=ut,z[7]=yt,z[8]=kt,z[9]=Xt,z[10]=jt,z[11]=Rt,z[12]=me,z[13]=ue,z[14]=de,z[15]=Jt,z[16]=ve,z[17]=we,z[18]=ke,V!==0&&(z[19]=V,w.length++),w};function M(k,y,w){w.negative=y.negative^k.negative,w.length=k.length+y.length;for(var v=0,_=0,T=0;T<w.length-1;T++){var j=_;_=0;for(var O=67108863&v,z=Math.min(T,y.length-1),V=Math.max(0,T-k.length+1);V<=z;V++){var q=T-V,P=(0|k.words[q])*(0|y.words[V]),G=67108863&P;O=67108863&(G=G+O|0),_+=(j=(j=j+(P/67108864|0)|0)+(G>>>26)|0)>>>26,j&=67108863}w.words[T]=O,v=j,j=_}return v!==0?w.words[T]=v:w.length--,w._strip()}function R(k,y,w){return M(k,y,w)}Math.imul||(S=x),e.prototype.mulTo=function(k,y){var w=this.length+k.length;return this.length===10&&k.length===10?S(this,k,y):w<63?x(this,k,y):w<1024?M(this,k,y):R(this,k,y)},e.prototype.mul=function(k){var y=new e(null);return y.words=new Array(this.length+k.length),this.mulTo(k,y)},e.prototype.mulf=function(k){var y=new e(null);return y.words=new Array(this.length+k.length),R(this,k,y)},e.prototype.imul=function(k){return this.clone().mulTo(k,this)},e.prototype.imuln=function(k){var y=k<0;y&&(k=-k),a(typeof k=="number"),a(k<67108864);for(var w=0,v=0;v<this.length;v++){var _=(0|this.words[v])*k,T=(67108863&_)+(67108863&w);w>>=26,w+=_/67108864|0,w+=T>>>26,this.words[v]=67108863&T}return w!==0&&(this.words[v]=w,this.length++),y?this.ineg():this},e.prototype.muln=function(k){return this.clone().imuln(k)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(k){var y=function(T){for(var j=new Array(T.bitLength()),O=0;O<j.length;O++){var z=O/26|0,V=O%26;j[O]=T.words[z]>>>V&1}return j}(k);if(y.length===0)return new e(1);for(var w=this,v=0;v<y.length&&y[v]===0;v++,w=w.sqr());if(++v<y.length)for(var _=w.sqr();v<y.length;v++,_=_.sqr())y[v]!==0&&(w=w.mul(_));return w},e.prototype.iushln=function(k){a(typeof k=="number"&&k>=0);var y,w=k%26,v=(k-w)/26,_=67108863>>>26-w<<26-w;if(w!==0){var T=0;for(y=0;y<this.length;y++){var j=this.words[y]&_,O=(0|this.words[y])-j<<w;this.words[y]=O|T,T=j>>>26-w}T&&(this.words[y]=T,this.length++)}if(v!==0){for(y=this.length-1;y>=0;y--)this.words[y+v]=this.words[y];for(y=0;y<v;y++)this.words[y]=0;this.length+=v}return this._strip()},e.prototype.ishln=function(k){return a(this.negative===0),this.iushln(k)},e.prototype.iushrn=function(k,y,w){var v;a(typeof k=="number"&&k>=0),v=y?(y-y%26)/26:0;var _=k%26,T=Math.min((k-_)/26,this.length),j=67108863^67108863>>>_<<_,O=w;if(v-=T,v=Math.max(0,v),O){for(var z=0;z<T;z++)O.words[z]=this.words[z];O.length=T}if(T!==0)if(this.length>T)for(this.length-=T,z=0;z<this.length;z++)this.words[z]=this.words[z+T];else this.words[0]=0,this.length=1;var V=0;for(z=this.length-1;z>=0&&(V!==0||z>=v);z--){var q=0|this.words[z];this.words[z]=V<<26-_|q>>>_,V=q&j}return O&&V!==0&&(O.words[O.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(k,y,w){return a(this.negative===0),this.iushrn(k,y,w)},e.prototype.shln=function(k){return this.clone().ishln(k)},e.prototype.ushln=function(k){return this.clone().iushln(k)},e.prototype.shrn=function(k){return this.clone().ishrn(k)},e.prototype.ushrn=function(k){return this.clone().iushrn(k)},e.prototype.testn=function(k){a(typeof k=="number"&&k>=0);var y=k%26,w=(k-y)/26,v=1<<y;return!(this.length<=w)&&!!(this.words[w]&v)},e.prototype.imaskn=function(k){a(typeof k=="number"&&k>=0);var y=k%26,w=(k-y)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(y!==0&&w++,this.length=Math.min(w,this.length),y!==0){var v=67108863^67108863>>>y<<y;this.words[this.length-1]&=v}return this._strip()},e.prototype.maskn=function(k){return this.clone().imaskn(k)},e.prototype.iaddn=function(k){return a(typeof k=="number"),a(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<=k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},e.prototype._iaddn=function(k){this.words[0]+=k;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},e.prototype.isubn=function(k){if(a(typeof k=="number"),a(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},e.prototype.addn=function(k){return this.clone().iaddn(k)},e.prototype.subn=function(k){return this.clone().isubn(k)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(k,y,w){var v,_,T=k.length+w;this._expand(T);var j=0;for(v=0;v<k.length;v++){_=(0|this.words[v+w])+j;var O=(0|k.words[v])*y;j=((_-=67108863&O)>>26)-(O/67108864|0),this.words[v+w]=67108863&_}for(;v<this.length-w;v++)j=(_=(0|this.words[v+w])+j)>>26,this.words[v+w]=67108863&_;if(j===0)return this._strip();for(a(j===-1),j=0,v=0;v<this.length;v++)j=(_=-(0|this.words[v])+j)>>26,this.words[v]=67108863&_;return this.negative=1,this._strip()},e.prototype._wordDiv=function(k,y){var w=(this.length,k.length),v=this.clone(),_=k,T=0|_.words[_.length-1];(w=26-this._countBits(T))!==0&&(_=_.ushln(w),v.iushln(w),T=0|_.words[_.length-1]);var j,O=v.length-_.length;if(y!=="mod"){(j=new e(null)).length=O+1,j.words=new Array(j.length);for(var z=0;z<j.length;z++)j.words[z]=0}var V=v.clone()._ishlnsubmul(_,1,O);V.negative===0&&(v=V,j&&(j.words[O]=1));for(var q=O-1;q>=0;q--){var P=67108864*(0|v.words[_.length+q])+(0|v.words[_.length+q-1]);for(P=Math.min(P/T|0,67108863),v._ishlnsubmul(_,P,q);v.negative!==0;)P--,v.negative=0,v._ishlnsubmul(_,1,q),v.isZero()||(v.negative^=1);j&&(j.words[q]=P)}return j&&j._strip(),v._strip(),y!=="div"&&w!==0&&v.iushrn(w),{div:j||null,mod:v}},e.prototype.divmod=function(k,y,w){return a(!k.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:this.negative!==0&&k.negative===0?(T=this.neg().divmod(k,y),y!=="mod"&&(v=T.div.neg()),y!=="div"&&(_=T.mod.neg(),w&&_.negative!==0&&_.iadd(k)),{div:v,mod:_}):this.negative===0&&k.negative!==0?(T=this.divmod(k.neg(),y),y!=="mod"&&(v=T.div.neg()),{div:v,mod:T.mod}):this.negative&k.negative?(T=this.neg().divmod(k.neg(),y),y!=="div"&&(_=T.mod.neg(),w&&_.negative!==0&&_.isub(k)),{div:T.div,mod:_}):k.length>this.length||this.cmp(k)<0?{div:new e(0),mod:this}:k.length===1?y==="div"?{div:this.divn(k.words[0]),mod:null}:y==="mod"?{div:null,mod:new e(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new e(this.modrn(k.words[0]))}:this._wordDiv(k,y);var v,_,T},e.prototype.div=function(k){return this.divmod(k,"div",!1).div},e.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},e.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},e.prototype.divRound=function(k){var y=this.divmod(k);if(y.mod.isZero())return y.div;var w=y.div.negative!==0?y.mod.isub(k):y.mod,v=k.ushrn(1),_=k.andln(1),T=w.cmp(v);return T<0||_===1&&T===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},e.prototype.modrn=function(k){var y=k<0;y&&(k=-k),a(k<=67108863);for(var w=(1<<26)%k,v=0,_=this.length-1;_>=0;_--)v=(w*v+(0|this.words[_]))%k;return y?-v:v},e.prototype.modn=function(k){return this.modrn(k)},e.prototype.idivn=function(k){var y=k<0;y&&(k=-k),a(k<=67108863);for(var w=0,v=this.length-1;v>=0;v--){var _=(0|this.words[v])+67108864*w;this.words[v]=_/k|0,w=_%k}return this._strip(),y?this.ineg():this},e.prototype.divn=function(k){return this.clone().idivn(k)},e.prototype.egcd=function(k){a(k.negative===0),a(!k.isZero());var y=this,w=k.clone();y=y.negative!==0?y.umod(k):y.clone();for(var v=new e(1),_=new e(0),T=new e(0),j=new e(1),O=0;y.isEven()&&w.isEven();)y.iushrn(1),w.iushrn(1),++O;for(var z=w.clone(),V=y.clone();!y.isZero();){for(var q=0,P=1;!(y.words[0]&P)&&q<26;++q,P<<=1);if(q>0)for(y.iushrn(q);q-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(z),_.isub(V)),v.iushrn(1),_.iushrn(1);for(var G=0,I=1;!(w.words[0]&I)&&G<26;++G,I<<=1);if(G>0)for(w.iushrn(G);G-- >0;)(T.isOdd()||j.isOdd())&&(T.iadd(z),j.isub(V)),T.iushrn(1),j.iushrn(1);y.cmp(w)>=0?(y.isub(w),v.isub(T),_.isub(j)):(w.isub(y),T.isub(v),j.isub(_))}return{a:T,b:j,gcd:w.iushln(O)}},e.prototype._invmp=function(k){a(k.negative===0),a(!k.isZero());var y=this,w=k.clone();y=y.negative!==0?y.umod(k):y.clone();for(var v,_=new e(1),T=new e(0),j=w.clone();y.cmpn(1)>0&&w.cmpn(1)>0;){for(var O=0,z=1;!(y.words[0]&z)&&O<26;++O,z<<=1);if(O>0)for(y.iushrn(O);O-- >0;)_.isOdd()&&_.iadd(j),_.iushrn(1);for(var V=0,q=1;!(w.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(w.iushrn(V);V-- >0;)T.isOdd()&&T.iadd(j),T.iushrn(1);y.cmp(w)>=0?(y.isub(w),_.isub(T)):(w.isub(y),T.isub(_))}return(v=y.cmpn(1)===0?_:T).cmpn(0)<0&&v.iadd(k),v},e.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var y=this.clone(),w=k.clone();y.negative=0,w.negative=0;for(var v=0;y.isEven()&&w.isEven();v++)y.iushrn(1),w.iushrn(1);for(;;){for(;y.isEven();)y.iushrn(1);for(;w.isEven();)w.iushrn(1);var _=y.cmp(w);if(_<0){var T=y;y=w,w=T}else if(_===0||w.cmpn(1)===0)break;y.isub(w)}return w.iushln(v)},e.prototype.invm=function(k){return this.egcd(k).a.umod(k)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(k){return this.words[0]&k},e.prototype.bincn=function(k){a(typeof k=="number");var y=k%26,w=(k-y)/26,v=1<<y;if(this.length<=w)return this._expand(w+1),this.words[w]|=v,this;for(var _=v,T=w;_!==0&&T<this.length;T++){var j=0|this.words[T];_=(j+=_)>>>26,j&=67108863,this.words[T]=j}return _!==0&&(this.words[T]=_,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(k){var y,w=k<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)y=1;else{w&&(k=-k),a(k<=67108863,"Number is too big");var v=0|this.words[0];y=v===k?0:v<k?-1:1}return this.negative!==0?0|-y:y},e.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var y=this.ucmp(k);return this.negative!==0?0|-y:y},e.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var y=0,w=this.length-1;w>=0;w--){var v=0|this.words[w],_=0|k.words[w];if(v!==_){v<_?y=-1:v>_&&(y=1);break}}return y},e.prototype.gtn=function(k){return this.cmpn(k)===1},e.prototype.gt=function(k){return this.cmp(k)===1},e.prototype.gten=function(k){return this.cmpn(k)>=0},e.prototype.gte=function(k){return this.cmp(k)>=0},e.prototype.ltn=function(k){return this.cmpn(k)===-1},e.prototype.lt=function(k){return this.cmp(k)===-1},e.prototype.lten=function(k){return this.cmpn(k)<=0},e.prototype.lte=function(k){return this.cmp(k)<=0},e.prototype.eqn=function(k){return this.cmpn(k)===0},e.prototype.eq=function(k){return this.cmp(k)===0},e.red=function(k){return new C(k)},e.prototype.toRed=function(k){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},e.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(k){return this.red=k,this},e.prototype.forceRed=function(k){return a(!this.red,"Already a number in reduction context"),this._forceRed(k)},e.prototype.redAdd=function(k){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},e.prototype.redIAdd=function(k){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},e.prototype.redSub=function(k){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},e.prototype.redISub=function(k){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},e.prototype.redShl=function(k){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},e.prototype.redMul=function(k){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},e.prototype.redIMul=function(k){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},e.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(k){return a(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var B={k256:null,p224:null,p192:null,p25519:null};function N(k,y){this.name=k,this.p=new e(y,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(k){if(typeof k=="string"){var y=e._prime(k);this.m=y.p,this.prime=y}else a(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function D(k){C.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}N.prototype._tmp=function(){var k=new e(null);return k.words=new Array(Math.ceil(this.n/13)),k},N.prototype.ireduce=function(k){var y,w=k;do this.split(w,this.tmp),y=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(y>this.n);var v=y<this.n?-1:w.ucmp(this.p);return v===0?(w.words[0]=0,w.length=1):v>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},N.prototype.split=function(k,y){k.iushrn(this.n,0,y)},N.prototype.imulK=function(k){return k.imul(this.k)},n(L,N),L.prototype.split=function(k,y){for(var w=Math.min(k.length,9),v=0;v<w;v++)y.words[v]=k.words[v];if(y.length=w,k.length<=9)return k.words[0]=0,void(k.length=1);var _=k.words[9];for(y.words[y.length++]=4194303&_,v=10;v<k.length;v++){var T=0|k.words[v];k.words[v-10]=(4194303&T)<<4|_>>>22,_=T}_>>>=22,k.words[v-10]=_,_===0&&k.length>10?k.length-=10:k.length-=9},L.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var y=0,w=0;w<k.length;w++){var v=0|k.words[w];y+=977*v,k.words[w]=67108863&y,y=64*v+(y/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},n(F,N),n($,N),n(W,N),W.prototype.imulK=function(k){for(var y=0,w=0;w<k.length;w++){var v=19*(0|k.words[w])+y,_=67108863&v;v>>>=26,k.words[w]=_,y=v}return y!==0&&(k.words[k.length++]=y),k},e._prime=function(k){if(B[k])return B[k];var y;if(k==="k256")y=new L;else if(k==="p224")y=new F;else if(k==="p192")y=new $;else{if(k!=="p25519")throw new Error("Unknown prime "+k);y=new W}return B[k]=y,y},C.prototype._verify1=function(k){a(k.negative===0,"red works only with positives"),a(k.red,"red works only with red numbers")},C.prototype._verify2=function(k,y){a((k.negative|y.negative)==0,"red works only with positives"),a(k.red&&k.red===y.red,"red works only with red numbers")},C.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(d(k,k.umod(this.m)._forceRed(this)),k)},C.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},C.prototype.add=function(k,y){this._verify2(k,y);var w=k.add(y);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},C.prototype.iadd=function(k,y){this._verify2(k,y);var w=k.iadd(y);return w.cmp(this.m)>=0&&w.isub(this.m),w},C.prototype.sub=function(k,y){this._verify2(k,y);var w=k.sub(y);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},C.prototype.isub=function(k,y){this._verify2(k,y);var w=k.isub(y);return w.cmpn(0)<0&&w.iadd(this.m),w},C.prototype.shl=function(k,y){return this._verify1(k),this.imod(k.ushln(y))},C.prototype.imul=function(k,y){return this._verify2(k,y),this.imod(k.imul(y))},C.prototype.mul=function(k,y){return this._verify2(k,y),this.imod(k.mul(y))},C.prototype.isqr=function(k){return this.imul(k,k.clone())},C.prototype.sqr=function(k){return this.mul(k,k)},C.prototype.sqrt=function(k){if(k.isZero())return k.clone();var y=this.m.andln(3);if(a(y%2==1),y===3){var w=this.m.add(new e(1)).iushrn(2);return this.pow(k,w)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);a(!v.isZero());var T=new e(1).toRed(this),j=T.redNeg(),O=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new e(2*z*z).toRed(this);this.pow(z,O).cmp(j)!==0;)z.redIAdd(j);for(var V=this.pow(z,v),q=this.pow(k,v.addn(1).iushrn(1)),P=this.pow(k,v),G=_;P.cmp(T)!==0;){for(var I=P,A=0;I.cmp(T)!==0;A++)I=I.redSqr();a(A<G);var H=this.pow(V,new e(1).iushln(G-A-1));q=q.redMul(H),V=H.redSqr(),P=P.redMul(V),G=A}return q},C.prototype.invm=function(k){var y=k._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},C.prototype.pow=function(k,y){if(y.isZero())return new e(1).toRed(this);if(y.cmpn(1)===0)return k.clone();var w=new Array(16);w[0]=new e(1).toRed(this),w[1]=k;for(var v=2;v<w.length;v++)w[v]=this.mul(w[v-1],k);var _=w[0],T=0,j=0,O=y.bitLength()%26;for(O===0&&(O=26),v=y.length-1;v>=0;v--){for(var z=y.words[v],V=O-1;V>=0;V--){var q=z>>V&1;_!==w[0]&&(_=this.sqr(_)),q!==0||T!==0?(T<<=1,T|=q,(++j===4||v===0&&V===0)&&(_=this.mul(_,w[T]),j=0,T=0)):j=0}O=26}return _},C.prototype.convertTo=function(k){var y=k.umod(this.m);return y===k?y.clone():y},C.prototype.convertFrom=function(k){var y=k.clone();return y.red=null,y},e.mont=function(k){return new D(k)},n(D,C),D.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},D.prototype.convertFrom=function(k){var y=this.imod(k.mul(this.rinv));return y.red=null,y},D.prototype.imul=function(k,y){if(k.isZero()||y.isZero())return k.words[0]=0,k.length=1,k;var w=k.imul(y),v=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=w.isub(v).iushrn(this.shift),T=_;return _.cmp(this.m)>=0?T=_.isub(this.m):_.cmpn(0)<0&&(T=_.iadd(this.m)),T._forceRed(this)},D.prototype.mul=function(k,y){if(k.isZero()||y.isZero())return new e(0)._forceRed(this);var w=k.mul(y),v=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=w.isub(v).iushrn(this.shift),T=_;return _.cmp(this.m)>=0?T=_.isub(this.m):_.cmpn(0)<0&&(T=_.iadd(this.m)),T._forceRed(this)},D.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(h===void 0||h)},{buffer:188}],187:[function(t,h,m){var l;function i(n){this.rand=n}if(h.exports=function(n){return l||(l=new i(null)),l.generate(n)},h.exports.Rand=i,i.prototype.generate=function(n){return this._rand(n)},i.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var e=new Uint8Array(n),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(n){var e=new Uint8Array(n);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(n){var e=new Uint8Array(n);return self.msCrypto.getRandomValues(e),e}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=t("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(n){return a.randomBytes(n)}}catch{}},{crypto:188}],188:[function(t,h,m){},{}],189:[function(t,h,m){var l=t("safe-buffer").Buffer;function i(s){l.isBuffer(s)||(s=l.from(s));for(var o=s.length/4|0,d=new Array(o),f=0;f<o;f++)d[f]=s.readUInt32BE(4*f);return d}function a(s){for(;0<s.length;s++)s[0]=0}function n(s,o,d,f,u){for(var g,p,x,S,M=d[0],R=d[1],B=d[2],N=d[3],L=s[0]^o[0],F=s[1]^o[1],$=s[2]^o[2],W=s[3]^o[3],C=4,D=1;D<u;D++)g=M[L>>>24]^R[F>>>16&255]^B[$>>>8&255]^N[255&W]^o[C++],p=M[F>>>24]^R[$>>>16&255]^B[W>>>8&255]^N[255&L]^o[C++],x=M[$>>>24]^R[W>>>16&255]^B[L>>>8&255]^N[255&F]^o[C++],S=M[W>>>24]^R[L>>>16&255]^B[F>>>8&255]^N[255&$]^o[C++],L=g,F=p,$=x,W=S;return g=(f[L>>>24]<<24|f[F>>>16&255]<<16|f[$>>>8&255]<<8|f[255&W])^o[C++],p=(f[F>>>24]<<24|f[$>>>16&255]<<16|f[W>>>8&255]<<8|f[255&L])^o[C++],x=(f[$>>>24]<<24|f[W>>>16&255]<<16|f[L>>>8&255]<<8|f[255&F])^o[C++],S=(f[W>>>24]<<24|f[L>>>16&255]<<16|f[F>>>8&255]<<8|f[255&$])^o[C++],[g>>>=0,p>>>=0,x>>>=0,S>>>=0]}var e=[0,1,2,4,8,16,32,64,128,27,54],r=function(){for(var s=new Array(256),o=0;o<256;o++)s[o]=o<128?o<<1:o<<1^283;for(var d=[],f=[],u=[[],[],[],[]],g=[[],[],[],[]],p=0,x=0,S=0;S<256;++S){var M=x^x<<1^x<<2^x<<3^x<<4;M=M>>>8^255&M^99,d[p]=M,f[M]=p;var R=s[p],B=s[R],N=s[B],L=257*s[M]^16843008*M;u[0][p]=L<<24|L>>>8,u[1][p]=L<<16|L>>>16,u[2][p]=L<<8|L>>>24,u[3][p]=L,L=16843009*N^65537*B^257*R^16843008*p,g[0][M]=L<<24|L>>>8,g[1][M]=L<<16|L>>>16,g[2][M]=L<<8|L>>>24,g[3][M]=L,p===0?p=x=1:(p=R^s[s[s[N^R]]],x^=s[s[x]])}return{SBOX:d,INV_SBOX:f,SUB_MIX:u,INV_SUB_MIX:g}}();function c(s){this._key=i(s),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var s=this._key,o=s.length,d=o+6,f=4*(d+1),u=[],g=0;g<o;g++)u[g]=s[g];for(g=o;g<f;g++){var p=u[g-1];g%o==0?(p=p<<8|p>>>24,p=r.SBOX[p>>>24]<<24|r.SBOX[p>>>16&255]<<16|r.SBOX[p>>>8&255]<<8|r.SBOX[255&p],p^=e[g/o|0]<<24):o>6&&g%o==4&&(p=r.SBOX[p>>>24]<<24|r.SBOX[p>>>16&255]<<16|r.SBOX[p>>>8&255]<<8|r.SBOX[255&p]),u[g]=u[g-o]^p}for(var x=[],S=0;S<f;S++){var M=f-S,R=u[M-(S%4?0:4)];x[S]=S<4||M<=4?R:r.INV_SUB_MIX[0][r.SBOX[R>>>24]]^r.INV_SUB_MIX[1][r.SBOX[R>>>16&255]]^r.INV_SUB_MIX[2][r.SBOX[R>>>8&255]]^r.INV_SUB_MIX[3][r.SBOX[255&R]]}this._nRounds=d,this._keySchedule=u,this._invKeySchedule=x},c.prototype.encryptBlockRaw=function(s){return n(s=i(s),this._keySchedule,r.SUB_MIX,r.SBOX,this._nRounds)},c.prototype.encryptBlock=function(s){var o=this.encryptBlockRaw(s),d=l.allocUnsafe(16);return d.writeUInt32BE(o[0],0),d.writeUInt32BE(o[1],4),d.writeUInt32BE(o[2],8),d.writeUInt32BE(o[3],12),d},c.prototype.decryptBlock=function(s){var o=(s=i(s))[1];s[1]=s[3],s[3]=o;var d=n(s,this._invKeySchedule,r.INV_SUB_MIX,r.INV_SBOX,this._nRounds),f=l.allocUnsafe(16);return f.writeUInt32BE(d[0],0),f.writeUInt32BE(d[3],4),f.writeUInt32BE(d[2],8),f.writeUInt32BE(d[1],12),f},c.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},h.exports.AES=c},{"safe-buffer":494}],190:[function(t,h,m){var l=t("./aes"),i=t("safe-buffer").Buffer,a=t("cipher-base"),n=t("inherits"),e=t("./ghash"),r=t("buffer-xor"),c=t("./incr32");function s(o,d,f,u){a.call(this);var g=i.alloc(4,0);this._cipher=new l.AES(d);var p=this._cipher.encryptBlock(g);this._ghash=new e(p),f=function(x,S,M){if(S.length===12)return x._finID=i.concat([S,i.from([0,0,0,1])]),i.concat([S,i.from([0,0,0,2])]);var R=new e(M),B=S.length,N=B%16;R.update(S),N&&(N=16-N,R.update(i.alloc(N,0))),R.update(i.alloc(8,0));var L=8*B,F=i.alloc(8);F.writeUIntBE(L,0,8),R.update(F),x._finID=R.state;var $=i.from(x._finID);return c($),$}(this,f,p),this._prev=i.from(f),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=u,this._alen=0,this._len=0,this._mode=o,this._authTag=null,this._called=!1}n(s,a),s.prototype._update=function(o){if(!this._called&&this._alen){var d=16-this._alen%16;d<16&&(d=i.alloc(d,0),this._ghash.update(d))}this._called=!0;var f=this._mode.encrypt(this,o);return this._decrypt?this._ghash.update(o):this._ghash.update(f),this._len+=o.length,f},s.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var o=r(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(d,f){var u=0;d.length!==f.length&&u++;for(var g=Math.min(d.length,f.length),p=0;p<g;++p)u+=d[p]^f[p];return u}(o,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=o,this._cipher.scrub()},s.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},s.prototype.setAuthTag=function(o){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=o},s.prototype.setAAD=function(o){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(o),this._alen+=o.length},h.exports=s},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,h,m){var l=t("./encrypter"),i=t("./decrypter"),a=t("./modes/list.json");m.createCipher=m.Cipher=l.createCipher,m.createCipheriv=m.Cipheriv=l.createCipheriv,m.createDecipher=m.Decipher=i.createDecipher,m.createDecipheriv=m.Decipheriv=i.createDecipheriv,m.listCiphers=m.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,h,m){var l=t("./authCipher"),i=t("safe-buffer").Buffer,a=t("./modes"),n=t("./streamCipher"),e=t("cipher-base"),r=t("./aes"),c=t("evp_bytestokey");function s(f,u,g){e.call(this),this._cache=new o,this._last=void 0,this._cipher=new r.AES(u),this._prev=i.from(g),this._mode=f,this._autopadding=!0}function o(){this.cache=i.allocUnsafe(0)}function d(f,u,g){var p=a[f.toLowerCase()];if(!p)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=i.from(g)),p.mode!=="GCM"&&g.length!==p.iv)throw new TypeError("invalid iv length "+g.length);if(typeof u=="string"&&(u=i.from(u)),u.length!==p.key/8)throw new TypeError("invalid key length "+u.length);return p.type==="stream"?new n(p.module,u,g,!0):p.type==="auth"?new l(p.module,u,g,!0):new s(p.module,u,g)}t("inherits")(s,e),s.prototype._update=function(f){var u,g;this._cache.add(f);for(var p=[];u=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,u),p.push(g);return i.concat(p)},s.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return function(u){var g=u[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var p=-1;++p<g;)if(u[p+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return u.slice(0,16-g)}(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},s.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},o.prototype.add=function(f){this.cache=i.concat([this.cache,f])},o.prototype.get=function(f){var u;if(f){if(this.cache.length>16)return u=this.cache.slice(0,16),this.cache=this.cache.slice(16),u}else if(this.cache.length>=16)return u=this.cache.slice(0,16),this.cache=this.cache.slice(16),u;return null},o.prototype.flush=function(){if(this.cache.length)return this.cache},m.createDecipher=function(f,u){var g=a[f.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var p=c(u,!1,g.key,g.iv);return d(f,p.key,p.iv)},m.createDecipheriv=d},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,h,m){var l=t("./modes"),i=t("./authCipher"),a=t("safe-buffer").Buffer,n=t("./streamCipher"),e=t("cipher-base"),r=t("./aes"),c=t("evp_bytestokey");function s(u,g,p){e.call(this),this._cache=new d,this._cipher=new r.AES(g),this._prev=a.from(p),this._mode=u,this._autopadding=!0}t("inherits")(s,e),s.prototype._update=function(u){var g,p;this._cache.add(u);for(var x=[];g=this._cache.get();)p=this._mode.encrypt(this,g),x.push(p);return a.concat(x)};var o=a.alloc(16,16);function d(){this.cache=a.allocUnsafe(0)}function f(u,g,p){var x=l[u.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=a.from(g)),g.length!==x.key/8)throw new TypeError("invalid key length "+g.length);if(typeof p=="string"&&(p=a.from(p)),x.mode!=="GCM"&&p.length!==x.iv)throw new TypeError("invalid iv length "+p.length);return x.type==="stream"?new n(x.module,g,p):x.type==="auth"?new i(x.module,g,p):new s(x.module,g,p)}s.prototype._final=function(){var u=this._cache.flush();if(this._autopadding)return u=this._mode.encrypt(this,u),this._cipher.scrub(),u;if(!u.equals(o))throw this._cipher.scrub(),new Error("data not multiple of block length")},s.prototype.setAutoPadding=function(u){return this._autopadding=!!u,this},d.prototype.add=function(u){this.cache=a.concat([this.cache,u])},d.prototype.get=function(){if(this.cache.length>15){var u=this.cache.slice(0,16);return this.cache=this.cache.slice(16),u}return null},d.prototype.flush=function(){for(var u=16-this.cache.length,g=a.allocUnsafe(u),p=-1;++p<u;)g.writeUInt8(u,p);return a.concat([this.cache,g])},m.createCipheriv=f,m.createCipher=function(u,g){var p=l[u.toLowerCase()];if(!p)throw new TypeError("invalid suite type");var x=c(g,!1,p.key,p.iv);return f(u,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,h,m){var l=t("safe-buffer").Buffer,i=l.alloc(16,0);function a(e){var r=l.allocUnsafe(16);return r.writeUInt32BE(e[0]>>>0,0),r.writeUInt32BE(e[1]>>>0,4),r.writeUInt32BE(e[2]>>>0,8),r.writeUInt32BE(e[3]>>>0,12),r}function n(e){this.h=e,this.state=l.alloc(16,0),this.cache=l.allocUnsafe(0)}n.prototype.ghash=function(e){for(var r=-1;++r<e.length;)this.state[r]^=e[r];this._multiply()},n.prototype._multiply=function(){for(var e,r,c,s=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],o=[0,0,0,0],d=-1;++d<128;){for(this.state[~~(d/8)]&1<<7-d%8&&(o[0]^=s[0],o[1]^=s[1],o[2]^=s[2],o[3]^=s[3]),c=(1&s[3])!=0,r=3;r>0;r--)s[r]=s[r]>>>1|(1&s[r-1])<<31;s[0]=s[0]>>>1,c&&(s[0]=s[0]^225<<24)}this.state=a(o)},n.prototype.update=function(e){var r;for(this.cache=l.concat([this.cache,e]);this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},n.prototype.final=function(e,r){return this.cache.length&&this.ghash(l.concat([this.cache,i],16)),this.ghash(a([0,e,0,r])),this.state},h.exports=n},{"safe-buffer":494}],195:[function(t,h,m){h.exports=function(l){for(var i,a=l.length;a--;){if((i=l.readUInt8(a))!==255){i++,l.writeUInt8(i,a);break}l.writeUInt8(0,a)}}},{}],196:[function(t,h,m){var l=t("buffer-xor");m.encrypt=function(i,a){var n=l(a,i._prev);return i._prev=i._cipher.encryptBlock(n),i._prev},m.decrypt=function(i,a){var n=i._prev;i._prev=a;var e=i._cipher.decryptBlock(a);return l(e,n)}},{"buffer-xor":219}],197:[function(t,h,m){var l=t("safe-buffer").Buffer,i=t("buffer-xor");function a(n,e,r){var c=e.length,s=i(e,n._cache);return n._cache=n._cache.slice(c),n._prev=l.concat([n._prev,r?e:s]),s}m.encrypt=function(n,e,r){for(var c,s=l.allocUnsafe(0);e.length;){if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=l.allocUnsafe(0)),!(n._cache.length<=e.length)){s=l.concat([s,a(n,e,r)]);break}c=n._cache.length,s=l.concat([s,a(n,e.slice(0,c),r)]),e=e.slice(c)}return s}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,h,m){var l=t("safe-buffer").Buffer;function i(n,e,r){for(var c,s,o=-1,d=0;++o<8;)c=e&1<<7-o?128:0,d+=(128&(s=n._cipher.encryptBlock(n._prev)[0]^c))>>o%8,n._prev=a(n._prev,r?c:s);return d}function a(n,e){var r=n.length,c=-1,s=l.allocUnsafe(n.length);for(n=l.concat([n,l.from([e])]);++c<r;)s[c]=n[c]<<1|n[c+1]>>7;return s}m.encrypt=function(n,e,r){for(var c=e.length,s=l.allocUnsafe(c),o=-1;++o<c;)s[o]=i(n,e[o],r);return s}},{"safe-buffer":494}],199:[function(t,h,m){var l=t("safe-buffer").Buffer;function i(a,n,e){var r=a._cipher.encryptBlock(a._prev)[0]^n;return a._prev=l.concat([a._prev.slice(1),l.from([e?n:r])]),r}m.encrypt=function(a,n,e){for(var r=n.length,c=l.allocUnsafe(r),s=-1;++s<r;)c[s]=i(a,n[s],e);return c}},{"safe-buffer":494}],200:[function(t,h,m){var l=t("buffer-xor"),i=t("safe-buffer").Buffer,a=t("../incr32");function n(e){var r=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),r}m.encrypt=function(e,r){var c=Math.ceil(r.length/16),s=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*c)]);for(var o=0;o<c;o++){var d=n(e),f=s+16*o;e._cache.writeUInt32BE(d[0],f+0),e._cache.writeUInt32BE(d[1],f+4),e._cache.writeUInt32BE(d[2],f+8),e._cache.writeUInt32BE(d[3],f+12)}var u=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),l(r,u)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,h,m){m.encrypt=function(l,i){return l._cipher.encryptBlock(i)},m.decrypt=function(l,i){return l._cipher.decryptBlock(i)}},{}],202:[function(t,h,m){var l={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},i=t("./list.json");for(var a in i)i[a].module=l[i[a].mode];h.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,h,m){h.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,h,m){(function(l){(function(){var i=t("buffer-xor");function a(n){return n._prev=n._cipher.encryptBlock(n._prev),n._prev}m.encrypt=function(n,e){for(;n._cache.length<e.length;)n._cache=l.concat([n._cache,a(n)]);var r=n._cache.slice(0,e.length);return n._cache=n._cache.slice(e.length),i(e,r)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,h,m){var l=t("./aes"),i=t("safe-buffer").Buffer,a=t("cipher-base");function n(e,r,c,s){a.call(this),this._cipher=new l.AES(r),this._prev=i.from(c),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=e}t("inherits")(n,a),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},h.exports=n},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,h,m){var l=t("browserify-des"),i=t("browserify-aes/browser"),a=t("browserify-aes/modes"),n=t("browserify-des/modes"),e=t("evp_bytestokey");function r(s,o,d){if(s=s.toLowerCase(),a[s])return i.createCipheriv(s,o,d);if(n[s])return new l({key:o,iv:d,mode:s});throw new TypeError("invalid suite type")}function c(s,o,d){if(s=s.toLowerCase(),a[s])return i.createDecipheriv(s,o,d);if(n[s])return new l({key:o,iv:d,mode:s,decrypt:!0});throw new TypeError("invalid suite type")}m.createCipher=m.Cipher=function(s,o){var d,f;if(s=s.toLowerCase(),a[s])d=a[s].key,f=a[s].iv;else{if(!n[s])throw new TypeError("invalid suite type");d=8*n[s].key,f=n[s].iv}var u=e(o,!1,d,f);return r(s,u.key,u.iv)},m.createCipheriv=m.Cipheriv=r,m.createDecipher=m.Decipher=function(s,o){var d,f;if(s=s.toLowerCase(),a[s])d=a[s].key,f=a[s].iv;else{if(!n[s])throw new TypeError("invalid suite type");d=8*n[s].key,f=n[s].iv}var u=e(o,!1,d,f);return c(s,u.key,u.iv)},m.createDecipheriv=m.Decipheriv=c,m.listCiphers=m.getCiphers=function(){return Object.keys(n).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,h,m){var l=t("cipher-base"),i=t("des.js"),a=t("inherits"),n=t("safe-buffer").Buffer,e={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function r(c){l.call(this);var s,o=c.mode.toLowerCase(),d=e[o];s=c.decrypt?"decrypt":"encrypt";var f=c.key;n.isBuffer(f)||(f=n.from(f)),o!=="des-ede"&&o!=="des-ede-cbc"||(f=n.concat([f,f.slice(0,8)]));var u=c.iv;n.isBuffer(u)||(u=n.from(u)),this._des=d.create({key:f,iv:u,type:s})}e.des=e["des-cbc"],e.des3=e["des-ede3-cbc"],h.exports=r,a(r,l),r.prototype._update=function(c){return n.from(this._des.update(c))},r.prototype._final=function(){return n.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,h,m){m["des-ecb"]={key:8,iv:0},m["des-cbc"]=m.des={key:8,iv:8},m["des-ede3-cbc"]=m.des3={key:24,iv:8},m["des-ede3"]={key:24,iv:0},m["des-ede-cbc"]={key:16,iv:8},m["des-ede"]={key:16,iv:0}},{}],209:[function(t,h,m){(function(l){(function(){var i=t("bn.js"),a=t("randombytes");function n(r){var c,s=r.modulus.byteLength();do c=new i(a(s));while(c.cmp(r.modulus)>=0||!c.umod(r.prime1)||!c.umod(r.prime2));return c}function e(r,c){var s=function(B){var N=n(B);return{blinder:N.toRed(i.mont(B.modulus)).redPow(new i(B.publicExponent)).fromRed(),unblinder:N.invm(B.modulus)}}(c),o=c.modulus.byteLength(),d=new i(r).mul(s.blinder).umod(c.modulus),f=d.toRed(i.mont(c.prime1)),u=d.toRed(i.mont(c.prime2)),g=c.coefficient,p=c.prime1,x=c.prime2,S=f.redPow(c.exponent1).fromRed(),M=u.redPow(c.exponent2).fromRed(),R=S.isub(M).imul(g).umod(p).imul(x);return M.iadd(R).imul(s.unblinder).umod(c.modulus).toArrayLike(l,"be",o)}e.getr=n,h.exports=e}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,h,m){h.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,h,m){h.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,h,m){h.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,h,m){var l=t("safe-buffer").Buffer,i=t("create-hash"),a=t("readable-stream"),n=t("inherits"),e=t("./sign"),r=t("./verify"),c=t("./algorithms.json");function s(u){a.Writable.call(this);var g=c[u];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=i(g.hash),this._tag=g.id,this._signType=g.sign}function o(u){a.Writable.call(this);var g=c[u];if(!g)throw new Error("Unknown message digest");this._hash=i(g.hash),this._tag=g.id,this._signType=g.sign}function d(u){return new s(u)}function f(u){return new o(u)}Object.keys(c).forEach(function(u){c[u].id=l.from(c[u].id,"hex"),c[u.toLowerCase()]=c[u]}),n(s,a.Writable),s.prototype._write=function(u,g,p){this._hash.update(u),p()},s.prototype.update=function(u,g){return typeof u=="string"&&(u=l.from(u,g)),this._hash.update(u),this},s.prototype.sign=function(u,g){this.end();var p=this._hash.digest(),x=e(p,u,this._hashType,this._signType,this._tag);return g?x.toString(g):x},n(o,a.Writable),o.prototype._write=function(u,g,p){this._hash.update(u),p()},o.prototype.update=function(u,g){return typeof u=="string"&&(u=l.from(u,g)),this._hash.update(u),this},o.prototype.verify=function(u,g,p){typeof g=="string"&&(g=l.from(g,p)),this.end();var x=this._hash.digest();return r(g,x,u,this._signType,this._tag)},h.exports={Sign:d,Verify:f,createSign:d,createVerify:f}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,h,m){var l=t("safe-buffer").Buffer,i=t("create-hmac"),a=t("browserify-rsa"),n=t("elliptic").ec,e=t("bn.js"),r=t("parse-asn1"),c=t("./curves.json");function s(u,g,p,x){if((u=l.from(u.toArray())).length<g.byteLength()){var S=l.alloc(g.byteLength()-u.length);u=l.concat([S,u])}var M=p.length,R=function(L,F){L=(L=o(L,F)).mod(F);var $=l.from(L.toArray());if($.length<F.byteLength()){var W=l.alloc(F.byteLength()-$.length);$=l.concat([W,$])}return $}(p,g),B=l.alloc(M);B.fill(1);var N=l.alloc(M);return N=i(x,N).update(B).update(l.from([0])).update(u).update(R).digest(),B=i(x,N).update(B).digest(),{k:N=i(x,N).update(B).update(l.from([1])).update(u).update(R).digest(),v:B=i(x,N).update(B).digest()}}function o(u,g){var p=new e(u),x=(u.length<<3)-g.bitLength();return x>0&&p.ishrn(x),p}function d(u,g,p){var x,S;do{for(x=l.alloc(0);8*x.length<u.bitLength();)g.v=i(p,g.k).update(g.v).digest(),x=l.concat([x,g.v]);S=o(x,u),g.k=i(p,g.k).update(g.v).update(l.from([0])).digest(),g.v=i(p,g.k).update(g.v).digest()}while(S.cmp(u)!==-1);return S}function f(u,g,p,x){return u.toRed(e.mont(p)).redPow(g).fromRed().mod(x)}h.exports=function(u,g,p,x,S){var M=r(g);if(M.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return function(L,F){var $=c[F.curve.join(".")];if(!$)throw new Error("unknown curve "+F.curve.join("."));var W=new n($).keyFromPrivate(F.privateKey).sign(L);return l.from(W.toDER())}(u,M)}if(M.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return function(L,F,$){for(var W,C=F.params.priv_key,D=F.params.p,k=F.params.q,y=F.params.g,w=new e(0),v=o(L,k).mod(k),_=!1,T=s(C,k,L,$);_===!1;)W=d(k,T,$),w=f(y,W,D,k),(_=W.invm(k).imul(v.add(C.mul(w))).mod(k)).cmpn(0)===0&&(_=!1,w=new e(0));return function(j,O){j=j.toArray(),O=O.toArray(),128&j[0]&&(j=[0].concat(j)),128&O[0]&&(O=[0].concat(O));var z=[48,j.length+O.length+4,2,j.length];return z=z.concat(j,[2,O.length],O),l.from(z)}(w,_)}(u,M,p)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");u=l.concat([S,u]);for(var R=M.modulus.byteLength(),B=[0,1];u.length+B.length+1<R;)B.push(255);B.push(0);for(var N=-1;++N<u.length;)B.push(u[N]);return a(B,M)},h.exports.getKey=s,h.exports.makeKey=d},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,h,m){var l=t("safe-buffer").Buffer,i=t("bn.js"),a=t("elliptic").ec,n=t("parse-asn1"),e=t("./curves.json");function r(c,s){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(s)>=s)throw new Error("invalid sig")}h.exports=function(c,s,o,d,f){var u=n(o);if(u.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return function(B,N,L){var F=e[L.data.algorithm.curve.join(".")];if(!F)throw new Error("unknown curve "+L.data.algorithm.curve.join("."));var $=new a(F),W=L.data.subjectPrivateKey.data;return $.verify(N,B,W)}(c,s,u)}if(u.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return function(B,N,L){var F=L.data.p,$=L.data.q,W=L.data.g,C=L.data.pub_key,D=n.signature.decode(B,"der"),k=D.s,y=D.r;r(k,$),r(y,$);var w=i.mont(F),v=k.invm($);return W.toRed(w).redPow(new i(N).mul(v).mod($)).fromRed().mul(C.toRed(w).redPow(y.mul(v).mod($)).fromRed()).mod(F).mod($).cmp(y)===0}(c,s,u)}if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");s=l.concat([f,s]);for(var g=u.modulus.byteLength(),p=[1],x=0;s.length+p.length+2<g;)p.push(255),x++;p.push(0);for(var S=-1;++S<s.length;)p.push(s[S]);p=l.from(p);var M=i.mont(u.modulus);c=(c=new i(c).toRed(M)).redPow(new i(u.publicExponent)),c=l.from(c.fromRed().toArray());var R=x<8?1:0;for(g=Math.min(c.length,p.length),c.length!==p.length&&(R=1),S=-1;++S<g;)R|=c[S]^p[S];return R===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,h,m){},{}],217:[function(t,h,m){var l=t("buffer"),i=l.Buffer;function a(e,r){for(var c in e)r[c]=e[c]}function n(e,r,c){return i(e,r,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?h.exports=l:(a(l,m),m.Buffer=n),a(i,n),n.from=function(e,r,c){if(typeof e=="number")throw new TypeError("Argument must not be a number");return i(e,r,c)},n.alloc=function(e,r,c){if(typeof e!="number")throw new TypeError("Argument must be a number");var s=i(e);return r!==void 0?typeof c=="string"?s.fill(r,c):s.fill(r):s.fill(0),s},n.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return i(e)},n.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(e)}},{buffer:220}],218:[function(t,h,m){var l=t("safe-buffer").Buffer,i=l.isEncoding||function(u){switch((u=""+u)&&u.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(u){var g;switch(this.encoding=function(p){var x=function(S){if(!S)return"utf8";for(var M;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(M)return;S=(""+S).toLowerCase(),M=!0}}(p);if(typeof x!="string"&&(l.isEncoding===i||!i(p)))throw new Error("Unknown encoding: "+p);return x||p}(u),this.encoding){case"utf16le":this.text=r,this.end=c,g=4;break;case"utf8":this.fillLast=e,g=4;break;case"base64":this.text=s,this.end=o,g=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=l.allocUnsafe(g)}function n(u){return u<=127?0:u>>5==6?2:u>>4==14?3:u>>3==30?4:u>>6==2?-1:-2}function e(u){var g=this.lastTotal-this.lastNeed,p=function(x,S,M){if((192&S[0])!=128)return x.lastNeed=0,"�";if(x.lastNeed>1&&S.length>1){if((192&S[1])!=128)return x.lastNeed=1,"�";if(x.lastNeed>2&&S.length>2&&(192&S[2])!=128)return x.lastNeed=2,"�"}}(this,u);return p!==void 0?p:this.lastNeed<=u.length?(u.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(u.copy(this.lastChar,g,0,u.length),void(this.lastNeed-=u.length))}function r(u,g){if((u.length-g)%2==0){var p=u.toString("utf16le",g);if(p){var x=p.charCodeAt(p.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=u[u.length-2],this.lastChar[1]=u[u.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=u[u.length-1],u.toString("utf16le",g,u.length-1)}function c(u){var g=u&&u.length?this.write(u):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,p)}return g}function s(u,g){var p=(u.length-g)%3;return p===0?u.toString("base64",g):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=u[u.length-1]:(this.lastChar[0]=u[u.length-2],this.lastChar[1]=u[u.length-1]),u.toString("base64",g,u.length-p))}function o(u){var g=u&&u.length?this.write(u):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function d(u){return u.toString(this.encoding)}function f(u){return u&&u.length?this.write(u):""}m.StringDecoder=a,a.prototype.write=function(u){if(u.length===0)return"";var g,p;if(this.lastNeed){if((g=this.fillLast(u))===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<u.length?g?g+this.text(u,p):this.text(u,p):g||""},a.prototype.end=function(u){var g=u&&u.length?this.write(u):"";return this.lastNeed?g+"�":g},a.prototype.text=function(u,g){var p=function(S,M,R){var B=M.length-1;if(B<R)return 0;var N=n(M[B]);return N>=0?(N>0&&(S.lastNeed=N-1),N):--B<R||N===-2?0:(N=n(M[B]))>=0?(N>0&&(S.lastNeed=N-2),N):--B<R||N===-2?0:(N=n(M[B]))>=0?(N>0&&(N===2?N=0:S.lastNeed=N-3),N):0}(this,u,g);if(!this.lastNeed)return u.toString("utf8",g);this.lastTotal=p;var x=u.length-(p-this.lastNeed);return u.copy(this.lastChar,0,x),u.toString("utf8",g,x)},a.prototype.fillLast=function(u){if(this.lastNeed<=u.length)return u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,u.length),this.lastNeed-=u.length}},{"safe-buffer":217}],219:[function(t,h,m){(function(l){(function(){h.exports=function(i,a){for(var n=Math.min(i.length,a.length),e=new l(n),r=0;r<n;++r)e[r]=i[r]^a[r];return e}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,h,m){(function(l){(function(){var i=t("base64-js"),a=t("ieee754");m.Buffer=e,m.SlowBuffer=function(I){return+I!=I&&(I=0),e.alloc(+I)},m.INSPECT_MAX_BYTES=50;function n(I){if(I>2147483647)throw new RangeError('The value "'+I+'" is invalid for option "size"');var A=new Uint8Array(I);return A.__proto__=e.prototype,A}function e(I,A,H){if(typeof I=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return s(I)}return r(I,A,H)}function r(I,A,H){if(typeof I=="string")return function(Y,Q){if(typeof Q=="string"&&Q!==""||(Q="utf8"),!e.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);var it=0|f(Y,Q),st=n(it),K=st.write(Y,Q);return K!==it&&(st=st.slice(0,K)),st}(I,A);if(ArrayBuffer.isView(I))return o(I);if(I==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(P(I,ArrayBuffer)||I&&P(I.buffer,ArrayBuffer))return function(Y,Q,it){if(Q<0||Y.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<Q+(it||0))throw new RangeError('"length" is outside of buffer bounds');var st;return st=Q===void 0&&it===void 0?new Uint8Array(Y):it===void 0?new Uint8Array(Y,Q):new Uint8Array(Y,Q,it),st.__proto__=e.prototype,st}(I,A,H);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var X=I.valueOf&&I.valueOf();if(X!=null&&X!==I)return e.from(X,A,H);var J=function(Y){if(e.isBuffer(Y)){var Q=0|d(Y.length),it=n(Q);return it.length===0||Y.copy(it,0,0,Q),it}if(Y.length!==void 0)return typeof Y.length!="number"||G(Y.length)?n(0):o(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return o(Y.data)}(I);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return e.from(I[Symbol.toPrimitive]("string"),A,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}function c(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function s(I){return c(I),n(I<0?0:0|d(I))}function o(I){for(var A=I.length<0?0:0|d(I.length),H=n(A),X=0;X<A;X+=1)H[X]=255&I[X];return H}function d(I){if(I>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|I}function f(I,A){if(e.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||P(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var H=I.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&H===0)return 0;for(var J=!1;;)switch(A){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return z(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return V(I).length;default:if(J)return X?-1:z(I).length;A=(""+A).toLowerCase(),J=!0}}function u(I,A,H){var X=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(A>>>=0))return"";for(I||(I="utf8");;)switch(I){case"hex":return D(this,A,H);case"utf8":case"utf-8":return $(this,A,H);case"ascii":return W(this,A,H);case"latin1":case"binary":return C(this,A,H);case"base64":return F(this,A,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,A,H);default:if(X)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),X=!0}}function g(I,A,H){var X=I[A];I[A]=I[H],I[H]=X}function p(I,A,H,X,J){if(I.length===0)return-1;if(typeof H=="string"?(X=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),G(H=+H)&&(H=J?0:I.length-1),H<0&&(H=I.length+H),H>=I.length){if(J)return-1;H=I.length-1}else if(H<0){if(!J)return-1;H=0}if(typeof A=="string"&&(A=e.from(A,X)),e.isBuffer(A))return A.length===0?-1:x(I,A,H,X,J);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(I,A,H):Uint8Array.prototype.lastIndexOf.call(I,A,H):x(I,[A],H,X,J);throw new TypeError("val must be string, number or Buffer")}function x(I,A,H,X,J){var Y,Q=1,it=I.length,st=A.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(I.length<2||A.length<2)return-1;Q=2,it/=2,st/=2,H/=2}function K(ot,ct){return Q===1?ot[ct]:ot.readUInt16BE(ct*Q)}if(J){var et=-1;for(Y=H;Y<it;Y++)if(K(I,Y)===K(A,et===-1?0:Y-et)){if(et===-1&&(et=Y),Y-et+1===st)return et*Q}else et!==-1&&(Y-=Y-et),et=-1}else for(H+st>it&&(H=it-st),Y=H;Y>=0;Y--){for(var rt=!0,at=0;at<st;at++)if(K(I,Y+at)!==K(A,at)){rt=!1;break}if(rt)return Y}return-1}function S(I,A,H,X){H=Number(H)||0;var J=I.length-H;X?(X=Number(X))>J&&(X=J):X=J;var Y=A.length;X>Y/2&&(X=Y/2);for(var Q=0;Q<X;++Q){var it=parseInt(A.substr(2*Q,2),16);if(G(it))return Q;I[H+Q]=it}return Q}function M(I,A,H,X){return q(z(A,I.length-H),I,H,X)}function R(I,A,H,X){return q(function(J){for(var Y=[],Q=0;Q<J.length;++Q)Y.push(255&J.charCodeAt(Q));return Y}(A),I,H,X)}function B(I,A,H,X){return R(I,A,H,X)}function N(I,A,H,X){return q(V(A),I,H,X)}function L(I,A,H,X){return q(function(J,Y){for(var Q,it,st,K=[],et=0;et<J.length&&!((Y-=2)<0);++et)Q=J.charCodeAt(et),it=Q>>8,st=Q%256,K.push(st),K.push(it);return K}(A,I.length-H),I,H,X)}function F(I,A,H){return A===0&&H===I.length?i.fromByteArray(I):i.fromByteArray(I.slice(A,H))}function $(I,A,H){H=Math.min(I.length,H);for(var X=[],J=A;J<H;){var Y,Q,it,st,K=I[J],et=null,rt=K>239?4:K>223?3:K>191?2:1;if(J+rt<=H)switch(rt){case 1:K<128&&(et=K);break;case 2:(192&(Y=I[J+1]))==128&&(st=(31&K)<<6|63&Y)>127&&(et=st);break;case 3:Y=I[J+1],Q=I[J+2],(192&Y)==128&&(192&Q)==128&&(st=(15&K)<<12|(63&Y)<<6|63&Q)>2047&&(st<55296||st>57343)&&(et=st);break;case 4:Y=I[J+1],Q=I[J+2],it=I[J+3],(192&Y)==128&&(192&Q)==128&&(192&it)==128&&(st=(15&K)<<18|(63&Y)<<12|(63&Q)<<6|63&it)>65535&&st<1114112&&(et=st)}et===null?(et=65533,rt=1):et>65535&&(et-=65536,X.push(et>>>10&1023|55296),et=56320|1023&et),X.push(et),J+=rt}return function(at){var ot=at.length;if(ot<=4096)return String.fromCharCode.apply(String,at);for(var ct="",dt=0;dt<ot;)ct+=String.fromCharCode.apply(String,at.slice(dt,dt+=4096));return ct}(X)}m.kMaxLength=2147483647,e.TYPED_ARRAY_SUPPORT=function(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42}catch{return!1}}(),e.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(I,A,H){return r(I,A,H)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(I,A,H){return function(X,J,Y){return c(X),X<=0?n(X):J!==void 0?typeof Y=="string"?n(X).fill(J,Y):n(X).fill(J):n(X)}(I,A,H)},e.allocUnsafe=function(I){return s(I)},e.allocUnsafeSlow=function(I){return s(I)},e.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==e.prototype},e.compare=function(I,A){if(P(I,Uint8Array)&&(I=e.from(I,I.offset,I.byteLength)),P(A,Uint8Array)&&(A=e.from(A,A.offset,A.byteLength)),!e.isBuffer(I)||!e.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===A)return 0;for(var H=I.length,X=A.length,J=0,Y=Math.min(H,X);J<Y;++J)if(I[J]!==A[J]){H=I[J],X=A[J];break}return H<X?-1:X<H?1:0},e.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(I,A){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return e.alloc(0);var H;if(A===void 0)for(A=0,H=0;H<I.length;++H)A+=I[H].length;var X=e.allocUnsafe(A),J=0;for(H=0;H<I.length;++H){var Y=I[H];if(P(Y,Uint8Array)&&(Y=e.from(Y)),!e.isBuffer(Y))throw new TypeError('"list" argument must be an Array of Buffers');Y.copy(X,J),J+=Y.length}return X},e.byteLength=f,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<I;A+=2)g(this,A,A+1);return this},e.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<I;A+=4)g(this,A,A+3),g(this,A+1,A+2);return this},e.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<I;A+=8)g(this,A,A+7),g(this,A+1,A+6),g(this,A+2,A+5),g(this,A+3,A+4);return this},e.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?$(this,0,I):u.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(I){if(!e.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||e.compare(this,I)===0},e.prototype.inspect=function(){var I="",A=m.INSPECT_MAX_BYTES;return I=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(I+=" ... "),"<Buffer "+I+">"},e.prototype.compare=function(I,A,H,X,J){if(P(I,Uint8Array)&&(I=e.from(I,I.offset,I.byteLength)),!e.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(A===void 0&&(A=0),H===void 0&&(H=I?I.length:0),X===void 0&&(X=0),J===void 0&&(J=this.length),A<0||H>I.length||X<0||J>this.length)throw new RangeError("out of range index");if(X>=J&&A>=H)return 0;if(X>=J)return-1;if(A>=H)return 1;if(this===I)return 0;for(var Y=(J>>>=0)-(X>>>=0),Q=(H>>>=0)-(A>>>=0),it=Math.min(Y,Q),st=this.slice(X,J),K=I.slice(A,H),et=0;et<it;++et)if(st[et]!==K[et]){Y=st[et],Q=K[et];break}return Y<Q?-1:Q<Y?1:0},e.prototype.includes=function(I,A,H){return this.indexOf(I,A,H)!==-1},e.prototype.indexOf=function(I,A,H){return p(this,I,A,H,!0)},e.prototype.lastIndexOf=function(I,A,H){return p(this,I,A,H,!1)},e.prototype.write=function(I,A,H,X){if(A===void 0)X="utf8",H=this.length,A=0;else if(H===void 0&&typeof A=="string")X=A,H=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(H)?(H>>>=0,X===void 0&&(X="utf8")):(X=H,H=void 0)}var J=this.length-A;if((H===void 0||H>J)&&(H=J),I.length>0&&(H<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var Y=!1;;)switch(X){case"hex":return S(this,I,A,H);case"utf8":case"utf-8":return M(this,I,A,H);case"ascii":return R(this,I,A,H);case"latin1":case"binary":return B(this,I,A,H);case"base64":return N(this,I,A,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,I,A,H);default:if(Y)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),Y=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(I,A,H){var X="";H=Math.min(I.length,H);for(var J=A;J<H;++J)X+=String.fromCharCode(127&I[J]);return X}function C(I,A,H){var X="";H=Math.min(I.length,H);for(var J=A;J<H;++J)X+=String.fromCharCode(I[J]);return X}function D(I,A,H){var X=I.length;(!A||A<0)&&(A=0),(!H||H<0||H>X)&&(H=X);for(var J="",Y=A;Y<H;++Y)J+=O(I[Y]);return J}function k(I,A,H){for(var X=I.slice(A,H),J="",Y=0;Y<X.length;Y+=2)J+=String.fromCharCode(X[Y]+256*X[Y+1]);return J}function y(I,A,H){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+A>H)throw new RangeError("Trying to access beyond buffer length")}function w(I,A,H,X,J,Y){if(!e.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>J||A<Y)throw new RangeError('"value" argument is out of bounds');if(H+X>I.length)throw new RangeError("Index out of range")}function v(I,A,H,X,J,Y){if(H+X>I.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function _(I,A,H,X,J){return A=+A,H>>>=0,J||v(I,0,H,4),a.write(I,A,H,X,23,4),H+4}function T(I,A,H,X,J){return A=+A,H>>>=0,J||v(I,0,H,8),a.write(I,A,H,X,52,8),H+8}e.prototype.slice=function(I,A){var H=this.length;(I=~~I)<0?(I+=H)<0&&(I=0):I>H&&(I=H),(A=A===void 0?H:~~A)<0?(A+=H)<0&&(A=0):A>H&&(A=H),A<I&&(A=I);var X=this.subarray(I,A);return X.__proto__=e.prototype,X},e.prototype.readUIntLE=function(I,A,H){I>>>=0,A>>>=0,H||y(I,A,this.length);for(var X=this[I],J=1,Y=0;++Y<A&&(J*=256);)X+=this[I+Y]*J;return X},e.prototype.readUIntBE=function(I,A,H){I>>>=0,A>>>=0,H||y(I,A,this.length);for(var X=this[I+--A],J=1;A>0&&(J*=256);)X+=this[I+--A]*J;return X},e.prototype.readUInt8=function(I,A){return I>>>=0,A||y(I,1,this.length),this[I]},e.prototype.readUInt16LE=function(I,A){return I>>>=0,A||y(I,2,this.length),this[I]|this[I+1]<<8},e.prototype.readUInt16BE=function(I,A){return I>>>=0,A||y(I,2,this.length),this[I]<<8|this[I+1]},e.prototype.readUInt32LE=function(I,A){return I>>>=0,A||y(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},e.prototype.readUInt32BE=function(I,A){return I>>>=0,A||y(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},e.prototype.readIntLE=function(I,A,H){I>>>=0,A>>>=0,H||y(I,A,this.length);for(var X=this[I],J=1,Y=0;++Y<A&&(J*=256);)X+=this[I+Y]*J;return X>=(J*=128)&&(X-=Math.pow(2,8*A)),X},e.prototype.readIntBE=function(I,A,H){I>>>=0,A>>>=0,H||y(I,A,this.length);for(var X=A,J=1,Y=this[I+--X];X>0&&(J*=256);)Y+=this[I+--X]*J;return Y>=(J*=128)&&(Y-=Math.pow(2,8*A)),Y},e.prototype.readInt8=function(I,A){return I>>>=0,A||y(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},e.prototype.readInt16LE=function(I,A){I>>>=0,A||y(I,2,this.length);var H=this[I]|this[I+1]<<8;return 32768&H?4294901760|H:H},e.prototype.readInt16BE=function(I,A){I>>>=0,A||y(I,2,this.length);var H=this[I+1]|this[I]<<8;return 32768&H?4294901760|H:H},e.prototype.readInt32LE=function(I,A){return I>>>=0,A||y(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},e.prototype.readInt32BE=function(I,A){return I>>>=0,A||y(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},e.prototype.readFloatLE=function(I,A){return I>>>=0,A||y(I,4,this.length),a.read(this,I,!0,23,4)},e.prototype.readFloatBE=function(I,A){return I>>>=0,A||y(I,4,this.length),a.read(this,I,!1,23,4)},e.prototype.readDoubleLE=function(I,A){return I>>>=0,A||y(I,8,this.length),a.read(this,I,!0,52,8)},e.prototype.readDoubleBE=function(I,A){return I>>>=0,A||y(I,8,this.length),a.read(this,I,!1,52,8)},e.prototype.writeUIntLE=function(I,A,H,X){I=+I,A>>>=0,H>>>=0,X||w(this,I,A,H,Math.pow(2,8*H)-1,0);var J=1,Y=0;for(this[A]=255&I;++Y<H&&(J*=256);)this[A+Y]=I/J&255;return A+H},e.prototype.writeUIntBE=function(I,A,H,X){I=+I,A>>>=0,H>>>=0,X||w(this,I,A,H,Math.pow(2,8*H)-1,0);var J=H-1,Y=1;for(this[A+J]=255&I;--J>=0&&(Y*=256);)this[A+J]=I/Y&255;return A+H},e.prototype.writeUInt8=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,1,255,0),this[A]=255&I,A+1},e.prototype.writeUInt16LE=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,2,65535,0),this[A]=255&I,this[A+1]=I>>>8,A+2},e.prototype.writeUInt16BE=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,2,65535,0),this[A]=I>>>8,this[A+1]=255&I,A+2},e.prototype.writeUInt32LE=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,4,4294967295,0),this[A+3]=I>>>24,this[A+2]=I>>>16,this[A+1]=I>>>8,this[A]=255&I,A+4},e.prototype.writeUInt32BE=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,4,4294967295,0),this[A]=I>>>24,this[A+1]=I>>>16,this[A+2]=I>>>8,this[A+3]=255&I,A+4},e.prototype.writeIntLE=function(I,A,H,X){if(I=+I,A>>>=0,!X){var J=Math.pow(2,8*H-1);w(this,I,A,H,J-1,-J)}var Y=0,Q=1,it=0;for(this[A]=255&I;++Y<H&&(Q*=256);)I<0&&it===0&&this[A+Y-1]!==0&&(it=1),this[A+Y]=(I/Q>>0)-it&255;return A+H},e.prototype.writeIntBE=function(I,A,H,X){if(I=+I,A>>>=0,!X){var J=Math.pow(2,8*H-1);w(this,I,A,H,J-1,-J)}var Y=H-1,Q=1,it=0;for(this[A+Y]=255&I;--Y>=0&&(Q*=256);)I<0&&it===0&&this[A+Y+1]!==0&&(it=1),this[A+Y]=(I/Q>>0)-it&255;return A+H},e.prototype.writeInt8=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,1,127,-128),I<0&&(I=255+I+1),this[A]=255&I,A+1},e.prototype.writeInt16LE=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,2,32767,-32768),this[A]=255&I,this[A+1]=I>>>8,A+2},e.prototype.writeInt16BE=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,2,32767,-32768),this[A]=I>>>8,this[A+1]=255&I,A+2},e.prototype.writeInt32LE=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,4,2147483647,-2147483648),this[A]=255&I,this[A+1]=I>>>8,this[A+2]=I>>>16,this[A+3]=I>>>24,A+4},e.prototype.writeInt32BE=function(I,A,H){return I=+I,A>>>=0,H||w(this,I,A,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[A]=I>>>24,this[A+1]=I>>>16,this[A+2]=I>>>8,this[A+3]=255&I,A+4},e.prototype.writeFloatLE=function(I,A,H){return _(this,I,A,!0,H)},e.prototype.writeFloatBE=function(I,A,H){return _(this,I,A,!1,H)},e.prototype.writeDoubleLE=function(I,A,H){return T(this,I,A,!0,H)},e.prototype.writeDoubleBE=function(I,A,H){return T(this,I,A,!1,H)},e.prototype.copy=function(I,A,H,X){if(!e.isBuffer(I))throw new TypeError("argument should be a Buffer");if(H||(H=0),X||X===0||(X=this.length),A>=I.length&&(A=I.length),A||(A=0),X>0&&X<H&&(X=H),X===H||I.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),I.length-A<X-H&&(X=I.length-A+H);var J=X-H;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,H,X);else if(this===I&&H<A&&A<X)for(var Y=J-1;Y>=0;--Y)I[Y+A]=this[Y+H];else Uint8Array.prototype.set.call(I,this.subarray(H,X),A);return J},e.prototype.fill=function(I,A,H,X){if(typeof I=="string"){if(typeof A=="string"?(X=A,A=0,H=this.length):typeof H=="string"&&(X=H,H=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!e.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(I.length===1){var J=I.charCodeAt(0);(X==="utf8"&&J<128||X==="latin1")&&(I=J)}}else typeof I=="number"&&(I&=255);if(A<0||this.length<A||this.length<H)throw new RangeError("Out of range index");if(H<=A)return this;var Y;if(A>>>=0,H=H===void 0?this.length:H>>>0,I||(I=0),typeof I=="number")for(Y=A;Y<H;++Y)this[Y]=I;else{var Q=e.isBuffer(I)?I:e.from(I,X),it=Q.length;if(it===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Y=0;Y<H-A;++Y)this[Y+A]=Q[Y%it]}return this};var j=/[^+/0-9A-Za-z-_]/g;function O(I){return I<16?"0"+I.toString(16):I.toString(16)}function z(I,A){var H;A=A||1/0;for(var X=I.length,J=null,Y=[],Q=0;Q<X;++Q){if((H=I.charCodeAt(Q))>55295&&H<57344){if(!J){if(H>56319){(A-=3)>-1&&Y.push(239,191,189);continue}if(Q+1===X){(A-=3)>-1&&Y.push(239,191,189);continue}J=H;continue}if(H<56320){(A-=3)>-1&&Y.push(239,191,189),J=H;continue}H=65536+(J-55296<<10|H-56320)}else J&&(A-=3)>-1&&Y.push(239,191,189);if(J=null,H<128){if((A-=1)<0)break;Y.push(H)}else if(H<2048){if((A-=2)<0)break;Y.push(H>>6|192,63&H|128)}else if(H<65536){if((A-=3)<0)break;Y.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;Y.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return Y}function V(I){return i.toByteArray(function(A){if((A=(A=A.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(I))}function q(I,A,H,X){for(var J=0;J<X&&!(J+H>=A.length||J>=I.length);++J)A[J+H]=I[J];return J}function P(I,A){return I instanceof A||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===A.name}function G(I){return I!=I}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,h,m){var l=t("safe-buffer").Buffer,i=t("stream").Transform,a=t("string_decoder").StringDecoder;function n(e){i.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(n,i),n.prototype.update=function(e,r,c){typeof e=="string"&&(e=l.from(e,r));var s=this._update(e);return this.hashMode?this:(c&&(s=this._toString(s,c)),s)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(e,r,c){var s;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(o){s=o}finally{c(s)}},n.prototype._flush=function(e){var r;try{this.push(this.__final())}catch(c){r=c}e(r)},n.prototype._finalOrDigest=function(e){var r=this.__final()||l.alloc(0);return e&&(r=this._toString(r,e,!0)),r},n.prototype._toString=function(e,r,c){if(this._decoder||(this._decoder=new a(r),this._encoding=r),this._encoding!==r)throw new Error("can't switch encodings");var s=this._decoder.write(e);return c&&(s+=this._decoder.end()),s},h.exports=n},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,h,m){var l=t("../internals/is-callable"),i=t("../internals/try-to-string"),a=TypeError;h.exports=function(n){if(l(n))return n;throw new a(i(n)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,h,m){var l=t("../internals/is-constructor"),i=t("../internals/try-to-string"),a=TypeError;h.exports=function(n){if(l(n))return n;throw new a(i(n)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,h,m){var l=t("../internals/is-callable"),i=String,a=TypeError;h.exports=function(n){if(typeof n=="object"||l(n))return n;throw new a("Can't set "+i(n)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,h,m){var l=t("../internals/well-known-symbol"),i=t("../internals/object-create"),a=t("../internals/object-define-property").f,n=l("unscopables"),e=Array.prototype;e[n]===void 0&&a(e,n,{configurable:!0,value:i(null)}),h.exports=function(r){e[n][r]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,h,m){var l=t("../internals/object-is-prototype-of"),i=TypeError;h.exports=function(a,n){if(l(n,a))return a;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,h,m){var l=t("../internals/is-object"),i=String,a=TypeError;h.exports=function(n){if(l(n))return n;throw new a(i(n)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,h,m){var l=t("../internals/to-indexed-object"),i=t("../internals/to-absolute-index"),a=t("../internals/length-of-array-like"),n=function(e){return function(r,c,s){var o,d=l(r),f=a(d),u=i(s,f);if(e&&c!=c){for(;f>u;)if((o=d[u++])!=o)return!0}else for(;f>u;u++)if((e||u in d)&&d[u]===c)return e||u||0;return!e&&-1}};h.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,h,m){var l=t("../internals/function-bind-context"),i=t("../internals/function-uncurry-this"),a=t("../internals/indexed-object"),n=t("../internals/to-object"),e=t("../internals/length-of-array-like"),r=t("../internals/array-species-create"),c=i([].push),s=function(o){var d=o===1,f=o===2,u=o===3,g=o===4,p=o===6,x=o===7,S=o===5||p;return function(M,R,B,N){for(var L,F,$=n(M),W=a($),C=l(R,B),D=e(W),k=0,y=N||r,w=d?y(M,D):f||x?y(M,0):void 0;D>k;k++)if((S||k in W)&&(F=C(L=W[k],k,$),o))if(d)w[k]=F;else if(F)switch(o){case 3:return!0;case 5:return L;case 6:return k;case 2:c(w,L)}else switch(o){case 4:return!1;case 7:c(w,L)}return p?-1:u||g?g:w}};h.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,h,m){var l=t("../internals/to-absolute-index"),i=t("../internals/length-of-array-like"),a=t("../internals/create-property"),n=Array,e=Math.max;h.exports=function(r,c,s){for(var o=i(r),d=l(c,o),f=l(s===void 0?o:s,o),u=n(e(f-d,0)),g=0;d<f;d++,g++)a(u,g,r[d]);return u.length=g,u}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,h,m){var l=t("../internals/function-uncurry-this");h.exports=l([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,h,m){var l=t("../internals/is-array"),i=t("../internals/is-constructor"),a=t("../internals/is-object"),n=t("../internals/well-known-symbol")("species"),e=Array;h.exports=function(r){var c;return l(r)&&(c=r.constructor,(i(c)&&(c===e||l(c.prototype))||a(c)&&(c=c[n])===null)&&(c=void 0)),c===void 0?e:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,h,m){var l=t("../internals/array-species-constructor");h.exports=function(i,a){return new(l(i))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(t,h,m){var l=t("../internals/well-known-symbol")("iterator"),i=!1;try{var a=0,n={next:function(){return{done:!!a++}},return:function(){i=!0}};n[l]=function(){return this},Array.from(n,function(){throw 2})}catch{}h.exports=function(e,r){try{if(!r&&!i)return!1}catch{return!1}var c=!1;try{var s={};s[l]=function(){return{next:function(){return{done:c=!0}}}},e(s)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=l({}.toString),a=l("".slice);h.exports=function(n){return a(i(n),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,h,m){var l=t("../internals/to-string-tag-support"),i=t("../internals/is-callable"),a=t("../internals/classof-raw"),n=t("../internals/well-known-symbol")("toStringTag"),e=Object,r=a(function(){return arguments}())==="Arguments";h.exports=l?a:function(c){var s,o,d;return c===void 0?"Undefined":c===null?"Null":typeof(o=function(f,u){try{return f[u]}catch{}}(s=e(c),n))=="string"?o:r?a(s):(d=a(s))==="Object"&&i(s.callee)?"Arguments":d}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,h,m){var l=t("../internals/has-own-property"),i=t("../internals/own-keys"),a=t("../internals/object-get-own-property-descriptor"),n=t("../internals/object-define-property");h.exports=function(e,r,c){for(var s=i(r),o=n.f,d=a.f,f=0;f<s.length;f++){var u=s[f];l(e,u)||c&&l(c,u)||o(e,u,d(r,u))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,h,m){var l=t("../internals/well-known-symbol")("match");h.exports=function(i){var a=/./;try{"/./"[i](a)}catch{try{return a[l]=!1,"/./"[i](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,h,m){var l=t("../internals/fails");h.exports=!l(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":260}],240:[function(t,h,m){h.exports=function(l,i){return{value:l,done:i}}},{}],241:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");h.exports=l?function(n,e,r){return i.f(n,e,a(1,r))}:function(n,e,r){return n[e]=r,n}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,h,m){h.exports=function(l,i){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:i}}},{}],243:[function(t,h,m){var l=t("../internals/to-property-key"),i=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");h.exports=function(n,e,r){var c=l(e);c in n?i.f(n,c,a(0,r)):n[c]=r}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,h,m){var l=t("../internals/make-built-in"),i=t("../internals/object-define-property");h.exports=function(a,n,e){return e.get&&l(e.get,n,{getter:!0}),e.set&&l(e.set,n,{setter:!0}),i.f(a,n,e)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,h,m){var l=t("../internals/is-callable"),i=t("../internals/object-define-property"),a=t("../internals/make-built-in"),n=t("../internals/define-global-property");h.exports=function(e,r,c,s){s||(s={});var o=s.enumerable,d=s.name!==void 0?s.name:r;if(l(c)&&a(c,d,s),s.global)o?e[r]=c:n(r,c);else{try{s.unsafe?e[r]&&(o=!0):delete e[r]}catch{}o?e[r]=c:i.f(e,r,{value:c,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,h,m){var l=t("../internals/global"),i=Object.defineProperty;h.exports=function(a,n){try{i(l,a,{value:n,configurable:!0,writable:!0})}catch{l[a]=n}return n}},{"../internals/global":274}],247:[function(t,h,m){var l=t("../internals/fails");h.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,h,m){var l=typeof document=="object"&&document.all,i=l===void 0&&l!==void 0;h.exports={all:l,IS_HTMLDDA:i}},{}],249:[function(t,h,m){var l=t("../internals/global"),i=t("../internals/is-object"),a=l.document,n=i(a)&&i(a.createElement);h.exports=function(e){return n?a.createElement(e):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,h,m){var l=t("../internals/engine-is-deno"),i=t("../internals/engine-is-node");h.exports=!l&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,h,m){h.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,h,m){var l=t("../internals/engine-user-agent");h.exports=/ipad|iphone|ipod/i.test(l)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,h,m){var l=t("../internals/engine-user-agent");h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},{"../internals/engine-user-agent":256}],254:[function(t,h,m){var l=t("../internals/global"),i=t("../internals/classof-raw");h.exports=i(l.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,h,m){var l=t("../internals/engine-user-agent");h.exports=/web0s(?!.*chrome)/i.test(l)},{"../internals/engine-user-agent":256}],256:[function(t,h,m){h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,h,m){var l,i,a=t("../internals/global"),n=t("../internals/engine-user-agent"),e=a.process,r=a.Deno,c=e&&e.versions||r&&r.version,s=c&&c.v8;s&&(i=(l=s.split("."))[0]>0&&l[0]<4?1:+(l[0]+l[1])),!i&&n&&(!(l=n.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=n.match(/Chrome\/(\d+)/))&&(i=+l[1]),h.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,h,m){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,h,m){var l=t("../internals/global"),i=t("../internals/object-get-own-property-descriptor").f,a=t("../internals/create-non-enumerable-property"),n=t("../internals/define-built-in"),e=t("../internals/define-global-property"),r=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");h.exports=function(s,o){var d,f,u,g,p,x=s.target,S=s.global,M=s.stat;if(d=S?l:M?l[x]||e(x,{}):(l[x]||{}).prototype)for(f in o){if(g=o[f],u=s.dontCallGetSet?(p=i(d,f))&&p.value:d[f],!c(S?f:x+(M?".":"#")+f,s.forced)&&u!==void 0){if(typeof g==typeof u)continue;r(g,u)}(s.sham||u&&u.sham)&&a(g,"sham",!0),n(d,f,g,s)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,h,m){h.exports=function(l){try{return!!l()}catch{return!0}}},{}],261:[function(t,h,m){var l=t("../internals/function-bind-native"),i=Function.prototype,a=i.apply,n=i.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(l?n.bind(a):function(){return n.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,h,m){var l=t("../internals/function-uncurry-this-clause"),i=t("../internals/a-callable"),a=t("../internals/function-bind-native"),n=l(l.bind);h.exports=function(e,r){return i(e),r===void 0?e:a?n(e,r):function(){return e.apply(r,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,h,m){var l=t("../internals/fails");h.exports=!l(function(){var i=(function(){}).bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,h,m){var l=t("../internals/function-bind-native"),i=Function.prototype.call;h.exports=l?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/has-own-property"),a=Function.prototype,n=l&&Object.getOwnPropertyDescriptor,e=i(a,"name"),r=e&&(function(){}).name==="something",c=e&&(!l||l&&n(a,"name").configurable);h.exports={EXISTS:e,PROPER:r,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=t("../internals/a-callable");h.exports=function(a,n,e){try{return l(i(Object.getOwnPropertyDescriptor(a,n)[e]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,h,m){var l=t("../internals/classof-raw"),i=t("../internals/function-uncurry-this");h.exports=function(a){if(l(a)==="Function")return i(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,h,m){var l=t("../internals/function-bind-native"),i=Function.prototype,a=i.call,n=l&&i.bind.bind(a,a);h.exports=l?n:function(e){return function(){return a.apply(e,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,h,m){var l=t("../internals/global"),i=t("../internals/is-callable"),a=function(n){return i(n)?n:void 0};h.exports=function(n,e){return arguments.length<2?a(l[n]):l[n]&&l[n][e]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,h,m){var l=t("../internals/classof"),i=t("../internals/get-method"),a=t("../internals/is-null-or-undefined"),n=t("../internals/iterators"),e=t("../internals/well-known-symbol")("iterator");h.exports=function(r){if(!a(r))return i(r,e)||i(r,"@@iterator")||n[l(r)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,h,m){var l=t("../internals/function-call"),i=t("../internals/a-callable"),a=t("../internals/an-object"),n=t("../internals/try-to-string"),e=t("../internals/get-iterator-method"),r=TypeError;h.exports=function(c,s){var o=arguments.length<2?e(c):s;if(i(o))return a(l(o,c));throw new r(n(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=t("../internals/is-array"),a=t("../internals/is-callable"),n=t("../internals/classof-raw"),e=t("../internals/to-string"),r=l([].push);h.exports=function(c){if(a(c))return c;if(i(c)){for(var s=c.length,o=[],d=0;d<s;d++){var f=c[d];typeof f=="string"?r(o,f):typeof f!="number"&&n(f)!=="Number"&&n(f)!=="String"||r(o,e(f))}var u=o.length,g=!0;return function(p,x){if(g)return g=!1,x;if(i(this))return x;for(var S=0;S<u;S++)if(o[S]===p)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,h,m){var l=t("../internals/a-callable"),i=t("../internals/is-null-or-undefined");h.exports=function(a,n){var e=a[n];return i(e)?void 0:l(e)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,h,m){(function(l){(function(){var i=function(a){return a&&a.Math===Math&&a};h.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof l=="object"&&l)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=t("../internals/to-object"),a=l({}.hasOwnProperty);h.exports=Object.hasOwn||function(n,e){return a(i(n),e)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,h,m){h.exports={}},{}],277:[function(t,h,m){h.exports=function(l,i){try{arguments.length===1?console.error(l):console.error(l,i)}catch{}}},{}],278:[function(t,h,m){var l=t("../internals/get-built-in");h.exports=l("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/fails"),a=t("../internals/document-create-element");h.exports=!l&&!i(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=t("../internals/fails"),a=t("../internals/classof-raw"),n=Object,e=l("".split);h.exports=i(function(){return!n("z").propertyIsEnumerable(0)})?function(r){return a(r)==="String"?e(r,""):n(r)}:n},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=t("../internals/is-callable"),a=t("../internals/shared-store"),n=l(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return n(e)}),h.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,h,m){var l,i,a,n=t("../internals/weak-map-basic-detection"),e=t("../internals/global"),r=t("../internals/is-object"),c=t("../internals/create-non-enumerable-property"),s=t("../internals/has-own-property"),o=t("../internals/shared-store"),d=t("../internals/shared-key"),f=t("../internals/hidden-keys"),u=e.TypeError,g=e.WeakMap;if(n||o.state){var p=o.state||(o.state=new g);p.get=p.get,p.has=p.has,p.set=p.set,l=function(S,M){if(p.has(S))throw new u("Object already initialized");return M.facade=S,p.set(S,M),M},i=function(S){return p.get(S)||{}},a=function(S){return p.has(S)}}else{var x=d("state");f[x]=!0,l=function(S,M){if(s(S,x))throw new u("Object already initialized");return M.facade=S,c(S,x,M),M},i=function(S){return s(S,x)?S[x]:{}},a=function(S){return s(S,x)}}h.exports={set:l,get:i,has:a,enforce:function(S){return a(S)?i(S):l(S,{})},getterFor:function(S){return function(M){var R;if(!r(M)||(R=i(M)).type!==S)throw new u("Incompatible receiver, "+S+" required");return R}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,h,m){var l=t("../internals/well-known-symbol"),i=t("../internals/iterators"),a=l("iterator"),n=Array.prototype;h.exports=function(e){return e!==void 0&&(i.Array===e||n[a]===e)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,h,m){var l=t("../internals/classof-raw");h.exports=Array.isArray||function(i){return l(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,h,m){var l=t("../internals/document-all"),i=l.all;h.exports=l.IS_HTMLDDA?function(a){return typeof a=="function"||a===i}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=t("../internals/fails"),a=t("../internals/is-callable"),n=t("../internals/classof"),e=t("../internals/get-built-in"),r=t("../internals/inspect-source"),c=function(){},s=[],o=e("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=l(d.exec),u=!d.test(c),g=function(x){if(!a(x))return!1;try{return o(c,s,x),!0}catch{return!1}},p=function(x){if(!a(x))return!1;switch(n(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!f(d,r(x))}catch{return!0}};p.sham=!0,h.exports=!o||i(function(){var x;return g(g.call)||!g(Object)||!g(function(){x=!0})||x})?p:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,h,m){var l=t("../internals/fails"),i=t("../internals/is-callable"),a=/#|\.prototype\./,n=function(o,d){var f=r[e(o)];return f===s||f!==c&&(i(d)?l(d):!!d)},e=n.normalize=function(o){return String(o).replace(a,".").toLowerCase()},r=n.data={},c=n.NATIVE="N",s=n.POLYFILL="P";h.exports=n},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,h,m){h.exports=function(l){return l==null}},{}],289:[function(t,h,m){var l=t("../internals/is-callable"),i=t("../internals/document-all"),a=i.all;h.exports=i.IS_HTMLDDA?function(n){return typeof n=="object"?n!==null:l(n)||n===a}:function(n){return typeof n=="object"?n!==null:l(n)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,h,m){h.exports=!1},{}],291:[function(t,h,m){var l=t("../internals/is-object"),i=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("match");h.exports=function(n){var e;return l(n)&&((e=n[a])!==void 0?!!e:i(n)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,h,m){var l=t("../internals/get-built-in"),i=t("../internals/is-callable"),a=t("../internals/object-is-prototype-of"),n=t("../internals/use-symbol-as-uid"),e=Object;h.exports=n?function(r){return typeof r=="symbol"}:function(r){var c=l("Symbol");return i(c)&&a(c.prototype,e(r))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,h,m){var l=t("../internals/function-bind-context"),i=t("../internals/function-call"),a=t("../internals/an-object"),n=t("../internals/try-to-string"),e=t("../internals/is-array-iterator-method"),r=t("../internals/length-of-array-like"),c=t("../internals/object-is-prototype-of"),s=t("../internals/get-iterator"),o=t("../internals/get-iterator-method"),d=t("../internals/iterator-close"),f=TypeError,u=function(p,x){this.stopped=p,this.result=x},g=u.prototype;h.exports=function(p,x,S){var M,R,B,N,L,F,$,W=S&&S.that,C=!(!S||!S.AS_ENTRIES),D=!(!S||!S.IS_RECORD),k=!(!S||!S.IS_ITERATOR),y=!(!S||!S.INTERRUPTED),w=l(x,W),v=function(T){return M&&d(M,"normal",T),new u(!0,T)},_=function(T){return C?(a(T),y?w(T[0],T[1],v):w(T[0],T[1])):y?w(T,v):w(T)};if(D)M=p.iterator;else if(k)M=p;else{if(!(R=o(p)))throw new f(n(p)+" is not iterable");if(e(R)){for(B=0,N=r(p);N>B;B++)if((L=_(p[B]))&&c(g,L))return L;return new u(!1)}M=s(p,R)}for(F=D?p.next:M.next;!($=i(F,M)).done;){try{L=_($.value)}catch(T){d(M,"throw",T)}if(typeof L=="object"&&L&&c(g,L))return L}return new u(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,h,m){var l=t("../internals/function-call"),i=t("../internals/an-object"),a=t("../internals/get-method");h.exports=function(n,e,r){var c,s;i(n);try{if(!(c=a(n,"return"))){if(e==="throw")throw r;return r}c=l(c,n)}catch(o){s=!0,c=o}if(e==="throw")throw r;if(s)throw c;return i(c),r}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,h,m){var l=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),a=t("../internals/create-property-descriptor"),n=t("../internals/set-to-string-tag"),e=t("../internals/iterators"),r=function(){return this};h.exports=function(c,s,o,d){var f=s+" Iterator";return c.prototype=i(l,{next:a(+!d,o)}),n(c,f,!1,!0),e[f]=r,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/function-call"),a=t("../internals/is-pure"),n=t("../internals/function-name"),e=t("../internals/is-callable"),r=t("../internals/iterator-create-constructor"),c=t("../internals/object-get-prototype-of"),s=t("../internals/object-set-prototype-of"),o=t("../internals/set-to-string-tag"),d=t("../internals/create-non-enumerable-property"),f=t("../internals/define-built-in"),u=t("../internals/well-known-symbol"),g=t("../internals/iterators"),p=t("../internals/iterators-core"),x=n.PROPER,S=n.CONFIGURABLE,M=p.IteratorPrototype,R=p.BUGGY_SAFARI_ITERATORS,B=u("iterator"),N=function(){return this};h.exports=function(L,F,$,W,C,D,k){r($,F,W);var y,w,v,_=function(P){if(P===C&&V)return V;if(!R&&P&&P in O)return O[P];switch(P){case"keys":case"values":case"entries":return function(){return new $(this,P)}}return function(){return new $(this)}},T=F+" Iterator",j=!1,O=L.prototype,z=O[B]||O["@@iterator"]||C&&O[C],V=!R&&z||_(C),q=F==="Array"&&O.entries||z;if(q&&(y=c(q.call(new L)))!==Object.prototype&&y.next&&(a||c(y)===M||(s?s(y,M):e(y[B])||f(y,B,N)),o(y,T,!0,!0),a&&(g[T]=N)),x&&C==="values"&&z&&z.name!=="values"&&(!a&&S?d(O,"name","values"):(j=!0,V=function(){return i(z,this)})),C)if(w={values:_("values"),keys:D?V:_("keys"),entries:_("entries")},k)for(v in w)(R||j||!(v in O))&&f(O,v,w[v]);else l({target:F,proto:!0,forced:R||j},w);return a&&!k||O[B]===V||f(O,B,V,{name:C}),g[F]=V,w}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,h,m){var l,i,a,n=t("../internals/fails"),e=t("../internals/is-callable"),r=t("../internals/is-object"),c=t("../internals/object-create"),s=t("../internals/object-get-prototype-of"),o=t("../internals/define-built-in"),d=t("../internals/well-known-symbol"),f=t("../internals/is-pure"),u=d("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(l=i):g=!0),!r(l)||n(function(){var p={};return l[u].call(p)!==p})?l={}:f&&(l=c(l)),e(l[u])||o(l,u,function(){return this}),h.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,h,m){arguments[4][276][0].apply(m,arguments)},{dup:276}],299:[function(t,h,m){var l=t("../internals/to-length");h.exports=function(i){return l(i.length)}},{"../internals/to-length":343}],300:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=t("../internals/fails"),a=t("../internals/is-callable"),n=t("../internals/has-own-property"),e=t("../internals/descriptors"),r=t("../internals/function-name").CONFIGURABLE,c=t("../internals/inspect-source"),s=t("../internals/internal-state"),o=s.enforce,d=s.get,f=String,u=Object.defineProperty,g=l("".slice),p=l("".replace),x=l([].join),S=e&&!i(function(){return u(function(){},"length",{value:8}).length!==8}),M=String(String).split("String"),R=h.exports=function(B,N,L){g(f(N),0,7)==="Symbol("&&(N="["+p(f(N),/^Symbol\(([^)]*)\)/,"$1")+"]"),L&&L.getter&&(N="get "+N),L&&L.setter&&(N="set "+N),(!n(B,"name")||r&&B.name!==N)&&(e?u(B,"name",{value:N,configurable:!0}):B.name=N),S&&L&&n(L,"arity")&&B.length!==L.arity&&u(B,"length",{value:L.arity});try{L&&n(L,"constructor")&&L.constructor?e&&u(B,"prototype",{writable:!1}):B.prototype&&(B.prototype=void 0)}catch{}var F=o(B);return n(F,"source")||(F.source=x(M,typeof N=="string"?N:"")),B};Function.prototype.toString=R(function(){return a(this)&&d(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,h,m){var l=Math.ceil,i=Math.floor;h.exports=Math.trunc||function(a){var n=+a;return(n>0?i:l)(n)}},{}],302:[function(t,h,m){var l,i,a,n,e,r=t("../internals/global"),c=t("../internals/function-bind-context"),s=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/task").set,d=t("../internals/queue"),f=t("../internals/engine-is-ios"),u=t("../internals/engine-is-ios-pebble"),g=t("../internals/engine-is-webos-webkit"),p=t("../internals/engine-is-node"),x=r.MutationObserver||r.WebKitMutationObserver,S=r.document,M=r.process,R=r.Promise,B=s(r,"queueMicrotask"),N=B&&B.value;if(!N){var L=new d,F=function(){var $,W;for(p&&($=M.domain)&&$.exit();W=L.get();)try{W()}catch(C){throw L.head&&l(),C}$&&$.enter()};f||p||g||!x||!S?!u&&R&&R.resolve?((n=R.resolve(void 0)).constructor=R,e=c(n.then,n),l=function(){e(F)}):p?l=function(){M.nextTick(F)}:(o=c(o,r),l=function(){o(F)}):(i=!0,a=S.createTextNode(""),new x(F).observe(a,{characterData:!0}),l=function(){a.data=i=!i}),N=function($){L.head||l(),L.add($)}}h.exports=N},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,h,m){var l=t("../internals/a-callable"),i=TypeError,a=function(n){var e,r;this.promise=new n(function(c,s){if(e!==void 0||r!==void 0)throw new i("Bad Promise constructor");e=c,r=s}),this.resolve=l(e),this.reject=l(r)};h.exports.f=function(n){return new a(n)}},{"../internals/a-callable":222}],304:[function(t,h,m){var l=t("../internals/is-regexp"),i=TypeError;h.exports=function(a){if(l(a))throw new i("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/function-uncurry-this"),a=t("../internals/function-call"),n=t("../internals/fails"),e=t("../internals/object-keys"),r=t("../internals/object-get-own-property-symbols"),c=t("../internals/object-property-is-enumerable"),s=t("../internals/to-object"),o=t("../internals/indexed-object"),d=Object.assign,f=Object.defineProperty,u=i([].concat);h.exports=!d||n(function(){if(l&&d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},p={},x=Symbol("assign detection");return g[x]=7,"abcdefghijklmnopqrst".split("").forEach(function(S){p[S]=S}),d({},g)[x]!==7||e(d({},p)).join("")!=="abcdefghijklmnopqrst"})?function(g,p){for(var x=s(g),S=arguments.length,M=1,R=r.f,B=c.f;S>M;)for(var N,L=o(arguments[M++]),F=R?u(e(L),R(L)):e(L),$=F.length,W=0;$>W;)N=F[W++],l&&!a(B,L,N)||(x[N]=L[N]);return x}:d},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,h,m){var l,i=t("../internals/an-object"),a=t("../internals/object-define-properties"),n=t("../internals/enum-bug-keys"),e=t("../internals/hidden-keys"),r=t("../internals/html"),c=t("../internals/document-create-element"),s=t("../internals/shared-key"),o=s("IE_PROTO"),d=function(){},f=function(p){return"<script>"+p+"<\/script>"},u=function(p){p.write(f("")),p.close();var x=p.parentWindow.Object;return p=null,x},g=function(){try{l=new ActiveXObject("htmlfile")}catch{}var p,x;g=typeof document<"u"?document.domain&&l?u(l):((x=c("iframe")).style.display="none",r.appendChild(x),x.src="javascript:",(p=x.contentWindow.document).open(),p.write(f("document.F=Object")),p.close(),p.F):u(l);for(var S=n.length;S--;)delete g.prototype[n[S]];return g()};e[o]=!0,h.exports=Object.create||function(p,x){var S;return p!==null?(d.prototype=i(p),S=new d,d.prototype=null,S[o]=p):S=g(),x===void 0?S:a.f(S,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/v8-prototype-define-bug"),a=t("../internals/object-define-property"),n=t("../internals/an-object"),e=t("../internals/to-indexed-object"),r=t("../internals/object-keys");m.f=l&&!i?Object.defineProperties:function(c,s){n(c);for(var o,d=e(s),f=r(s),u=f.length,g=0;u>g;)a.f(c,o=f[g++],d[o]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/ie8-dom-define"),a=t("../internals/v8-prototype-define-bug"),n=t("../internals/an-object"),e=t("../internals/to-property-key"),r=TypeError,c=Object.defineProperty,s=Object.getOwnPropertyDescriptor;m.f=l?a?function(o,d,f){if(n(o),d=e(d),n(f),typeof o=="function"&&d==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var u=s(o,d);u&&u.writable&&(o[d]=f.value,f={configurable:"configurable"in f?f.configurable:u.configurable,enumerable:"enumerable"in f?f.enumerable:u.enumerable,writable:!1})}return c(o,d,f)}:c:function(o,d,f){if(n(o),d=e(d),n(f),i)try{return c(o,d,f)}catch{}if("get"in f||"set"in f)throw new r("Accessors not supported");return"value"in f&&(o[d]=f.value),o}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/function-call"),a=t("../internals/object-property-is-enumerable"),n=t("../internals/create-property-descriptor"),e=t("../internals/to-indexed-object"),r=t("../internals/to-property-key"),c=t("../internals/has-own-property"),s=t("../internals/ie8-dom-define"),o=Object.getOwnPropertyDescriptor;m.f=l?o:function(d,f){if(d=e(d),f=r(f),s)try{return o(d,f)}catch{}if(c(d,f))return n(!i(a.f,d,f),d[f])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,h,m){var l=t("../internals/classof-raw"),i=t("../internals/to-indexed-object"),a=t("../internals/object-get-own-property-names").f,n=t("../internals/array-slice-simple"),e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.f=function(r){return e&&l(r)==="Window"?function(c){try{return a(c)}catch{return n(e)}}(r):a(i(r))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,h,m){var l=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys").concat("length","prototype");m.f=Object.getOwnPropertyNames||function(a){return l(a,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,h,m){m.f=Object.getOwnPropertySymbols},{}],313:[function(t,h,m){var l=t("../internals/has-own-property"),i=t("../internals/is-callable"),a=t("../internals/to-object"),n=t("../internals/shared-key"),e=t("../internals/correct-prototype-getter"),r=n("IE_PROTO"),c=Object,s=c.prototype;h.exports=e?c.getPrototypeOf:function(o){var d=a(o);if(l(d,r))return d[r];var f=d.constructor;return i(f)&&d instanceof f?f.prototype:d instanceof c?s:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,h,m){var l=t("../internals/function-uncurry-this");h.exports=l({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=t("../internals/has-own-property"),a=t("../internals/to-indexed-object"),n=t("../internals/array-includes").indexOf,e=t("../internals/hidden-keys"),r=l([].push);h.exports=function(c,s){var o,d=a(c),f=0,u=[];for(o in d)!i(e,o)&&i(d,o)&&r(u,o);for(;s.length>f;)i(d,o=s[f++])&&(~n(u,o)||r(u,o));return u}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,h,m){var l=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");h.exports=Object.keys||function(a){return l(a,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,h,m){var l={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!l.call({1:2},1);m.f=a?function(n){var e=i(this,n);return!!e&&e.enumerable}:l},{}],318:[function(t,h,m){var l=t("../internals/function-uncurry-this-accessor"),i=t("../internals/an-object"),a=t("../internals/a-possible-prototype");h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,r={};try{(n=l(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch{}return function(c,s){return i(c),a(s),e?n(c,s):c.__proto__=s,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/fails"),a=t("../internals/function-uncurry-this"),n=t("../internals/object-get-prototype-of"),e=t("../internals/object-keys"),r=t("../internals/to-indexed-object"),c=a(t("../internals/object-property-is-enumerable").f),s=a([].push),o=l&&i(function(){var f=Object.create(null);return f[2]=2,!c(f,2)}),d=function(f){return function(u){for(var g,p=r(u),x=e(p),S=o&&n(p)===null,M=x.length,R=0,B=[];M>R;)g=x[R++],l&&!(S?g in p:c(p,g))||s(B,f?[g,p[g]]:p[g]);return B}};h.exports={entries:d(!0),values:d(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,h,m){var l=t("../internals/function-call"),i=t("../internals/is-callable"),a=t("../internals/is-object"),n=TypeError;h.exports=function(e,r){var c,s;if(r==="string"&&i(c=e.toString)&&!a(s=l(c,e))||i(c=e.valueOf)&&!a(s=l(c,e))||r!=="string"&&i(c=e.toString)&&!a(s=l(c,e)))return s;throw new n("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,h,m){var l=t("../internals/get-built-in"),i=t("../internals/function-uncurry-this"),a=t("../internals/object-get-own-property-names"),n=t("../internals/object-get-own-property-symbols"),e=t("../internals/an-object"),r=i([].concat);h.exports=l("Reflect","ownKeys")||function(c){var s=a.f(e(c)),o=n.f;return o?r(s,o(c)):s}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,h,m){var l=t("../internals/global");h.exports=l},{"../internals/global":274}],323:[function(t,h,m){h.exports=function(l){try{return{error:!1,value:l()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(t,h,m){var l=t("../internals/global"),i=t("../internals/promise-native-constructor"),a=t("../internals/is-callable"),n=t("../internals/is-forced"),e=t("../internals/inspect-source"),r=t("../internals/well-known-symbol"),c=t("../internals/engine-is-browser"),s=t("../internals/engine-is-deno"),o=t("../internals/is-pure"),d=t("../internals/engine-v8-version"),f=i&&i.prototype,u=r("species"),g=!1,p=a(l.PromiseRejectionEvent),x=n("Promise",function(){var S=e(i),M=S!==String(i);if(!M&&d===66||o&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(S)){var R=new i(function(N){N(1)}),B=function(N){N(function(){},function(){})};if((R.constructor={})[u]=B,!(g=R.then(function(){})instanceof B))return!0}return!M&&(c||s)&&!p});h.exports={CONSTRUCTOR:x,REJECTION_EVENT:p,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,h,m){var l=t("../internals/global");h.exports=l.Promise},{"../internals/global":274}],326:[function(t,h,m){var l=t("../internals/an-object"),i=t("../internals/is-object"),a=t("../internals/new-promise-capability");h.exports=function(n,e){if(l(n),i(e)&&e.constructor===n)return e;var r=a.f(n);return(0,r.resolve)(e),r.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,h,m){var l=t("../internals/promise-native-constructor"),i=t("../internals/check-correctness-of-iteration"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR;h.exports=a||!i(function(n){l.all(n).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,h,m){var l=function(){this.head=null,this.tail=null};l.prototype={add:function(i){var a={item:i,next:null},n=this.tail;n?n.next=a:this.head=a,this.tail=a},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},h.exports=l},{}],329:[function(t,h,m){var l=t("../internals/is-null-or-undefined"),i=TypeError;h.exports=function(a){if(l(a))throw new i("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(t,h,m){var l=t("../internals/get-built-in"),i=t("../internals/define-built-in-accessor"),a=t("../internals/well-known-symbol"),n=t("../internals/descriptors"),e=a("species");h.exports=function(r){var c=l(r);n&&c&&!c[e]&&i(c,e,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,h,m){var l=t("../internals/object-define-property").f,i=t("../internals/has-own-property"),a=t("../internals/well-known-symbol")("toStringTag");h.exports=function(n,e,r){n&&!r&&(n=n.prototype),n&&!i(n,a)&&l(n,a,{configurable:!0,value:e})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,h,m){var l=t("../internals/shared"),i=t("../internals/uid"),a=l("keys");h.exports=function(n){return a[n]||(a[n]=i(n))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,h,m){var l=t("../internals/global"),i=t("../internals/define-global-property"),a=l["__core-js_shared__"]||i("__core-js_shared__",{});h.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,h,m){var l=t("../internals/is-pure"),i=t("../internals/shared-store");(h.exports=function(a,n){return i[a]||(i[a]=n!==void 0?n:{})})("versions",[]).push({version:"3.33.0",mode:l?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,h,m){var l=t("../internals/an-object"),i=t("../internals/a-constructor"),a=t("../internals/is-null-or-undefined"),n=t("../internals/well-known-symbol")("species");h.exports=function(e,r){var c,s=l(e).constructor;return s===void 0||a(c=l(s)[n])?r:i(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,h,m){var l=t("../internals/engine-v8-version"),i=t("../internals/fails"),a=t("../internals/global").String;h.exports=!!Object.getOwnPropertySymbols&&!i(function(){var n=Symbol("symbol detection");return!a(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&l&&l<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,h,m){var l=t("../internals/function-call"),i=t("../internals/get-built-in"),a=t("../internals/well-known-symbol"),n=t("../internals/define-built-in");h.exports=function(){var e=i("Symbol"),r=e&&e.prototype,c=r&&r.valueOf,s=a("toPrimitive");r&&!r[s]&&n(r,s,function(o){return l(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,h,m){var l=t("../internals/symbol-constructor-detection");h.exports=l&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,h,m){var l,i,a,n,e=t("../internals/global"),r=t("../internals/function-apply"),c=t("../internals/function-bind-context"),s=t("../internals/is-callable"),o=t("../internals/has-own-property"),d=t("../internals/fails"),f=t("../internals/html"),u=t("../internals/array-slice"),g=t("../internals/document-create-element"),p=t("../internals/validate-arguments-length"),x=t("../internals/engine-is-ios"),S=t("../internals/engine-is-node"),M=e.setImmediate,R=e.clearImmediate,B=e.process,N=e.Dispatch,L=e.Function,F=e.MessageChannel,$=e.String,W=0,C={};d(function(){l=e.location});var D=function(v){if(o(C,v)){var _=C[v];delete C[v],_()}},k=function(v){return function(){D(v)}},y=function(v){D(v.data)},w=function(v){e.postMessage($(v),l.protocol+"//"+l.host)};M&&R||(M=function(v){p(arguments.length,1);var _=s(v)?v:L(v),T=u(arguments,1);return C[++W]=function(){r(_,void 0,T)},i(W),W},R=function(v){delete C[v]},S?i=function(v){B.nextTick(k(v))}:N&&N.now?i=function(v){N.now(k(v))}:F&&!x?(n=(a=new F).port2,a.port1.onmessage=y,i=c(n.postMessage,n)):e.addEventListener&&s(e.postMessage)&&!e.importScripts&&l&&l.protocol!=="file:"&&!d(w)?(i=w,e.addEventListener("message",y,!1)):i="onreadystatechange"in g("script")?function(v){f.appendChild(g("script")).onreadystatechange=function(){f.removeChild(this),D(v)}}:function(v){setTimeout(k(v),0)}),h.exports={set:M,clear:R}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,h,m){var l=t("../internals/to-integer-or-infinity"),i=Math.max,a=Math.min;h.exports=function(n,e){var r=l(n);return r<0?i(r+e,0):a(r,e)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,h,m){var l=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");h.exports=function(a){return l(i(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,h,m){var l=t("../internals/math-trunc");h.exports=function(i){var a=+i;return a!=a||a===0?0:l(a)}},{"../internals/math-trunc":301}],343:[function(t,h,m){var l=t("../internals/to-integer-or-infinity"),i=Math.min;h.exports=function(a){return a>0?i(l(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,h,m){var l=t("../internals/require-object-coercible"),i=Object;h.exports=function(a){return i(l(a))}},{"../internals/require-object-coercible":329}],345:[function(t,h,m){var l=t("../internals/function-call"),i=t("../internals/is-object"),a=t("../internals/is-symbol"),n=t("../internals/get-method"),e=t("../internals/ordinary-to-primitive"),r=t("../internals/well-known-symbol"),c=TypeError,s=r("toPrimitive");h.exports=function(o,d){if(!i(o)||a(o))return o;var f,u=n(o,s);if(u){if(d===void 0&&(d="default"),f=l(u,o,d),!i(f)||a(f))return f;throw new c("Can't convert object to primitive value")}return d===void 0&&(d="number"),e(o,d)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,h,m){var l=t("../internals/to-primitive"),i=t("../internals/is-symbol");h.exports=function(a){var n=l(a,"string");return i(n)?n:n+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,h,m){var l={};l[t("../internals/well-known-symbol")("toStringTag")]="z",h.exports=String(l)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,h,m){var l=t("../internals/classof"),i=String;h.exports=function(a){if(l(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(a)}},{"../internals/classof":236}],349:[function(t,h,m){var l=String;h.exports=function(i){try{return l(i)}catch{return"Object"}}},{}],350:[function(t,h,m){var l=t("../internals/function-uncurry-this"),i=0,a=Math.random(),n=l(1 .toString);h.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+n(++i+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,h,m){var l=t("../internals/symbol-constructor-detection");h.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,h,m){var l=t("../internals/descriptors"),i=t("../internals/fails");h.exports=l&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,h,m){var l=TypeError;h.exports=function(i,a){if(i<a)throw new l("Not enough arguments");return i}},{}],354:[function(t,h,m){var l=t("../internals/global"),i=t("../internals/is-callable"),a=l.WeakMap;h.exports=i(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,h,m){var l=t("../internals/path"),i=t("../internals/has-own-property"),a=t("../internals/well-known-symbol-wrapped"),n=t("../internals/object-define-property").f;h.exports=function(e){var r=l.Symbol||(l.Symbol={});i(r,e)||n(r,e,{value:a.f(e)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,h,m){var l=t("../internals/well-known-symbol");m.f=l},{"../internals/well-known-symbol":357}],357:[function(t,h,m){var l=t("../internals/global"),i=t("../internals/shared"),a=t("../internals/has-own-property"),n=t("../internals/uid"),e=t("../internals/symbol-constructor-detection"),r=t("../internals/use-symbol-as-uid"),c=l.Symbol,s=i("wks"),o=r?c.for||c:c&&c.withoutSetter||n;h.exports=function(d){return a(s,d)||(s[d]=e&&a(c,d)?c[d]:o("Symbol."+d)),s[d]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/array-iteration").findIndex,a=t("../internals/add-to-unscopables"),n=!0;"findIndex"in[]&&Array(1).findIndex(function(){n=!1}),l({target:"Array",proto:!0,forced:n},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/array-iteration").find,a=t("../internals/add-to-unscopables"),n=!0;"find"in[]&&Array(1).find(function(){n=!1}),l({target:"Array",proto:!0,forced:n},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/array-includes").includes,a=t("../internals/fails"),n=t("../internals/add-to-unscopables");l({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,h,m){var l=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),a=t("../internals/iterators"),n=t("../internals/internal-state"),e=t("../internals/object-define-property").f,r=t("../internals/iterator-define"),c=t("../internals/create-iter-result-object"),s=t("../internals/is-pure"),o=t("../internals/descriptors"),d=n.set,f=n.getterFor("Array Iterator");h.exports=r(Array,"Array",function(g,p){d(this,{type:"Array Iterator",target:l(g),index:0,kind:p})},function(){var g=f(this),p=g.target,x=g.kind,S=g.index++;if(!p||S>=p.length)return g.target=void 0,c(void 0,!0);switch(x){case"keys":return c(S,!1);case"values":return c(p[S],!1)}return c([S,p[S]],!1)},"values");var u=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!s&&o&&u.name!=="values")try{e(u,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/get-built-in"),a=t("../internals/function-apply"),n=t("../internals/function-call"),e=t("../internals/function-uncurry-this"),r=t("../internals/fails"),c=t("../internals/is-callable"),s=t("../internals/is-symbol"),o=t("../internals/array-slice"),d=t("../internals/get-json-replacer-function"),f=t("../internals/symbol-constructor-detection"),u=String,g=i("JSON","stringify"),p=e(/./.exec),x=e("".charAt),S=e("".charCodeAt),M=e("".replace),R=e(1 .toString),B=/[\uD800-\uDFFF]/g,N=/^[\uD800-\uDBFF]$/,L=/^[\uDC00-\uDFFF]$/,F=!f||r(function(){var D=i("Symbol")("stringify detection");return g([D])!=="[null]"||g({a:D})!=="{}"||g(Object(D))!=="{}"}),$=r(function(){return g("\uDF06\uD834")!=='"\\udf06\\ud834"'||g("\uDEAD")!=='"\\udead"'}),W=function(D,k){var y=o(arguments),w=d(k);if(c(w)||D!==void 0&&!s(D))return y[1]=function(v,_){if(c(w)&&(_=n(w,this,u(v),_)),!s(_))return _},a(g,null,y)},C=function(D,k,y){var w=x(y,k-1),v=x(y,k+1);return p(N,D)&&!p(L,v)||p(L,D)&&!p(N,w)?"\\u"+R(S(D,0),16):D};g&&l({target:"JSON",stat:!0,arity:3,forced:F||$},{stringify:function(D,k,y){var w=o(arguments),v=a(F?W:g,null,w);return $&&typeof v=="string"?M(v,B,C):v}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,h,m){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(l){return l!=l}})},{"../internals/export":259}],364:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/object-assign");l({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/symbol-constructor-detection"),a=t("../internals/fails"),n=t("../internals/object-get-own-property-symbols"),e=t("../internals/to-object");l({target:"Object",stat:!0,forced:!i||a(function(){n.f(1)})},{getOwnPropertySymbols:function(r){var c=n.f;return c?c(e(r)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/to-object"),a=t("../internals/object-keys");l({target:"Object",stat:!0,forced:t("../internals/fails")(function(){a(1)})},{keys:function(n){return a(i(n))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/object-to-array").values;l({target:"Object",stat:!0},{values:function(a){return i(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/function-call"),a=t("../internals/a-callable"),n=t("../internals/new-promise-capability"),e=t("../internals/perform"),r=t("../internals/iterate");l({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(c){var s=this,o=n.f(s),d=o.resolve,f=o.reject,u=e(function(){var g=a(s.resolve),p=[],x=0,S=1;r(c,function(M){var R=x++,B=!1;S++,i(g,s,M).then(function(N){B||(B=!0,p[R]=N,--S||d(p))},f)}),--S||d(p)});return u.error&&f(u.value),o.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/is-pure"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR,n=t("../internals/promise-native-constructor"),e=t("../internals/get-built-in"),r=t("../internals/is-callable"),c=t("../internals/define-built-in"),s=n&&n.prototype;if(l({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(d){return this.then(void 0,d)}}),!i&&r(n)){var o=e("Promise").prototype.catch;s.catch!==o&&c(s,"catch",o,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,h,m){var l,i,a,n=t("../internals/export"),e=t("../internals/is-pure"),r=t("../internals/engine-is-node"),c=t("../internals/global"),s=t("../internals/function-call"),o=t("../internals/define-built-in"),d=t("../internals/object-set-prototype-of"),f=t("../internals/set-to-string-tag"),u=t("../internals/set-species"),g=t("../internals/a-callable"),p=t("../internals/is-callable"),x=t("../internals/is-object"),S=t("../internals/an-instance"),M=t("../internals/species-constructor"),R=t("../internals/task").set,B=t("../internals/microtask"),N=t("../internals/host-report-errors"),L=t("../internals/perform"),F=t("../internals/queue"),$=t("../internals/internal-state"),W=t("../internals/promise-native-constructor"),C=t("../internals/promise-constructor-detection"),D=t("../internals/new-promise-capability"),k=C.CONSTRUCTOR,y=C.REJECTION_EVENT,w=C.SUBCLASSING,v=$.getterFor("Promise"),_=$.set,T=W&&W.prototype,j=W,O=T,z=c.TypeError,V=c.document,q=c.process,P=D.f,G=P,I=!!(V&&V.createEvent&&c.dispatchEvent),A=function(rt){var at;return!(!x(rt)||!p(at=rt.then))&&at},H=function(rt,at){var ot,ct,dt,ft=at.value,gt=at.state===1,Dt=gt?rt.ok:rt.fail,Tt=rt.resolve,wt=rt.reject,Lt=rt.domain;try{Dt?(gt||(at.rejection===2&&it(at),at.rejection=1),Dt===!0?ot=ft:(Lt&&Lt.enter(),ot=Dt(ft),Lt&&(Lt.exit(),dt=!0)),ot===rt.promise?wt(new z("Promise-chain cycle")):(ct=A(ot))?s(ct,ot,Tt,wt):Tt(ot)):wt(ft)}catch(Wt){Lt&&!dt&&Lt.exit(),wt(Wt)}},X=function(rt,at){rt.notified||(rt.notified=!0,B(function(){for(var ot,ct=rt.reactions;ot=ct.get();)H(ot,rt);rt.notified=!1,at&&!rt.rejection&&Y(rt)}))},J=function(rt,at,ot){var ct,dt;I?((ct=V.createEvent("Event")).promise=at,ct.reason=ot,ct.initEvent(rt,!1,!0),c.dispatchEvent(ct)):ct={promise:at,reason:ot},!y&&(dt=c["on"+rt])?dt(ct):rt==="unhandledrejection"&&N("Unhandled promise rejection",ot)},Y=function(rt){s(R,c,function(){var at,ot=rt.facade,ct=rt.value;if(Q(rt)&&(at=L(function(){r?q.emit("unhandledRejection",ct,ot):J("unhandledrejection",ot,ct)}),rt.rejection=r||Q(rt)?2:1,at.error))throw at.value})},Q=function(rt){return rt.rejection!==1&&!rt.parent},it=function(rt){s(R,c,function(){var at=rt.facade;r?q.emit("rejectionHandled",at):J("rejectionhandled",at,rt.value)})},st=function(rt,at,ot){return function(ct){rt(at,ct,ot)}},K=function(rt,at,ot){rt.done||(rt.done=!0,ot&&(rt=ot),rt.value=at,rt.state=2,X(rt,!0))},et=function(rt,at,ot){if(!rt.done){rt.done=!0,ot&&(rt=ot);try{if(rt.facade===at)throw new z("Promise can't be resolved itself");var ct=A(at);ct?B(function(){var dt={done:!1};try{s(ct,at,st(et,dt,rt),st(K,dt,rt))}catch(ft){K(dt,ft,rt)}}):(rt.value=at,rt.state=1,X(rt,!1))}catch(dt){K({done:!1},dt,rt)}}};if(k&&(O=(j=function(rt){S(this,O),g(rt),s(l,this);var at=v(this);try{rt(st(et,at),st(K,at))}catch(ot){K(at,ot)}}).prototype,(l=function(rt){_(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=o(O,"then",function(rt,at){var ot=v(this),ct=P(M(this,j));return ot.parent=!0,ct.ok=!p(rt)||rt,ct.fail=p(at)&&at,ct.domain=r?q.domain:void 0,ot.state===0?ot.reactions.add(ct):B(function(){H(ct,ot)}),ct.promise}),i=function(){var rt=new l,at=v(rt);this.promise=rt,this.resolve=st(et,at),this.reject=st(K,at)},D.f=P=function(rt){return rt===j||rt===void 0?new i(rt):G(rt)},!e&&p(W)&&T!==Object.prototype)){a=T.then,w||o(T,"then",function(rt,at){var ot=this;return new j(function(ct,dt){s(a,ot,ct,dt)}).then(rt,at)},{unsafe:!0});try{delete T.constructor}catch{}d&&d(T,O)}n({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:j}),f(j,"Promise",!1,!0),u("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/is-pure"),a=t("../internals/promise-native-constructor"),n=t("../internals/fails"),e=t("../internals/get-built-in"),r=t("../internals/is-callable"),c=t("../internals/species-constructor"),s=t("../internals/promise-resolve"),o=t("../internals/define-built-in"),d=a&&a.prototype;if(l({target:"Promise",proto:!0,real:!0,forced:!!a&&n(function(){d.finally.call({then:function(){}},function(){})})},{finally:function(u){var g=c(this,e("Promise")),p=r(u);return this.then(p?function(x){return s(g,u()).then(function(){return x})}:u,p?function(x){return s(g,u()).then(function(){throw x})}:u)}}),!i&&r(a)){var f=e("Promise").prototype.finally;d.finally!==f&&o(d,"finally",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,h,m){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/function-call"),a=t("../internals/a-callable"),n=t("../internals/new-promise-capability"),e=t("../internals/perform"),r=t("../internals/iterate");l({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(c){var s=this,o=n.f(s),d=o.reject,f=e(function(){var u=a(s.resolve);r(c,function(g){i(u,s,g).then(o.resolve,d)})});return f.error&&d(f.value),o.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/function-call"),a=t("../internals/new-promise-capability");l({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(n){var e=a.f(this);return i(e.reject,void 0,n),e.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/get-built-in"),a=t("../internals/is-pure"),n=t("../internals/promise-native-constructor"),e=t("../internals/promise-constructor-detection").CONSTRUCTOR,r=t("../internals/promise-resolve"),c=i("Promise"),s=a&&!e;l({target:"Promise",stat:!0,forced:a||e},{resolve:function(o){return r(s&&this===c?n:this,o)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/function-uncurry-this"),a=t("../internals/to-absolute-index"),n=RangeError,e=String.fromCharCode,r=String.fromCodePoint,c=i([].join);l({target:"String",stat:!0,arity:1,forced:!!r&&r.length!==1},{fromCodePoint:function(s){for(var o,d=[],f=arguments.length,u=0;f>u;){if(o=+arguments[u++],a(o,1114111)!==o)throw new n(o+" is not a valid code point");d[u]=o<65536?e(o):e(55296+((o-=65536)>>10),o%1024+56320)}return c(d,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/function-uncurry-this"),a=t("../internals/not-a-regexp"),n=t("../internals/require-object-coercible"),e=t("../internals/to-string"),r=t("../internals/correct-is-regexp-logic"),c=i("".indexOf);l({target:"String",proto:!0,forced:!r("includes")},{includes:function(s){return!!~c(e(n(this)),e(a(s)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,h,m){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/global"),a=t("../internals/function-call"),n=t("../internals/function-uncurry-this"),e=t("../internals/is-pure"),r=t("../internals/descriptors"),c=t("../internals/symbol-constructor-detection"),s=t("../internals/fails"),o=t("../internals/has-own-property"),d=t("../internals/object-is-prototype-of"),f=t("../internals/an-object"),u=t("../internals/to-indexed-object"),g=t("../internals/to-property-key"),p=t("../internals/to-string"),x=t("../internals/create-property-descriptor"),S=t("../internals/object-create"),M=t("../internals/object-keys"),R=t("../internals/object-get-own-property-names"),B=t("../internals/object-get-own-property-names-external"),N=t("../internals/object-get-own-property-symbols"),L=t("../internals/object-get-own-property-descriptor"),F=t("../internals/object-define-property"),$=t("../internals/object-define-properties"),W=t("../internals/object-property-is-enumerable"),C=t("../internals/define-built-in"),D=t("../internals/define-built-in-accessor"),k=t("../internals/shared"),y=t("../internals/shared-key"),w=t("../internals/hidden-keys"),v=t("../internals/uid"),_=t("../internals/well-known-symbol"),T=t("../internals/well-known-symbol-wrapped"),j=t("../internals/well-known-symbol-define"),O=t("../internals/symbol-define-to-primitive"),z=t("../internals/set-to-string-tag"),V=t("../internals/internal-state"),q=t("../internals/array-iteration").forEach,P=y("hidden"),G=V.set,I=V.getterFor("Symbol"),A=Object.prototype,H=i.Symbol,X=H&&H.prototype,J=i.RangeError,Y=i.TypeError,Q=i.QObject,it=L.f,st=F.f,K=B.f,et=W.f,rt=n([].push),at=k("symbols"),ot=k("op-symbols"),ct=k("wks"),dt=!Q||!Q.prototype||!Q.prototype.findChild,ft=function(It,St,Pt){var Ft=it(A,St);Ft&&delete A[St],st(It,St,Pt),Ft&&It!==A&&st(A,St,Ft)},gt=r&&s(function(){return S(st({},"a",{get:function(){return st(this,"a",{value:7}).a}})).a!==7})?ft:st,Dt=function(It,St){var Pt=at[It]=S(X);return G(Pt,{type:"Symbol",tag:It,description:St}),r||(Pt.description=St),Pt},Tt=function(It,St,Pt){It===A&&Tt(ot,St,Pt),f(It);var Ft=g(St);return f(Pt),o(at,Ft)?(Pt.enumerable?(o(It,P)&&It[P][Ft]&&(It[P][Ft]=!1),Pt=S(Pt,{enumerable:x(0,!1)})):(o(It,P)||st(It,P,x(1,{})),It[P][Ft]=!0),gt(It,Ft,Pt)):st(It,Ft,Pt)},wt=function(It,St){f(It);var Pt=u(St),Ft=M(Pt).concat(Ht(Pt));return q(Ft,function(Bt){r&&!a(Lt,Pt,Bt)||Tt(It,Bt,Pt[Bt])}),It},Lt=function(It){var St=g(It),Pt=a(et,this,St);return!(this===A&&o(at,St)&&!o(ot,St))&&(!(Pt||!o(this,St)||!o(at,St)||o(this,P)&&this[P][St])||Pt)},Wt=function(It,St){var Pt=u(It),Ft=g(St);if(Pt!==A||!o(at,Ft)||o(ot,Ft)){var Bt=it(Pt,Ft);return!Bt||!o(at,Ft)||o(Pt,P)&&Pt[P][Ft]||(Bt.enumerable=!0),Bt}},zt=function(It){var St=K(u(It)),Pt=[];return q(St,function(Ft){o(at,Ft)||o(w,Ft)||rt(Pt,Ft)}),Pt},Ht=function(It){var St=It===A,Pt=K(St?ot:u(It)),Ft=[];return q(Pt,function(Bt){!o(at,Bt)||St&&!o(A,Bt)||rt(Ft,at[Bt])}),Ft};c||(C(X=(H=function(){if(d(X,this))throw new Y("Symbol is not a constructor");var It=arguments.length&&arguments[0]!==void 0?p(arguments[0]):void 0,St=v(It),Pt=function(Ft){this===A&&a(Pt,ot,Ft),o(this,P)&&o(this[P],St)&&(this[P][St]=!1);var Bt=x(1,Ft);try{gt(this,St,Bt)}catch(Qt){if(!(Qt instanceof J))throw Qt;ft(this,St,Bt)}};return r&&dt&&gt(A,St,{configurable:!0,set:Pt}),Dt(St,It)}).prototype,"toString",function(){return I(this).tag}),C(H,"withoutSetter",function(It){return Dt(v(It),It)}),W.f=Lt,F.f=Tt,$.f=wt,L.f=Wt,R.f=B.f=zt,N.f=Ht,T.f=function(It){return Dt(_(It),It)},r&&(D(X,"description",{configurable:!0,get:function(){return I(this).description}}),e||C(A,"propertyIsEnumerable",Lt,{unsafe:!0}))),l({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),q(M(ct),function(It){j(It)}),l({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),l({target:"Object",stat:!0,forced:!c,sham:!r},{create:function(It,St){return St===void 0?S(It):wt(S(It),St)},defineProperty:Tt,defineProperties:wt,getOwnPropertyDescriptor:Wt}),l({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:zt}),O(),z(H,"Symbol"),w[P]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/get-built-in"),a=t("../internals/has-own-property"),n=t("../internals/to-string"),e=t("../internals/shared"),r=t("../internals/symbol-registry-detection"),c=e("string-to-symbol-registry"),s=e("symbol-to-string-registry");l({target:"Symbol",stat:!0,forced:!r},{for:function(o){var d=n(o);if(a(c,d))return c[d];var f=i("Symbol")(d);return c[d]=f,s[f]=d,f}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,h,m){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,h,m){var l=t("../internals/export"),i=t("../internals/has-own-property"),a=t("../internals/is-symbol"),n=t("../internals/try-to-string"),e=t("../internals/shared"),r=t("../internals/symbol-registry-detection"),c=e("symbol-to-string-registry");l({target:"Symbol",stat:!0,forced:!r},{keyFor:function(s){if(!a(s))throw new TypeError(n(s)+" is not a symbol");if(i(c,s))return c[s]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,h,m){function l(i){return Object.prototype.toString.call(i)}m.isArray=function(i){return Array.isArray?Array.isArray(i):l(i)==="[object Array]"},m.isBoolean=function(i){return typeof i=="boolean"},m.isNull=function(i){return i===null},m.isNullOrUndefined=function(i){return i==null},m.isNumber=function(i){return typeof i=="number"},m.isString=function(i){return typeof i=="string"},m.isSymbol=function(i){return typeof i=="symbol"},m.isUndefined=function(i){return i===void 0},m.isRegExp=function(i){return l(i)==="[object RegExp]"},m.isObject=function(i){return typeof i=="object"&&i!==null},m.isDate=function(i){return l(i)==="[object Date]"},m.isError=function(i){return l(i)==="[object Error]"||i instanceof Error},m.isFunction=function(i){return typeof i=="function"},m.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},m.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,h,m){(function(l){(function(){var i=t("elliptic"),a=t("bn.js");h.exports=function(c){return new e(c)};var n={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function e(c){this.curveType=n[c],this.curveType||(this.curveType={name:c}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function r(c,s,o){Array.isArray(c)||(c=c.toArray());var d=new l(c);if(o&&d.length<o){var f=new l(o-d.length);f.fill(0),d=l.concat([f,d])}return s?d.toString(s):d}n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1,e.prototype.generateKeys=function(c,s){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,s)},e.prototype.computeSecret=function(c,s,o){return s=s||"utf8",l.isBuffer(c)||(c=new l(c,s)),r(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),o,this.curveType.byteLength)},e.prototype.getPublicKey=function(c,s){var o=this.keys.getPublic(s==="compressed",!0);return s==="hybrid"&&(o[o.length-1]%2?o[0]=7:o[0]=6),r(o,c)},e.prototype.getPrivateKey=function(c){return r(this.keys.getPrivate(),c)},e.prototype.setPublicKey=function(c,s){return s=s||"utf8",l.isBuffer(c)||(c=new l(c,s)),this.keys._importPublic(c),this},e.prototype.setPrivateKey=function(c,s){s=s||"utf8",l.isBuffer(c)||(c=new l(c,s));var o=new a(c);return o=o.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(o),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],386:[function(t,h,m){var l=t("inherits"),i=t("md5.js"),a=t("ripemd160"),n=t("sha.js"),e=t("cipher-base");function r(c){e.call(this,"digest"),this._hash=c}l(r,e),r.prototype._update=function(c){this._hash.update(c)},r.prototype._final=function(){return this._hash.digest()},h.exports=function(c){return(c=c.toLowerCase())==="md5"?new i:c==="rmd160"||c==="ripemd160"?new a:new r(n(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,h,m){var l=t("md5.js");h.exports=function(i){return new l().update(i).digest()}},{"md5.js":450}],388:[function(t,h,m){var l=t("inherits"),i=t("./legacy"),a=t("cipher-base"),n=t("safe-buffer").Buffer,e=t("create-hash/md5"),r=t("ripemd160"),c=t("sha.js"),s=n.alloc(128);function o(d,f){a.call(this,"digest"),typeof f=="string"&&(f=n.from(f));var u=d==="sha512"||d==="sha384"?128:64;this._alg=d,this._key=f,f.length>u?f=(d==="rmd160"?new r:c(d)).update(f).digest():f.length<u&&(f=n.concat([f,s],u));for(var g=this._ipad=n.allocUnsafe(u),p=this._opad=n.allocUnsafe(u),x=0;x<u;x++)g[x]=54^f[x],p[x]=92^f[x];this._hash=d==="rmd160"?new r:c(d),this._hash.update(g)}l(o,a),o.prototype._update=function(d){this._hash.update(d)},o.prototype._final=function(){var d=this._hash.digest();return(this._alg==="rmd160"?new r:c(this._alg)).update(this._opad).update(d).digest()},h.exports=function(d,f){return(d=d.toLowerCase())==="rmd160"||d==="ripemd160"?new o("rmd160",f):d==="md5"?new i(e,f):new o(d,f)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,h,m){var l=t("inherits"),i=t("safe-buffer").Buffer,a=t("cipher-base"),n=i.alloc(128);function e(r,c){a.call(this,"digest"),typeof c=="string"&&(c=i.from(c)),this._alg=r,this._key=c,c.length>64?c=r(c):c.length<64&&(c=i.concat([c,n],64));for(var s=this._ipad=i.allocUnsafe(64),o=this._opad=i.allocUnsafe(64),d=0;d<64;d++)s[d]=54^c[d],o[d]=92^c[d];this._hash=[s]}l(e,a),e.prototype._update=function(r){this._hash.push(r)},e.prototype._final=function(){var r=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,r]))},h.exports=e},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,h,m){m.randomBytes=m.rng=m.pseudoRandomBytes=m.prng=t("randombytes"),m.createHash=m.Hash=t("create-hash"),m.createHmac=m.Hmac=t("create-hmac");var l=t("browserify-sign/algos"),i=Object.keys(l),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);m.getHashes=function(){return a};var n=t("pbkdf2");m.pbkdf2=n.pbkdf2,m.pbkdf2Sync=n.pbkdf2Sync;var e=t("browserify-cipher");m.Cipher=e.Cipher,m.createCipher=e.createCipher,m.Cipheriv=e.Cipheriv,m.createCipheriv=e.createCipheriv,m.Decipher=e.Decipher,m.createDecipher=e.createDecipher,m.Decipheriv=e.Decipheriv,m.createDecipheriv=e.createDecipheriv,m.getCiphers=e.getCiphers,m.listCiphers=e.listCiphers;var r=t("diffie-hellman");m.DiffieHellmanGroup=r.DiffieHellmanGroup,m.createDiffieHellmanGroup=r.createDiffieHellmanGroup,m.getDiffieHellman=r.getDiffieHellman,m.createDiffieHellman=r.createDiffieHellman,m.DiffieHellman=r.DiffieHellman;var c=t("browserify-sign");m.createSign=c.createSign,m.Sign=c.Sign,m.createVerify=c.createVerify,m.Verify=c.Verify,m.createECDH=t("create-ecdh");var s=t("public-encrypt");m.publicEncrypt=s.publicEncrypt,m.privateEncrypt=s.privateEncrypt,m.publicDecrypt=s.publicDecrypt,m.privateDecrypt=s.privateDecrypt;var o=t("randomfill");m.randomFill=o.randomFill,m.randomFillSync=o.randomFillSync,m.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},m.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,h,m){(function(l,i){typeof m=="object"&&h!==void 0?h.exports=i():(l=typeof globalThis<"u"?globalThis:l||self).dayjs=i()})(void 0,function(){var l=6e4,i=36e5,a="millisecond",n="second",e="minute",r="hour",c="day",s="week",o="month",d="quarter",f="year",u="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var w=["th","st","nd","rd"],v=y%100;return"["+y+(w[(v-20)%10]||w[v]||w[0])+"]"}},M=function(y,w,v){var _=String(y);return!_||_.length>=w?y:""+Array(w+1-_.length).join(v)+y},R={s:M,z:function(y){var w=-y.utcOffset(),v=Math.abs(w),_=Math.floor(v/60),T=v%60;return(w<=0?"+":"-")+M(_,2,"0")+":"+M(T,2,"0")},m:function y(w,v){if(w.date()<v.date())return-y(v,w);var _=12*(v.year()-w.year())+(v.month()-w.month()),T=w.clone().add(_,o),j=v-T<0,O=w.clone().add(_+(j?-1:1),o);return+(-(_+(v-T)/(j?T-O:O-T))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:o,y:f,w:s,d:c,D:u,h:r,m:e,s:n,ms:a,Q:d}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},B="en",N={};N[B]=S;var L="$isDayjsObject",F=function(y){return y instanceof D||!(!y||!y[L])},$=function y(w,v,_){var T;if(!w)return B;if(typeof w=="string"){var j=w.toLowerCase();N[j]&&(T=j),v&&(N[j]=v,T=j);var O=w.split("-");if(!T&&O.length>1)return y(O[0])}else{var z=w.name;N[z]=w,T=z}return!_&&T&&(B=T),T||!_&&B},W=function(y,w){if(F(y))return y.clone();var v=typeof w=="object"?w:{};return v.date=y,v.args=arguments,new D(v)},C=R;C.l=$,C.i=F,C.w=function(y,w){return W(y,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var D=function(){function y(v){this.$L=$(v.locale,null,!0),this.parse(v),this.$x=this.$x||v.x||{},this[L]=!0}var w=y.prototype;return w.parse=function(v){this.$d=function(_){var T=_.date,j=_.utc;if(T===null)return new Date(NaN);if(C.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var O=T.match(p);if(O){var z=O[2]-1||0,V=(O[7]||"0").substring(0,3);return j?new Date(Date.UTC(O[1],z,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)):new Date(O[1],z,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)}}return new Date(T)}(v),this.init()},w.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},w.$utils=function(){return C},w.isValid=function(){return this.$d.toString()!==g},w.isSame=function(v,_){var T=W(v);return this.startOf(_)<=T&&T<=this.endOf(_)},w.isAfter=function(v,_){return W(v)<this.startOf(_)},w.isBefore=function(v,_){return this.endOf(_)<W(v)},w.$g=function(v,_,T){return C.u(v)?this[_]:this.set(T,v)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(v,_){var T=this,j=!!C.u(_)||_,O=C.p(v),z=function(X,J){var Y=C.w(T.$u?Date.UTC(T.$y,J,X):new Date(T.$y,J,X),T);return j?Y:Y.endOf(c)},V=function(X,J){return C.w(T.toDate()[X].apply(T.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(J)),T)},q=this.$W,P=this.$M,G=this.$D,I="set"+(this.$u?"UTC":"");switch(O){case f:return j?z(1,0):z(31,11);case o:return j?z(1,P):z(0,P+1);case s:var A=this.$locale().weekStart||0,H=(q<A?q+7:q)-A;return z(j?G-H:G+(6-H),P);case c:case u:return V(I+"Hours",0);case r:return V(I+"Minutes",1);case e:return V(I+"Seconds",2);case n:return V(I+"Milliseconds",3);default:return this.clone()}},w.endOf=function(v){return this.startOf(v,!1)},w.$set=function(v,_){var T,j=C.p(v),O="set"+(this.$u?"UTC":""),z=(T={},T[c]=O+"Date",T[u]=O+"Date",T[o]=O+"Month",T[f]=O+"FullYear",T[r]=O+"Hours",T[e]=O+"Minutes",T[n]=O+"Seconds",T[a]=O+"Milliseconds",T)[j],V=j===c?this.$D+(_-this.$W):_;if(j===o||j===f){var q=this.clone().set(u,1);q.$d[z](V),q.init(),this.$d=q.set(u,Math.min(this.$D,q.daysInMonth())).$d}else z&&this.$d[z](V);return this.init(),this},w.set=function(v,_){return this.clone().$set(v,_)},w.get=function(v){return this[C.p(v)]()},w.add=function(v,_){var T,j=this;v=Number(v);var O=C.p(_),z=function(P){var G=W(j);return C.w(G.date(G.date()+Math.round(P*v)),j)};if(O===o)return this.set(o,this.$M+v);if(O===f)return this.set(f,this.$y+v);if(O===c)return z(1);if(O===s)return z(7);var V=(T={},T[e]=l,T[r]=i,T[n]=1e3,T)[O]||1,q=this.$d.getTime()+v*V;return C.w(q,this)},w.subtract=function(v,_){return this.add(-1*v,_)},w.format=function(v){var _=this,T=this.$locale();if(!this.isValid())return T.invalidDate||g;var j=v||"YYYY-MM-DDTHH:mm:ssZ",O=C.z(this),z=this.$H,V=this.$m,q=this.$M,P=T.weekdays,G=T.months,I=T.meridiem,A=function(J,Y,Q,it){return J&&(J[Y]||J(_,j))||Q[Y].slice(0,it)},H=function(J){return C.s(z%12||12,J,"0")},X=I||function(J,Y,Q){var it=J<12?"AM":"PM";return Q?it.toLowerCase():it};return j.replace(x,function(J,Y){return Y||function(Q){switch(Q){case"YY":return String(_.$y).slice(-2);case"YYYY":return C.s(_.$y,4,"0");case"M":return q+1;case"MM":return C.s(q+1,2,"0");case"MMM":return A(T.monthsShort,q,G,3);case"MMMM":return A(G,q);case"D":return _.$D;case"DD":return C.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return A(T.weekdaysMin,_.$W,P,2);case"ddd":return A(T.weekdaysShort,_.$W,P,3);case"dddd":return P[_.$W];case"H":return String(z);case"HH":return C.s(z,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return X(z,V,!0);case"A":return X(z,V,!1);case"m":return String(V);case"mm":return C.s(V,2,"0");case"s":return String(_.$s);case"ss":return C.s(_.$s,2,"0");case"SSS":return C.s(_.$ms,3,"0");case"Z":return O}return null}(J)||O.replace(":","")})},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(v,_,T){var j,O=this,z=C.p(_),V=W(v),q=(V.utcOffset()-this.utcOffset())*l,P=this-V,G=function(){return C.m(O,V)};switch(z){case f:j=G()/12;break;case o:j=G();break;case d:j=G()/3;break;case s:j=(P-q)/6048e5;break;case c:j=(P-q)/864e5;break;case r:j=P/i;break;case e:j=P/l;break;case n:j=P/1e3;break;default:j=P}return T?j:C.a(j)},w.daysInMonth=function(){return this.endOf(o).$D},w.$locale=function(){return N[this.$L]},w.locale=function(v,_){if(!v)return this.$L;var T=this.clone(),j=$(v,_,!0);return j&&(T.$L=j),T},w.clone=function(){return C.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},y}(),k=D.prototype;return W.prototype=k,[["$ms",a],["$s",n],["$m",e],["$H",r],["$W",c],["$M",o],["$y",f],["$D",u]].forEach(function(y){k[y[1]]=function(w){return this.$g(w,y[0],y[1])}}),W.extend=function(y,w){return y.$i||(y(w,D,W),y.$i=!0),W},W.locale=$,W.isDayjs=F,W.unix=function(y){return W(1e3*y)},W.en=N[B],W.Ls=N,W.p={},W})},{}],392:[function(t,h,m){(function(l,i){typeof m=="object"&&h!==void 0?h.exports=i():(l=typeof globalThis<"u"?globalThis:l||self).dayjs_plugin_customParseFormat=i()})(void 0,function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,n=/\d\d?/,e=/\d*[^-_:/,()\s\d]+/,r={},c=function(p){return(p=+p)+(p>68?1900:2e3)},s=function(p){return function(x){this[p]=+x}},o=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var S=x.match(/([+-]|\d\d)/g),M=60*S[1]+(+S[2]||0);return M===0?0:S[0]==="+"?-M:M}(p)}],d=function(p){var x=r[p];return x&&(x.indexOf?x:x.s.concat(x.f))},f=function(p,x){var S,M=r.meridiem;if(M){for(var R=1;R<=24;R+=1)if(p.indexOf(M(R,0,x))>-1){S=R>12;break}}else S=p===(x?"pm":"PM");return S},u={A:[e,function(p){this.afternoon=f(p,!1)}],a:[e,function(p){this.afternoon=f(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[a,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[n,s("seconds")],ss:[n,s("seconds")],m:[n,s("minutes")],mm:[n,s("minutes")],H:[n,s("hours")],h:[n,s("hours")],HH:[n,s("hours")],hh:[n,s("hours")],D:[n,s("day")],DD:[a,s("day")],Do:[e,function(p){var x=r.ordinal,S=p.match(/\d+/);if(this.day=S[0],x)for(var M=1;M<=31;M+=1)x(M).replace(/\[|\]/g,"")===p&&(this.day=M)}],M:[n,s("month")],MM:[a,s("month")],MMM:[e,function(p){var x=d("months"),S=(d("monthsShort")||x.map(function(M){return M.slice(0,3)})).indexOf(p)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[e,function(p){var x=d("months").indexOf(p)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,s("year")],YY:[a,function(p){this.year=c(p)}],YYYY:[/\d{4}/,s("year")],Z:o,ZZ:o};function g(p){var x,S;x=p,S=r&&r.formats;for(var M=(p=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(W,C,D){var k=D&&D.toUpperCase();return C||S[D]||l[D]||S[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,w,v){return w||v.slice(1)})})).match(i),R=M.length,B=0;B<R;B+=1){var N=M[B],L=u[N],F=L&&L[0],$=L&&L[1];M[B]=$?{regex:F,parser:$}:N.replace(/^\[|\]$/g,"")}return function(W){for(var C={},D=0,k=0;D<R;D+=1){var y=M[D];if(typeof y=="string")k+=y.length;else{var w=y.regex,v=y.parser,_=W.slice(k),T=w.exec(_)[0];v.call(C,T),W=W.replace(T,"")}}return function(j){var O=j.afternoon;if(O!==void 0){var z=j.hours;O?z<12&&(j.hours+=12):z===12&&(j.hours=0),delete j.afternoon}}(C),C}}return function(p,x,S){S.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(c=p.parseTwoDigitYear);var M=x.prototype,R=M.parse;M.parse=function(B){var N=B.date,L=B.utc,F=B.args;this.$u=L;var $=F[1];if(typeof $=="string"){var W=F[2]===!0,C=F[3]===!0,D=W||C,k=F[2];C&&(k=F[2]),r=this.$locale(),!W&&k&&(r=S.Ls[k]),this.$d=function(_,T,j){try{if(["x","X"].indexOf(T)>-1)return new Date((T==="X"?1e3:1)*_);var O=g(T)(_),z=O.year,V=O.month,q=O.day,P=O.hours,G=O.minutes,I=O.seconds,A=O.milliseconds,H=O.zone,X=new Date,J=q||(z||V?1:X.getDate()),Y=z||X.getFullYear(),Q=0;z&&!V||(Q=V>0?V-1:X.getMonth());var it=P||0,st=G||0,K=I||0,et=A||0;return H?new Date(Date.UTC(Y,Q,J,it,st,K,et+60*H.offset*1e3)):j?new Date(Date.UTC(Y,Q,J,it,st,K,et)):new Date(Y,Q,J,it,st,K,et)}catch{return new Date("")}}(N,$,L),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),D&&N!=this.format($)&&(this.$d=new Date("")),r={}}else if($ instanceof Array)for(var y=$.length,w=1;w<=y;w+=1){F[1]=$[w-1];var v=S.apply(this,F);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}w===y&&(this.$d=new Date(""))}else R.call(this,B)}}})},{}],393:[function(t,h,m){(function(l,i){typeof m=="object"&&h!==void 0?h.exports=i():(l=typeof globalThis<"u"?globalThis:l||self).dayjs_plugin_utc=i()})(void 0,function(){var l="minute",i=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(n,e,r){var c=e.prototype;r.utc=function(p){var x={date:p,utc:!0,args:arguments};return new e(x)},c.utc=function(p){var x=r(this.toDate(),{locale:this.$L,utc:!0});return p?x.add(this.utcOffset(),l):x},c.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var s=c.parse;c.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),s.call(this,p)};var o=c.init;c.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else o.call(this)};var d=c.utcOffset;c.utcOffset=function(p,x){var S=this.$utils().u;if(S(p))return this.$u?0:S(this.$offset)?d.call(this):this.$offset;if(typeof p=="string"&&(p=function(N){N===void 0&&(N="");var L=N.match(i);if(!L)return null;var F=(""+L[0]).match(a)||["-",0,0],$=F[0],W=60*+F[1]+ +F[2];return W===0?0:$==="+"?W:-W}(p))===null)return this;var M=Math.abs(p)<=16?60*p:p,R=this;if(x)return R.$offset=M,R.$u=p===0,R;if(p!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(M+B,l)).$offset=M,R.$x.$localOffset=B}else R=this.utc();return R};var f=c.format;c.format=function(p){var x=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,x)},c.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var u=c.toDate;c.toDate=function(p){return p==="s"&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var g=c.diff;c.diff=function(p,x,S){if(p&&this.$u===p.$u)return g.call(this,p,x,S);var M=this.local(),R=r(p).local();return g.call(M,R,x,S)}}})},{}],394:[function(t,h,m){m.utils=t("./des/utils"),m.Cipher=t("./des/cipher"),m.DES=t("./des/des"),m.CBC=t("./des/cbc"),m.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,h,m){var l=t("minimalistic-assert"),i=t("inherits"),a={};function n(e){l.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var r=0;r<this.iv.length;r++)this.iv[r]=e[r]}m.instantiate=function(e){function r(d){e.call(this,d),this._cbcInit()}i(r,e);for(var c=Object.keys(a),s=0;s<c.length;s++){var o=c[s];r.prototype[o]=a[o]}return r.create=function(d){return new r(d)},r},a._cbcInit=function(){var e=new n(this.options.iv);this._cbcState=e},a._update=function(e,r,c,s){var o=this._cbcState,d=this.constructor.super_.prototype,f=o.iv;if(this.type==="encrypt"){for(var u=0;u<this.blockSize;u++)f[u]^=e[r+u];for(d._update.call(this,f,0,c,s),u=0;u<this.blockSize;u++)f[u]=c[s+u]}else{for(d._update.call(this,e,r,c,s),u=0;u<this.blockSize;u++)c[s+u]^=f[u];for(u=0;u<this.blockSize;u++)f[u]=e[r+u]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,h,m){var l=t("minimalistic-assert");function i(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}h.exports=i,i.prototype._init=function(){},i.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},i.prototype._buffer=function(a,n){for(var e=Math.min(this.buffer.length-this.bufferOff,a.length-n),r=0;r<e;r++)this.buffer[this.bufferOff+r]=a[n+r];return this.bufferOff+=e,e},i.prototype._flushBuffer=function(a,n){return this._update(this.buffer,0,a,n),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(a){var n=0,e=0,r=(this.bufferOff+a.length)/this.blockSize|0,c=new Array(r*this.blockSize);this.bufferOff!==0&&(n+=this._buffer(a,n),this.bufferOff===this.buffer.length&&(e+=this._flushBuffer(c,e)));for(var s=a.length-(a.length-n)%this.blockSize;n<s;n+=this.blockSize)this._update(a,n,c,e),e+=this.blockSize;for(;n<a.length;n++,this.bufferOff++)this.buffer[this.bufferOff]=a[n];return c},i.prototype._updateDecrypt=function(a){for(var n=0,e=0,r=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,c=new Array(r*this.blockSize);r>0;r--)n+=this._buffer(a,n),e+=this._flushBuffer(c,e);return n+=this._buffer(a,n),c},i.prototype.final=function(a){var n,e;return a&&(n=this.update(a)),e=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),n?n.concat(e):e},i.prototype._pad=function(a,n){if(n===0)return!1;for(;n<a.length;)a[n++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},i.prototype._unpad=function(a){return a},i.prototype._finalDecrypt=function(){l.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(t,h,m){var l=t("minimalistic-assert"),i=t("inherits"),a=t("./utils"),n=t("./cipher");function e(){this.tmp=new Array(2),this.keys=null}function r(s){n.call(this,s);var o=new e;this._desState=o,this.deriveKeys(o,s.key)}i(r,n),h.exports=r,r.create=function(s){return new r(s)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];r.prototype.deriveKeys=function(s,o){s.keys=new Array(32),l.equal(o.length,this.blockSize,"Invalid key length");var d=a.readUInt32BE(o,0),f=a.readUInt32BE(o,4);a.pc1(d,f,s.tmp,0),d=s.tmp[0],f=s.tmp[1];for(var u=0;u<s.keys.length;u+=2){var g=c[u>>>1];d=a.r28shl(d,g),f=a.r28shl(f,g),a.pc2(d,f,s.keys,u)}},r.prototype._update=function(s,o,d,f){var u=this._desState,g=a.readUInt32BE(s,o),p=a.readUInt32BE(s,o+4);a.ip(g,p,u.tmp,0),g=u.tmp[0],p=u.tmp[1],this.type==="encrypt"?this._encrypt(u,g,p,u.tmp,0):this._decrypt(u,g,p,u.tmp,0),g=u.tmp[0],p=u.tmp[1],a.writeUInt32BE(d,g,f),a.writeUInt32BE(d,p,f+4)},r.prototype._pad=function(s,o){if(this.padding===!1)return!1;for(var d=s.length-o,f=o;f<s.length;f++)s[f]=d;return!0},r.prototype._unpad=function(s){if(this.padding===!1)return s;for(var o=s[s.length-1],d=s.length-o;d<s.length;d++)l.equal(s[d],o);return s.slice(0,s.length-o)},r.prototype._encrypt=function(s,o,d,f,u){for(var g=o,p=d,x=0;x<s.keys.length;x+=2){var S=s.keys[x],M=s.keys[x+1];a.expand(p,s.tmp,0),S^=s.tmp[0],M^=s.tmp[1];var R=a.substitute(S,M),B=p;p=(g^a.permute(R))>>>0,g=B}a.rip(p,g,f,u)},r.prototype._decrypt=function(s,o,d,f,u){for(var g=d,p=o,x=s.keys.length-2;x>=0;x-=2){var S=s.keys[x],M=s.keys[x+1];a.expand(g,s.tmp,0),S^=s.tmp[0],M^=s.tmp[1];var R=a.substitute(S,M),B=g;g=(p^a.permute(R))>>>0,p=B}a.rip(g,p,f,u)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,h,m){var l=t("minimalistic-assert"),i=t("inherits"),a=t("./cipher"),n=t("./des");function e(c,s){l.equal(s.length,24,"Invalid key length");var o=s.slice(0,8),d=s.slice(8,16),f=s.slice(16,24);this.ciphers=c==="encrypt"?[n.create({type:"encrypt",key:o}),n.create({type:"decrypt",key:d}),n.create({type:"encrypt",key:f})]:[n.create({type:"decrypt",key:f}),n.create({type:"encrypt",key:d}),n.create({type:"decrypt",key:o})]}function r(c){a.call(this,c);var s=new e(this.type,this.options.key);this._edeState=s}i(r,a),h.exports=r,r.create=function(c){return new r(c)},r.prototype._update=function(c,s,o,d){var f=this._edeState;f.ciphers[0]._update(c,s,o,d),f.ciphers[1]._update(o,d,o,d),f.ciphers[2]._update(o,d,o,d)},r.prototype._pad=n.prototype._pad,r.prototype._unpad=n.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,h,m){m.readUInt32BE=function(n,e){return(n[0+e]<<24|n[1+e]<<16|n[2+e]<<8|n[3+e])>>>0},m.writeUInt32BE=function(n,e,r){n[0+r]=e>>>24,n[1+r]=e>>>16&255,n[2+r]=e>>>8&255,n[3+r]=255&e},m.ip=function(n,e,r,c){for(var s=0,o=0,d=6;d>=0;d-=2){for(var f=0;f<=24;f+=8)s<<=1,s|=e>>>f+d&1;for(f=0;f<=24;f+=8)s<<=1,s|=n>>>f+d&1}for(d=6;d>=0;d-=2){for(f=1;f<=25;f+=8)o<<=1,o|=e>>>f+d&1;for(f=1;f<=25;f+=8)o<<=1,o|=n>>>f+d&1}r[c+0]=s>>>0,r[c+1]=o>>>0},m.rip=function(n,e,r,c){for(var s=0,o=0,d=0;d<4;d++)for(var f=24;f>=0;f-=8)s<<=1,s|=e>>>f+d&1,s<<=1,s|=n>>>f+d&1;for(d=4;d<8;d++)for(f=24;f>=0;f-=8)o<<=1,o|=e>>>f+d&1,o<<=1,o|=n>>>f+d&1;r[c+0]=s>>>0,r[c+1]=o>>>0},m.pc1=function(n,e,r,c){for(var s=0,o=0,d=7;d>=5;d--){for(var f=0;f<=24;f+=8)s<<=1,s|=e>>f+d&1;for(f=0;f<=24;f+=8)s<<=1,s|=n>>f+d&1}for(f=0;f<=24;f+=8)s<<=1,s|=e>>f+d&1;for(d=1;d<=3;d++){for(f=0;f<=24;f+=8)o<<=1,o|=e>>f+d&1;for(f=0;f<=24;f+=8)o<<=1,o|=n>>f+d&1}for(f=0;f<=24;f+=8)o<<=1,o|=n>>f+d&1;r[c+0]=s>>>0,r[c+1]=o>>>0},m.r28shl=function(n,e){return n<<e&268435455|n>>>28-e};var l=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];m.pc2=function(n,e,r,c){for(var s=0,o=0,d=l.length>>>1,f=0;f<d;f++)s<<=1,s|=n>>>l[f]&1;for(f=d;f<l.length;f++)o<<=1,o|=e>>>l[f]&1;r[c+0]=s>>>0,r[c+1]=o>>>0},m.expand=function(n,e,r){var c=0,s=0;c=(1&n)<<5|n>>>27;for(var o=23;o>=15;o-=4)c<<=6,c|=n>>>o&63;for(o=11;o>=3;o-=4)s|=n>>>o&63,s<<=6;s|=(31&n)<<1|n>>>31,e[r+0]=c>>>0,e[r+1]=s>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];m.substitute=function(n,e){for(var r=0,c=0;c<4;c++)r<<=4,r|=i[64*c+(n>>>18-6*c&63)];for(c=0;c<4;c++)r<<=4,r|=i[256+64*c+(e>>>18-6*c&63)];return r>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];m.permute=function(n){for(var e=0,r=0;r<a.length;r++)e<<=1,e|=n>>>a[r]&1;return e>>>0},m.padSplit=function(n,e,r){for(var c=n.toString(2);c.length<e;)c="0"+c;for(var s=[],o=0;o<e;o+=r)s.push(c.slice(o,o+r));return s.join(" ")}},{}],400:[function(t,h,m){(function(l){(function(){var i=t("./lib/generatePrime"),a=t("./lib/primes.json"),n=t("./lib/dh"),e={binary:!0,hex:!0,base64:!0};m.DiffieHellmanGroup=m.createDiffieHellmanGroup=m.getDiffieHellman=function(r){var c=new l(a[r].prime,"hex"),s=new l(a[r].gen,"hex");return new n(c,s)},m.createDiffieHellman=m.DiffieHellman=function r(c,s,o,d){return l.isBuffer(s)||e[s]===void 0?r(c,"binary",s,o):(s=s||"binary",d=d||"binary",o=o||new l([2]),l.isBuffer(o)||(o=new l(o,d)),typeof c=="number"?new n(i(c,o),o,!0):(l.isBuffer(c)||(c=new l(c,s)),new n(c,o,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,h,m){(function(l){(function(){var i=t("bn.js"),a=new(t("miller-rabin")),n=new i(24),e=new i(11),r=new i(10),c=new i(3),s=new i(7),o=t("./generatePrime"),d=t("randombytes");function f(S,M){return M=M||"utf8",l.isBuffer(S)||(S=new l(S,M)),this._pub=new i(S),this}function u(S,M){return M=M||"utf8",l.isBuffer(S)||(S=new l(S,M)),this._priv=new i(S),this}h.exports=p;var g={};function p(S,M,R){this.setGenerator(M),this.__prime=new i(S),this._prime=i.mont(this.__prime),this._primeLen=S.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=f,this.setPrivateKey=u):this._primeCode=8}function x(S,M){var R=new l(S.toArray());return M?R.toString(M):R}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(S,M){var R=M.toString("hex"),B=[R,S.toString(16)].join("_");if(B in g)return g[B];var N,L=0;if(S.isEven()||!o.simpleSieve||!o.fermatTest(S)||!a.test(S))return L+=1,L+=R==="02"||R==="05"?8:4,g[B]=L,L;switch(a.test(S.shrn(1))||(L+=2),R){case"02":S.mod(n).cmp(e)&&(L+=8);break;case"05":(N=S.mod(r)).cmp(c)&&N.cmp(s)&&(L+=8);break;default:L+=4}return g[B]=L,L}(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new i(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(S){var M=(S=(S=new i(S)).toRed(this._prime)).redPow(this._priv).fromRed(),R=new l(M.toArray()),B=this.getPrime();if(R.length<B.length){var N=new l(B.length-R.length);N.fill(0),R=l.concat([N,R])}return R},p.prototype.getPublicKey=function(S){return x(this._pub,S)},p.prototype.getPrivateKey=function(S){return x(this._priv,S)},p.prototype.getPrime=function(S){return x(this.__prime,S)},p.prototype.getGenerator=function(S){return x(this._gen,S)},p.prototype.setGenerator=function(S,M){return M=M||"utf8",l.isBuffer(S)||(S=new l(S,M)),this.__gen=S,this._gen=new i(S),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,h,m){var l=t("randombytes");h.exports=S,S.simpleSieve=p,S.fermatTest=x;var i=t("bn.js"),a=new i(24),n=new(t("miller-rabin")),e=new i(1),r=new i(2),c=new i(5),s=(new i(16),new i(8),new i(10)),o=new i(3),d=(new i(7),new i(11)),f=new i(4),u=(new i(12),null);function g(){if(u!==null)return u;var M=[];M[0]=2;for(var R=1,B=3;B<1048576;B+=2){for(var N=Math.ceil(Math.sqrt(B)),L=0;L<R&&M[L]<=N&&B%M[L]!=0;L++);R!==L&&M[L]<=N||(M[R++]=B)}return u=M,M}function p(M){for(var R=g(),B=0;B<R.length;B++)if(M.modn(R[B])===0)return M.cmpn(R[B])===0;return!0}function x(M){var R=i.mont(M);return r.toRed(R).redPow(M.subn(1)).fromRed().cmpn(1)===0}function S(M,R){if(M<16)return new i(R===2||R===5?[140,123]:[140,39]);var B,N;for(R=new i(R);;){for(B=new i(l(Math.ceil(M/8)));B.bitLength()>M;)B.ishrn(1);if(B.isEven()&&B.iadd(e),B.testn(1)||B.iadd(r),R.cmp(r)){if(!R.cmp(c))for(;B.mod(s).cmp(o);)B.iadd(f)}else for(;B.mod(a).cmp(d);)B.iadd(f);if(p(N=B.shrn(1))&&p(B)&&x(N)&&x(B)&&n.test(N)&&n.test(B))return B}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,h,m){h.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],405:[function(t,h,m){var l=m;l.version=t("../package.json").version,l.utils=t("./elliptic/utils"),l.rand=t("brorand"),l.curve=t("./elliptic/curve"),l.curves=t("./elliptic/curves"),l.ec=t("./elliptic/ec"),l.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,h,m){var l=t("bn.js"),i=t("../utils"),a=i.getNAF,n=i.getJSF,e=i.assert;function r(s,o){this.type=s,this.p=new l(o.p,16),this.red=o.prime?l.red(o.prime):l.mont(this.p),this.zero=new l(0).toRed(this.red),this.one=new l(1).toRed(this.red),this.two=new l(2).toRed(this.red),this.n=o.n&&new l(o.n,16),this.g=o.g&&this.pointFromJSON(o.g,o.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(s,o){this.curve=s,this.type=o,this.precomputed=null}h.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(s,o){e(s.precomputed);var d=s._getDoubles(),f=a(o,1,this._bitLength),u=(1<<d.step+1)-(d.step%2==0?2:1);u/=3;var g,p,x=[];for(g=0;g<f.length;g+=d.step){p=0;for(var S=g+d.step-1;S>=g;S--)p=(p<<1)+f[S];x.push(p)}for(var M=this.jpoint(null,null,null),R=this.jpoint(null,null,null),B=u;B>0;B--){for(g=0;g<x.length;g++)(p=x[g])===B?R=R.mixedAdd(d.points[g]):p===-B&&(R=R.mixedAdd(d.points[g].neg()));M=M.add(R)}return M.toP()},r.prototype._wnafMul=function(s,o){var d=4,f=s._getNAFPoints(d);d=f.wnd;for(var u=f.points,g=a(o,d,this._bitLength),p=this.jpoint(null,null,null),x=g.length-1;x>=0;x--){for(var S=0;x>=0&&g[x]===0;x--)S++;if(x>=0&&S++,p=p.dblp(S),x<0)break;var M=g[x];e(M!==0),p=s.type==="affine"?M>0?p.mixedAdd(u[M-1>>1]):p.mixedAdd(u[-M-1>>1].neg()):M>0?p.add(u[M-1>>1]):p.add(u[-M-1>>1].neg())}return s.type==="affine"?p.toP():p},r.prototype._wnafMulAdd=function(s,o,d,f,u){var g,p,x,S=this._wnafT1,M=this._wnafT2,R=this._wnafT3,B=0;for(g=0;g<f;g++){var N=(x=o[g])._getNAFPoints(s);S[g]=N.wnd,M[g]=N.points}for(g=f-1;g>=1;g-=2){var L=g-1,F=g;if(S[L]===1&&S[F]===1){var $=[o[L],null,null,o[F]];o[L].y.cmp(o[F].y)===0?($[1]=o[L].add(o[F]),$[2]=o[L].toJ().mixedAdd(o[F].neg())):o[L].y.cmp(o[F].y.redNeg())===0?($[1]=o[L].toJ().mixedAdd(o[F]),$[2]=o[L].add(o[F].neg())):($[1]=o[L].toJ().mixedAdd(o[F]),$[2]=o[L].toJ().mixedAdd(o[F].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],C=n(d[L],d[F]);for(B=Math.max(C[0].length,B),R[L]=new Array(B),R[F]=new Array(B),p=0;p<B;p++){var D=0|C[0][p],k=0|C[1][p];R[L][p]=W[3*(D+1)+(k+1)],R[F][p]=0,M[L]=$}}else R[L]=a(d[L],S[L],this._bitLength),R[F]=a(d[F],S[F],this._bitLength),B=Math.max(R[L].length,B),B=Math.max(R[F].length,B)}var y=this.jpoint(null,null,null),w=this._wnafT4;for(g=B;g>=0;g--){for(var v=0;g>=0;){var _=!0;for(p=0;p<f;p++)w[p]=0|R[p][g],w[p]!==0&&(_=!1);if(!_)break;v++,g--}if(g>=0&&v++,y=y.dblp(v),g<0)break;for(p=0;p<f;p++){var T=w[p];T!==0&&(T>0?x=M[p][T-1>>1]:T<0&&(x=M[p][-T-1>>1].neg()),y=x.type==="affine"?y.mixedAdd(x):y.add(x))}}for(g=0;g<f;g++)M[g]=null;return u?y:y.toP()},r.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(s,o){s=i.toArray(s,o);var d=this.p.byteLength();if((s[0]===4||s[0]===6||s[0]===7)&&s.length-1==2*d)return s[0]===6?e(s[s.length-1]%2==0):s[0]===7&&e(s[s.length-1]%2==1),this.point(s.slice(1,1+d),s.slice(1+d,1+2*d));if((s[0]===2||s[0]===3)&&s.length-1===d)return this.pointFromX(s.slice(1,1+d),s[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(s){return this.encode(s,!0)},c.prototype._encode=function(s){var o=this.curve.p.byteLength(),d=this.getX().toArray("be",o);return s?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",o))},c.prototype.encode=function(s,o){return i.encode(this._encode(o),s)},c.prototype.precompute=function(s){if(this.precomputed)return this;var o={doubles:null,naf:null,beta:null};return o.naf=this._getNAFPoints(8),o.doubles=this._getDoubles(4,s),o.beta=this._getBeta(),this.precomputed=o,this},c.prototype._hasDoubles=function(s){if(!this.precomputed)return!1;var o=this.precomputed.doubles;return!!o&&o.points.length>=Math.ceil((s.bitLength()+1)/o.step)},c.prototype._getDoubles=function(s,o){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],f=this,u=0;u<o;u+=s){for(var g=0;g<s;g++)f=f.dbl();d.push(f)}return{step:s,points:d}},c.prototype._getNAFPoints=function(s){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var o=[this],d=(1<<s)-1,f=d===1?null:this.dbl(),u=1;u<d;u++)o[u]=o[u-1].add(f);return{wnd:s,points:o}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(s){for(var o=this,d=0;d<s;d++)o=o.dbl();return o}},{"../utils":419,"bn.js":420}],407:[function(t,h,m){var l=t("../utils"),i=t("bn.js"),a=t("inherits"),n=t("./base"),e=l.assert;function r(s){this.twisted=(0|s.a)!=1,this.mOneA=this.twisted&&(0|s.a)==-1,this.extended=this.mOneA,n.call(this,"edwards",s),this.a=new i(s.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(s.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(s.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|s.c)==1}function c(s,o,d,f,u){n.BasePoint.call(this,s,"projective"),o===null&&d===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(o,16),this.y=new i(d,16),this.z=f?new i(f,16):this.curve.one,this.t=u&&new i(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(r,n),h.exports=r,r.prototype._mulA=function(s){return this.mOneA?s.redNeg():this.a.redMul(s)},r.prototype._mulC=function(s){return this.oneC?s:this.c.redMul(s)},r.prototype.jpoint=function(s,o,d,f){return this.point(s,o,d,f)},r.prototype.pointFromX=function(s,o){(s=new i(s,16)).red||(s=s.toRed(this.red));var d=s.redSqr(),f=this.c2.redSub(this.a.redMul(d)),u=this.one.redSub(this.c2.redMul(this.d).redMul(d)),g=f.redMul(u.redInvm()),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var x=p.fromRed().isOdd();return(o&&!x||!o&&x)&&(p=p.redNeg()),this.point(s,p)},r.prototype.pointFromY=function(s,o){(s=new i(s,16)).red||(s=s.toRed(this.red));var d=s.redSqr(),f=d.redSub(this.c2),u=d.redMul(this.d).redMul(this.c2).redSub(this.a),g=f.redMul(u.redInvm());if(g.cmp(this.zero)===0){if(o)throw new Error("invalid point");return this.point(this.zero,s)}var p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==o&&(p=p.redNeg()),this.point(p,s)},r.prototype.validate=function(s){if(s.isInfinity())return!0;s.normalize();var o=s.x.redSqr(),d=s.y.redSqr(),f=o.redMul(this.a).redAdd(d),u=this.c2.redMul(this.one.redAdd(this.d.redMul(o).redMul(d)));return f.cmp(u)===0},a(c,n.BasePoint),r.prototype.pointFromJSON=function(s){return c.fromJSON(this,s)},r.prototype.point=function(s,o,d,f){return new c(this,s,o,d,f)},c.fromJSON=function(s,o){return new c(s,o[0],o[1],o[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var s=this.x.redSqr(),o=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var f=this.curve._mulA(s),u=this.x.redAdd(this.y).redSqr().redISub(s).redISub(o),g=f.redAdd(o),p=g.redSub(d),x=f.redSub(o),S=u.redMul(p),M=g.redMul(x),R=u.redMul(x),B=p.redMul(g);return this.curve.point(S,M,B,R)},c.prototype._projDbl=function(){var s,o,d,f,u,g,p=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),S=this.y.redSqr();if(this.curve.twisted){var M=(f=this.curve._mulA(x)).redAdd(S);this.zOne?(s=p.redSub(x).redSub(S).redMul(M.redSub(this.curve.two)),o=M.redMul(f.redSub(S)),d=M.redSqr().redSub(M).redSub(M)):(u=this.z.redSqr(),g=M.redSub(u).redISub(u),s=p.redSub(x).redISub(S).redMul(g),o=M.redMul(f.redSub(S)),d=M.redMul(g))}else f=x.redAdd(S),u=this.curve._mulC(this.z).redSqr(),g=f.redSub(u).redSub(u),s=this.curve._mulC(p.redISub(f)).redMul(g),o=this.curve._mulC(f).redMul(x.redISub(S)),d=f.redMul(g);return this.curve.point(s,o,d)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(s){var o=this.y.redSub(this.x).redMul(s.y.redSub(s.x)),d=this.y.redAdd(this.x).redMul(s.y.redAdd(s.x)),f=this.t.redMul(this.curve.dd).redMul(s.t),u=this.z.redMul(s.z.redAdd(s.z)),g=d.redSub(o),p=u.redSub(f),x=u.redAdd(f),S=d.redAdd(o),M=g.redMul(p),R=x.redMul(S),B=g.redMul(S),N=p.redMul(x);return this.curve.point(M,R,N,B)},c.prototype._projAdd=function(s){var o,d,f=this.z.redMul(s.z),u=f.redSqr(),g=this.x.redMul(s.x),p=this.y.redMul(s.y),x=this.curve.d.redMul(g).redMul(p),S=u.redSub(x),M=u.redAdd(x),R=this.x.redAdd(this.y).redMul(s.x.redAdd(s.y)).redISub(g).redISub(p),B=f.redMul(S).redMul(R);return this.curve.twisted?(o=f.redMul(M).redMul(p.redSub(this.curve._mulA(g))),d=S.redMul(M)):(o=f.redMul(M).redMul(p.redSub(g)),d=this.curve._mulC(S).redMul(M)),this.curve.point(B,o,d)},c.prototype.add=function(s){return this.isInfinity()?s:s.isInfinity()?this:this.curve.extended?this._extAdd(s):this._projAdd(s)},c.prototype.mul=function(s){return this._hasDoubles(s)?this.curve._fixedNafMul(this,s):this.curve._wnafMul(this,s)},c.prototype.mulAdd=function(s,o,d){return this.curve._wnafMulAdd(1,[this,o],[s,d],2,!1)},c.prototype.jmulAdd=function(s,o,d){return this.curve._wnafMulAdd(1,[this,o],[s,d],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var s=this.z.redInvm();return this.x=this.x.redMul(s),this.y=this.y.redMul(s),this.t&&(this.t=this.t.redMul(s)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(s){return this===s||this.getX().cmp(s.getX())===0&&this.getY().cmp(s.getY())===0},c.prototype.eqXToP=function(s){var o=s.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(o)===0)return!0;for(var d=s.clone(),f=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(o.redIAdd(f),this.x.cmp(o)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,h,m){var l=m;l.base=t("./base"),l.short=t("./short"),l.mont=t("./mont"),l.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,h,m){var l=t("bn.js"),i=t("inherits"),a=t("./base"),n=t("../utils");function e(c){a.call(this,"mont",c),this.a=new l(c.a,16).toRed(this.red),this.b=new l(c.b,16).toRed(this.red),this.i4=new l(4).toRed(this.red).redInvm(),this.two=new l(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function r(c,s,o){a.BasePoint.call(this,c,"projective"),s===null&&o===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new l(s,16),this.z=new l(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(e,a),h.exports=e,e.prototype.validate=function(c){var s=c.normalize().x,o=s.redSqr(),d=o.redMul(s).redAdd(o.redMul(this.a)).redAdd(s);return d.redSqrt().redSqr().cmp(d)===0},i(r,a.BasePoint),e.prototype.decodePoint=function(c,s){return this.point(n.toArray(c,s),1)},e.prototype.point=function(c,s){return new r(this,c,s)},e.prototype.pointFromJSON=function(c){return r.fromJSON(this,c)},r.prototype.precompute=function(){},r.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},r.fromJSON=function(c,s){return new r(c,s[0],s[1]||c.one)},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return this.z.cmpn(0)===0},r.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),s=this.x.redSub(this.z).redSqr(),o=c.redSub(s),d=c.redMul(s),f=o.redMul(s.redAdd(this.curve.a24.redMul(o)));return this.curve.point(d,f)},r.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},r.prototype.diffAdd=function(c,s){var o=this.x.redAdd(this.z),d=this.x.redSub(this.z),f=c.x.redAdd(c.z),u=c.x.redSub(c.z).redMul(o),g=f.redMul(d),p=s.z.redMul(u.redAdd(g).redSqr()),x=s.x.redMul(u.redISub(g).redSqr());return this.curve.point(p,x)},r.prototype.mul=function(c){for(var s=c.clone(),o=this,d=this.curve.point(null,null),f=[];s.cmpn(0)!==0;s.iushrn(1))f.push(s.andln(1));for(var u=f.length-1;u>=0;u--)f[u]===0?(o=o.diffAdd(d,this),d=d.dbl()):(d=o.diffAdd(d,this),o=o.dbl());return d},r.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},r.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},r.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},r.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},r.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,h,m){var l=t("../utils"),i=t("bn.js"),a=t("inherits"),n=t("./base"),e=l.assert;function r(o){n.call(this,"short",o),this.a=new i(o.a,16).toRed(this.red),this.b=new i(o.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(o),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(o,d,f,u){n.BasePoint.call(this,o,"affine"),d===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(d,16),this.y=new i(f,16),u&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function s(o,d,f,u){n.BasePoint.call(this,o,"jacobian"),d===null&&f===null&&u===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(d,16),this.y=new i(f,16),this.z=new i(u,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(r,n),h.exports=r,r.prototype._getEndomorphism=function(o){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var d,f;if(o.beta)d=new i(o.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);d=(d=u[0].cmp(u[1])<0?u[0]:u[1]).toRed(this.red)}if(o.lambda)f=new i(o.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(d))===0?f=g[0]:(f=g[1],e(this.g.mul(f).x.cmp(this.g.x.redMul(d))===0))}return{beta:d,lambda:f,basis:o.basis?o.basis.map(function(p){return{a:new i(p.a,16),b:new i(p.b,16)}}):this._getEndoBasis(f)}}},r.prototype._getEndoRoots=function(o){var d=o===this.p?this.red:i.mont(o),f=new i(2).toRed(d).redInvm(),u=f.redNeg(),g=new i(3).toRed(d).redNeg().redSqrt().redMul(f);return[u.redAdd(g).fromRed(),u.redSub(g).fromRed()]},r.prototype._getEndoBasis=function(o){for(var d,f,u,g,p,x,S,M,R,B=this.n.ushrn(Math.floor(this.n.bitLength()/2)),N=o,L=this.n.clone(),F=new i(1),$=new i(0),W=new i(0),C=new i(1),D=0;N.cmpn(0)!==0;){var k=L.div(N);M=L.sub(k.mul(N)),R=W.sub(k.mul(F));var y=C.sub(k.mul($));if(!u&&M.cmp(B)<0)d=S.neg(),f=F,u=M.neg(),g=R;else if(u&&++D==2)break;S=M,L=N,N=M,W=F,F=R,C=$,$=y}p=M.neg(),x=R;var w=u.sqr().add(g.sqr());return p.sqr().add(x.sqr()).cmp(w)>=0&&(p=d,x=f),u.negative&&(u=u.neg(),g=g.neg()),p.negative&&(p=p.neg(),x=x.neg()),[{a:u,b:g},{a:p,b:x}]},r.prototype._endoSplit=function(o){var d=this.endo.basis,f=d[0],u=d[1],g=u.b.mul(o).divRound(this.n),p=f.b.neg().mul(o).divRound(this.n),x=g.mul(f.a),S=p.mul(u.a),M=g.mul(f.b),R=p.mul(u.b);return{k1:o.sub(x).sub(S),k2:M.add(R).neg()}},r.prototype.pointFromX=function(o,d){(o=new i(o,16)).red||(o=o.toRed(this.red));var f=o.redSqr().redMul(o).redIAdd(o.redMul(this.a)).redIAdd(this.b),u=f.redSqrt();if(u.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var g=u.fromRed().isOdd();return(d&&!g||!d&&g)&&(u=u.redNeg()),this.point(o,u)},r.prototype.validate=function(o){if(o.inf)return!0;var d=o.x,f=o.y,u=this.a.redMul(d),g=d.redSqr().redMul(d).redIAdd(u).redIAdd(this.b);return f.redSqr().redISub(g).cmpn(0)===0},r.prototype._endoWnafMulAdd=function(o,d,f){for(var u=this._endoWnafT1,g=this._endoWnafT2,p=0;p<o.length;p++){var x=this._endoSplit(d[p]),S=o[p],M=S._getBeta();x.k1.negative&&(x.k1.ineg(),S=S.neg(!0)),x.k2.negative&&(x.k2.ineg(),M=M.neg(!0)),u[2*p]=S,u[2*p+1]=M,g[2*p]=x.k1,g[2*p+1]=x.k2}for(var R=this._wnafMulAdd(1,u,g,2*p,f),B=0;B<2*p;B++)u[B]=null,g[B]=null;return R},a(c,n.BasePoint),r.prototype.point=function(o,d,f){return new c(this,o,d,f)},r.prototype.pointFromJSON=function(o,d){return c.fromJSON(this,o,d)},c.prototype._getBeta=function(){if(this.curve.endo){var o=this.precomputed;if(o&&o.beta)return o.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(o){var f=this.curve,u=function(g){return f.point(g.x.redMul(f.endo.beta),g.y)};o.beta=d,d.precomputed={beta:null,naf:o.naf&&{wnd:o.naf.wnd,points:o.naf.points.map(u)},doubles:o.doubles&&{step:o.doubles.step,points:o.doubles.points.map(u)}}}return d}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(o,d,f){typeof d=="string"&&(d=JSON.parse(d));var u=o.point(d[0],d[1],f);if(!d[2])return u;function g(x){return o.point(x[0],x[1],f)}var p=d[2];return u.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[u].concat(p.doubles.points.map(g))},naf:p.naf&&{wnd:p.naf.wnd,points:[u].concat(p.naf.points.map(g))}},u},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(o){if(this.inf)return o;if(o.inf)return this;if(this.eq(o))return this.dbl();if(this.neg().eq(o))return this.curve.point(null,null);if(this.x.cmp(o.x)===0)return this.curve.point(null,null);var d=this.y.redSub(o.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(o.x).redInvm()));var f=d.redSqr().redISub(this.x).redISub(o.x),u=d.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,u)},c.prototype.dbl=function(){if(this.inf)return this;var o=this.y.redAdd(this.y);if(o.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,f=this.x.redSqr(),u=o.redInvm(),g=f.redAdd(f).redIAdd(f).redIAdd(d).redMul(u),p=g.redSqr().redISub(this.x.redAdd(this.x)),x=g.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,x)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(o){return o=new i(o,16),this.isInfinity()?this:this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve.endo?this.curve._endoWnafMulAdd([this],[o]):this.curve._wnafMul(this,o)},c.prototype.mulAdd=function(o,d,f){var u=[this,d],g=[o,f];return this.curve.endo?this.curve._endoWnafMulAdd(u,g):this.curve._wnafMulAdd(1,u,g,2)},c.prototype.jmulAdd=function(o,d,f){var u=[this,d],g=[o,f];return this.curve.endo?this.curve._endoWnafMulAdd(u,g,!0):this.curve._wnafMulAdd(1,u,g,2,!0)},c.prototype.eq=function(o){return this===o||this.inf===o.inf&&(this.inf||this.x.cmp(o.x)===0&&this.y.cmp(o.y)===0)},c.prototype.neg=function(o){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(o&&this.precomputed){var f=this.precomputed,u=function(g){return g.neg()};d.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(u)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(u)}}}return d},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(s,n.BasePoint),r.prototype.jpoint=function(o,d,f){return new s(this,o,d,f)},s.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var o=this.z.redInvm(),d=o.redSqr(),f=this.x.redMul(d),u=this.y.redMul(d).redMul(o);return this.curve.point(f,u)},s.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},s.prototype.add=function(o){if(this.isInfinity())return o;if(o.isInfinity())return this;var d=o.z.redSqr(),f=this.z.redSqr(),u=this.x.redMul(d),g=o.x.redMul(f),p=this.y.redMul(d.redMul(o.z)),x=o.y.redMul(f.redMul(this.z)),S=u.redSub(g),M=p.redSub(x);if(S.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=S.redSqr(),B=R.redMul(S),N=u.redMul(R),L=M.redSqr().redIAdd(B).redISub(N).redISub(N),F=M.redMul(N.redISub(L)).redISub(p.redMul(B)),$=this.z.redMul(o.z).redMul(S);return this.curve.jpoint(L,F,$)},s.prototype.mixedAdd=function(o){if(this.isInfinity())return o.toJ();if(o.isInfinity())return this;var d=this.z.redSqr(),f=this.x,u=o.x.redMul(d),g=this.y,p=o.y.redMul(d).redMul(this.z),x=f.redSub(u),S=g.redSub(p);if(x.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=x.redSqr(),R=M.redMul(x),B=f.redMul(M),N=S.redSqr().redIAdd(R).redISub(B).redISub(B),L=S.redMul(B.redISub(N)).redISub(g.redMul(R)),F=this.z.redMul(x);return this.curve.jpoint(N,L,F)},s.prototype.dblp=function(o){if(o===0)return this;if(this.isInfinity())return this;if(!o)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var f=this;for(d=0;d<o;d++)f=f.dbl();return f}var u=this.curve.a,g=this.curve.tinv,p=this.x,x=this.y,S=this.z,M=S.redSqr().redSqr(),R=x.redAdd(x);for(d=0;d<o;d++){var B=p.redSqr(),N=R.redSqr(),L=N.redSqr(),F=B.redAdd(B).redIAdd(B).redIAdd(u.redMul(M)),$=p.redMul(N),W=F.redSqr().redISub($.redAdd($)),C=$.redISub(W),D=F.redMul(C);D=D.redIAdd(D).redISub(L);var k=R.redMul(S);d+1<o&&(M=M.redMul(L)),p=W,S=k,R=D}return this.curve.jpoint(p,R.redMul(g),S)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},s.prototype._zeroDbl=function(){var o,d,f;if(this.zOne){var u=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),x=this.x.redAdd(g).redSqr().redISub(u).redISub(p);x=x.redIAdd(x);var S=u.redAdd(u).redIAdd(u),M=S.redSqr().redISub(x).redISub(x),R=p.redIAdd(p);R=(R=R.redIAdd(R)).redIAdd(R),o=M,d=S.redMul(x.redISub(M)).redISub(R),f=this.y.redAdd(this.y)}else{var B=this.x.redSqr(),N=this.y.redSqr(),L=N.redSqr(),F=this.x.redAdd(N).redSqr().redISub(B).redISub(L);F=F.redIAdd(F);var $=B.redAdd(B).redIAdd(B),W=$.redSqr(),C=L.redIAdd(L);C=(C=C.redIAdd(C)).redIAdd(C),o=W.redISub(F).redISub(F),d=$.redMul(F.redISub(o)).redISub(C),f=(f=this.y.redMul(this.z)).redIAdd(f)}return this.curve.jpoint(o,d,f)},s.prototype._threeDbl=function(){var o,d,f;if(this.zOne){var u=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),x=this.x.redAdd(g).redSqr().redISub(u).redISub(p);x=x.redIAdd(x);var S=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),M=S.redSqr().redISub(x).redISub(x);o=M;var R=p.redIAdd(p);R=(R=R.redIAdd(R)).redIAdd(R),d=S.redMul(x.redISub(M)).redISub(R),f=this.y.redAdd(this.y)}else{var B=this.z.redSqr(),N=this.y.redSqr(),L=this.x.redMul(N),F=this.x.redSub(B).redMul(this.x.redAdd(B));F=F.redAdd(F).redIAdd(F);var $=L.redIAdd(L),W=($=$.redIAdd($)).redAdd($);o=F.redSqr().redISub(W),f=this.y.redAdd(this.z).redSqr().redISub(N).redISub(B);var C=N.redSqr();C=(C=(C=C.redIAdd(C)).redIAdd(C)).redIAdd(C),d=F.redMul($.redISub(o)).redISub(C)}return this.curve.jpoint(o,d,f)},s.prototype._dbl=function(){var o=this.curve.a,d=this.x,f=this.y,u=this.z,g=u.redSqr().redSqr(),p=d.redSqr(),x=f.redSqr(),S=p.redAdd(p).redIAdd(p).redIAdd(o.redMul(g)),M=d.redAdd(d),R=(M=M.redIAdd(M)).redMul(x),B=S.redSqr().redISub(R.redAdd(R)),N=R.redISub(B),L=x.redSqr();L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var F=S.redMul(N).redISub(L),$=f.redAdd(f).redMul(u);return this.curve.jpoint(B,F,$)},s.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var o=this.x.redSqr(),d=this.y.redSqr(),f=this.z.redSqr(),u=d.redSqr(),g=o.redAdd(o).redIAdd(o),p=g.redSqr(),x=this.x.redAdd(d).redSqr().redISub(o).redISub(u),S=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(p)).redSqr(),M=u.redIAdd(u);M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var R=g.redIAdd(x).redSqr().redISub(p).redISub(S).redISub(M),B=d.redMul(R);B=(B=B.redIAdd(B)).redIAdd(B);var N=this.x.redMul(S).redISub(B);N=(N=N.redIAdd(N)).redIAdd(N);var L=this.y.redMul(R.redMul(M.redISub(R)).redISub(x.redMul(S)));L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var F=this.z.redAdd(x).redSqr().redISub(f).redISub(S);return this.curve.jpoint(N,L,F)},s.prototype.mul=function(o,d){return o=new i(o,d),this.curve._wnafMul(this,o)},s.prototype.eq=function(o){if(o.type==="affine")return this.eq(o.toJ());if(this===o)return!0;var d=this.z.redSqr(),f=o.z.redSqr();if(this.x.redMul(f).redISub(o.x.redMul(d)).cmpn(0)!==0)return!1;var u=d.redMul(this.z),g=f.redMul(o.z);return this.y.redMul(g).redISub(o.y.redMul(u)).cmpn(0)===0},s.prototype.eqXToP=function(o){var d=this.z.redSqr(),f=o.toRed(this.curve.red).redMul(d);if(this.x.cmp(f)===0)return!0;for(var u=o.clone(),g=this.curve.redN.redMul(d);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},s.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,h,m){var l,i=m,a=t("hash.js"),n=t("./curve"),e=t("./utils").assert;function r(s){s.type==="short"?this.curve=new n.short(s):s.type==="edwards"?this.curve=new n.edwards(s):this.curve=new n.mont(s),this.g=this.curve.g,this.n=this.curve.n,this.hash=s.hash,e(this.g.validate(),"Invalid curve"),e(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(s,o){Object.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){var d=new r(o);return Object.defineProperty(i,s,{configurable:!0,enumerable:!0,value:d}),d}})}i.PresetCurve=r,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{l=t("./precomputed/secp256k1")}catch{l=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,h,m){var l=t("bn.js"),i=t("hmac-drbg"),a=t("../utils"),n=t("../curves"),e=t("brorand"),r=a.assert,c=t("./key"),s=t("./signature");function o(d){if(!(this instanceof o))return new o(d);typeof d=="string"&&(r(Object.prototype.hasOwnProperty.call(n,d),"Unknown curve "+d),d=n[d]),d instanceof n.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}h.exports=o,o.prototype.keyPair=function(d){return new c(this,d)},o.prototype.keyFromPrivate=function(d,f){return c.fromPrivate(this,d,f)},o.prototype.keyFromPublic=function(d,f){return c.fromPublic(this,d,f)},o.prototype.genKeyPair=function(d){d||(d={});for(var f=new i({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||e(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),u=this.n.byteLength(),g=this.n.sub(new l(2));;){var p=new l(f.generate(u));if(!(p.cmp(g)>0))return p.iaddn(1),this.keyFromPrivate(p)}},o.prototype._truncateToN=function(d,f){var u=8*d.byteLength()-this.n.bitLength();return u>0&&(d=d.ushrn(u)),!f&&d.cmp(this.n)>=0?d.sub(this.n):d},o.prototype.sign=function(d,f,u,g){typeof u=="object"&&(g=u,u=null),g||(g={}),f=this.keyFromPrivate(f,u),d=this._truncateToN(new l(d,16));for(var p=this.n.byteLength(),x=f.getPrivate().toArray("be",p),S=d.toArray("be",p),M=new i({hash:this.hash,entropy:x,nonce:S,pers:g.pers,persEnc:g.persEnc||"utf8"}),R=this.n.sub(new l(1)),B=0;;B++){var N=g.k?g.k(B):new l(M.generate(this.n.byteLength()));if(!((N=this._truncateToN(N,!0)).cmpn(1)<=0||N.cmp(R)>=0)){var L=this.g.mul(N);if(!L.isInfinity()){var F=L.getX(),$=F.umod(this.n);if($.cmpn(0)!==0){var W=N.invm(this.n).mul($.mul(f.getPrivate()).iadd(d));if((W=W.umod(this.n)).cmpn(0)!==0){var C=(L.getY().isOdd()?1:0)|(F.cmp($)!==0?2:0);return g.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),C^=1),new s({r:$,s:W,recoveryParam:C})}}}}}},o.prototype.verify=function(d,f,u,g){d=this._truncateToN(new l(d,16)),u=this.keyFromPublic(u,g);var p=(f=new s(f,"hex")).r,x=f.s;if(p.cmpn(1)<0||p.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var S,M=x.invm(this.n),R=M.mul(d).umod(this.n),B=M.mul(p).umod(this.n);return this.curve._maxwellTrick?!(S=this.g.jmulAdd(R,u.getPublic(),B)).isInfinity()&&S.eqXToP(p):!(S=this.g.mulAdd(R,u.getPublic(),B)).isInfinity()&&S.getX().umod(this.n).cmp(p)===0},o.prototype.recoverPubKey=function(d,f,u,g){r((3&u)===u,"The recovery param is more than two bits"),f=new s(f,g);var p=this.n,x=new l(d),S=f.r,M=f.s,R=1&u,B=u>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");S=B?this.curve.pointFromX(S.add(this.curve.n),R):this.curve.pointFromX(S,R);var N=f.r.invm(p),L=p.sub(x).mul(N).umod(p),F=M.mul(N).umod(p);return this.g.mulAdd(L,S,F)},o.prototype.getKeyRecoveryParam=function(d,f,u,g){if((f=new s(f,g)).recoveryParam!==null)return f.recoveryParam;for(var p=0;p<4;p++){var x;try{x=this.recoverPubKey(d,f,p)}catch{continue}if(x.eq(u))return p}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,h,m){var l=t("bn.js"),i=t("../utils").assert;function a(n,e){this.ec=n,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}h.exports=a,a.fromPublic=function(n,e,r){return e instanceof a?e:new a(n,{pub:e,pubEnc:r})},a.fromPrivate=function(n,e,r){return e instanceof a?e:new a(n,{priv:e,privEnc:r})},a.prototype.validate=function(){var n=this.getPublic();return n.isInfinity()?{result:!1,reason:"Invalid public key"}:n.validate()?n.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(n,e){return typeof n=="string"&&(e=n,n=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,n):this.pub},a.prototype.getPrivate=function(n){return n==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(n,e){this.priv=new l(n,e||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(n,e){if(n.x||n.y)return this.ec.curve.type==="mont"?i(n.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(n.x&&n.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(n.x,n.y));this.pub=this.ec.curve.decodePoint(n,e)},a.prototype.derive=function(n){return n.validate()||i(n.validate(),"public point not validated"),n.mul(this.priv).getX()},a.prototype.sign=function(n,e,r){return this.ec.sign(n,this,e,r)},a.prototype.verify=function(n,e){return this.ec.verify(n,e,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,h,m){var l=t("bn.js"),i=t("../utils"),a=i.assert;function n(o,d){if(o instanceof n)return o;this._importDER(o,d)||(a(o.r&&o.s,"Signature without r or s"),this.r=new l(o.r,16),this.s=new l(o.s,16),o.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=o.recoveryParam)}function e(){this.place=0}function r(o,d){var f=o[d.place++];if(!(128&f))return f;var u=15&f;if(u===0||u>4)return!1;for(var g=0,p=0,x=d.place;p<u;p++,x++)g<<=8,g|=o[x],g>>>=0;return!(g<=127)&&(d.place=x,g)}function c(o){for(var d=0,f=o.length-1;!o[d]&&!(128&o[d+1])&&d<f;)d++;return d===0?o:o.slice(d)}function s(o,d){if(d<128)o.push(d);else{var f=1+(Math.log(d)/Math.LN2>>>3);for(o.push(128|f);--f;)o.push(d>>>(f<<3)&255);o.push(d)}}h.exports=n,n.prototype._importDER=function(o,d){o=i.toArray(o,d);var f=new e;if(o[f.place++]!==48)return!1;var u=r(o,f);if(u===!1||u+f.place!==o.length||o[f.place++]!==2)return!1;var g=r(o,f);if(g===!1)return!1;var p=o.slice(f.place,g+f.place);if(f.place+=g,o[f.place++]!==2)return!1;var x=r(o,f);if(x===!1||o.length!==x+f.place)return!1;var S=o.slice(f.place,x+f.place);if(p[0]===0){if(!(128&p[1]))return!1;p=p.slice(1)}if(S[0]===0){if(!(128&S[1]))return!1;S=S.slice(1)}return this.r=new l(p),this.s=new l(S),this.recoveryParam=null,!0},n.prototype.toDER=function(o){var d=this.r.toArray(),f=this.s.toArray();for(128&d[0]&&(d=[0].concat(d)),128&f[0]&&(f=[0].concat(f)),d=c(d),f=c(f);!(f[0]||128&f[1]);)f=f.slice(1);var u=[2];s(u,d.length),(u=u.concat(d)).push(2),s(u,f.length);var g=u.concat(f),p=[48];return s(p,g.length),p=p.concat(g),i.encode(p,o)}},{"../utils":419,"bn.js":420}],415:[function(t,h,m){var l=t("hash.js"),i=t("../curves"),a=t("../utils"),n=a.assert,e=a.parseBytes,r=t("./key"),c=t("./signature");function s(o){if(n(o==="ed25519","only tested with ed25519 so far"),!(this instanceof s))return new s(o);o=i[o].curve,this.curve=o,this.g=o.g,this.g.precompute(o.n.bitLength()+1),this.pointClass=o.point().constructor,this.encodingLength=Math.ceil(o.n.bitLength()/8),this.hash=l.sha512}h.exports=s,s.prototype.sign=function(o,d){o=e(o);var f=this.keyFromSecret(d),u=this.hashInt(f.messagePrefix(),o),g=this.g.mul(u),p=this.encodePoint(g),x=this.hashInt(p,f.pubBytes(),o).mul(f.priv()),S=u.add(x).umod(this.curve.n);return this.makeSignature({R:g,S,Rencoded:p})},s.prototype.verify=function(o,d,f){o=e(o),d=this.makeSignature(d);var u=this.keyFromPublic(f),g=this.hashInt(d.Rencoded(),u.pubBytes(),o),p=this.g.mul(d.S());return d.R().add(u.pub().mul(g)).eq(p)},s.prototype.hashInt=function(){for(var o=this.hash(),d=0;d<arguments.length;d++)o.update(arguments[d]);return a.intFromLE(o.digest()).umod(this.curve.n)},s.prototype.keyFromPublic=function(o){return r.fromPublic(this,o)},s.prototype.keyFromSecret=function(o){return r.fromSecret(this,o)},s.prototype.makeSignature=function(o){return o instanceof c?o:new c(this,o)},s.prototype.encodePoint=function(o){var d=o.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=o.getX().isOdd()?128:0,d},s.prototype.decodePoint=function(o){var d=(o=a.parseBytes(o)).length-1,f=o.slice(0,d).concat(-129&o[d]),u=(128&o[d])!=0,g=a.intFromLE(f);return this.curve.pointFromY(g,u)},s.prototype.encodeInt=function(o){return o.toArray("le",this.encodingLength)},s.prototype.decodeInt=function(o){return a.intFromLE(o)},s.prototype.isPoint=function(o){return o instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,h,m){var l=t("../utils"),i=l.assert,a=l.parseBytes,n=l.cachedProperty;function e(r,c){this.eddsa=r,this._secret=a(c.secret),r.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=a(c.pub)}e.fromPublic=function(r,c){return c instanceof e?c:new e(r,{pub:c})},e.fromSecret=function(r,c){return c instanceof e?c:new e(r,{secret:c})},e.prototype.secret=function(){return this._secret},n(e,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(e,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(e,"privBytes",function(){var r=this.eddsa,c=this.hash(),s=r.encodingLength-1,o=c.slice(0,r.encodingLength);return o[0]&=248,o[s]&=127,o[s]|=64,o}),n(e,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(e,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(e,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),e.prototype.sign=function(r){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(r,this)},e.prototype.verify=function(r,c){return this.eddsa.verify(r,c,this)},e.prototype.getSecret=function(r){return i(this._secret,"KeyPair is public only"),l.encode(this.secret(),r)},e.prototype.getPublic=function(r){return l.encode(this.pubBytes(),r)},h.exports=e},{"../utils":419}],417:[function(t,h,m){var l=t("bn.js"),i=t("../utils"),a=i.assert,n=i.cachedProperty,e=i.parseBytes;function r(c,s){this.eddsa=c,typeof s!="object"&&(s=e(s)),Array.isArray(s)&&(s={R:s.slice(0,c.encodingLength),S:s.slice(c.encodingLength)}),a(s.R&&s.S,"Signature without R or S"),c.isPoint(s.R)&&(this._R=s.R),s.S instanceof l&&(this._S=s.S),this._Rencoded=Array.isArray(s.R)?s.R:s.Rencoded,this._Sencoded=Array.isArray(s.S)?s.S:s.Sencoded}n(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},h.exports=r},{"../utils":419,"bn.js":420}],418:[function(t,h,m){h.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,h,m){var l=m,i=t("bn.js"),a=t("minimalistic-assert"),n=t("minimalistic-crypto-utils");l.assert=a,l.toArray=n.toArray,l.zero2=n.zero2,l.toHex=n.toHex,l.encode=n.encode,l.getNAF=function(e,r,c){var s=new Array(Math.max(e.bitLength(),c)+1);s.fill(0);for(var o=1<<r+1,d=e.clone(),f=0;f<s.length;f++){var u,g=d.andln(o-1);d.isOdd()?(u=g>(o>>1)-1?(o>>1)-g:g,d.isubn(u)):u=0,s[f]=u,d.iushrn(1)}return s},l.getJSF=function(e,r){var c=[[],[]];e=e.clone(),r=r.clone();for(var s,o=0,d=0;e.cmpn(-o)>0||r.cmpn(-d)>0;){var f,u,g=e.andln(3)+o&3,p=r.andln(3)+d&3;g===3&&(g=-1),p===3&&(p=-1),f=1&g?(s=e.andln(7)+o&7)!==3&&s!==5||p!==2?g:-g:0,c[0].push(f),u=1&p?(s=r.andln(7)+d&7)!==3&&s!==5||g!==2?p:-p:0,c[1].push(u),2*o===f+1&&(o=1-o),2*d===u+1&&(d=1-d),e.iushrn(1),r.iushrn(1)}return c},l.cachedProperty=function(e,r,c){var s="_"+r;e.prototype[r]=function(){return this[s]!==void 0?this[s]:this[s]=c.call(this)}},l.parseBytes=function(e){return typeof e=="string"?l.toArray(e,"hex"):e},l.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],421:[function(t,h,m){h.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,h,m){var l=Object.create||function(N){var L=function(){};return L.prototype=N,new L},i=Object.keys||function(N){var L=[];for(var F in N)Object.prototype.hasOwnProperty.call(N,F)&&L.push(F);return F},a=Function.prototype.bind||function(N){var L=this;return function(){return L.apply(N,arguments)}};function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=l(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}h.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0;var e,r=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),e=c.x===0}catch{e=!1}function s(N){return N._maxListeners===void 0?n.defaultMaxListeners:N._maxListeners}function o(N,L,F){if(L)N.call(F);else for(var $=N.length,W=B(N,$),C=0;C<$;++C)W[C].call(F)}function d(N,L,F,$){if(L)N.call(F,$);else for(var W=N.length,C=B(N,W),D=0;D<W;++D)C[D].call(F,$)}function f(N,L,F,$,W){if(L)N.call(F,$,W);else for(var C=N.length,D=B(N,C),k=0;k<C;++k)D[k].call(F,$,W)}function u(N,L,F,$,W,C){if(L)N.call(F,$,W,C);else for(var D=N.length,k=B(N,D),y=0;y<D;++y)k[y].call(F,$,W,C)}function g(N,L,F,$){if(L)N.apply(F,$);else for(var W=N.length,C=B(N,W),D=0;D<W;++D)C[D].apply(F,$)}function p(N,L,F,$){var W,C,D;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if((C=N._events)?(C.newListener&&(N.emit("newListener",L,F.listener?F.listener:F),C=N._events),D=C[L]):(C=N._events=l(null),N._eventsCount=0),D){if(typeof D=="function"?D=C[L]=$?[F,D]:[D,F]:$?D.unshift(F):D.push(F),!D.warned&&(W=s(N))&&W>0&&D.length>W){D.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+D.length+' "'+String(L)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');k.name="MaxListenersExceededWarning",k.emitter=N,k.type=L,k.count=D.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",k.name,k.message)}}else D=C[L]=F,++N._eventsCount;return N}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var N=new Array(arguments.length),L=0;L<N.length;++L)N[L]=arguments[L];this.listener.apply(this.target,N)}}function S(N,L,F){var $={fired:!1,wrapFn:void 0,target:N,type:L,listener:F},W=a.call(x,$);return W.listener=F,$.wrapFn=W,W}function M(N,L,F){var $=N._events;if(!$)return[];var W=$[L];return W?typeof W=="function"?F?[W.listener||W]:[W]:F?function(C){for(var D=new Array(C.length),k=0;k<D.length;++k)D[k]=C[k].listener||C[k];return D}(W):B(W,W.length):[]}function R(N){var L=this._events;if(L){var F=L[N];if(typeof F=="function")return 1;if(F)return F.length}return 0}function B(N,L){for(var F=new Array(L),$=0;$<L;++$)F[$]=N[$];return F}e?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(N){if(typeof N!="number"||N<0||N!=N)throw new TypeError('"defaultMaxListeners" must be a positive number');r=N}}):n.defaultMaxListeners=r,n.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||isNaN(N))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=N,this},n.prototype.getMaxListeners=function(){return s(this)},n.prototype.emit=function(N){var L,F,$,W,C,D,k=N==="error";if(D=this._events)k=k&&D.error==null;else if(!k)return!1;if(k){if(arguments.length>1&&(L=arguments[1]),L instanceof Error)throw L;var y=new Error('Unhandled "error" event. ('+L+")");throw y.context=L,y}if(!(F=D[N]))return!1;var w=typeof F=="function";switch($=arguments.length){case 1:o(F,w,this);break;case 2:d(F,w,this,arguments[1]);break;case 3:f(F,w,this,arguments[1],arguments[2]);break;case 4:u(F,w,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array($-1),C=1;C<$;C++)W[C-1]=arguments[C];g(F,w,this,W)}return!0},n.prototype.addListener=function(N,L){return p(this,N,L,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(N,L){return p(this,N,L,!0)},n.prototype.once=function(N,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.on(N,S(this,N,L)),this},n.prototype.prependOnceListener=function(N,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(N,S(this,N,L)),this},n.prototype.removeListener=function(N,L){var F,$,W,C,D;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if(!($=this._events))return this;if(!(F=$[N]))return this;if(F===L||F.listener===L)--this._eventsCount==0?this._events=l(null):(delete $[N],$.removeListener&&this.emit("removeListener",N,F.listener||L));else if(typeof F!="function"){for(W=-1,C=F.length-1;C>=0;C--)if(F[C]===L||F[C].listener===L){D=F[C].listener,W=C;break}if(W<0)return this;W===0?F.shift():function(k,y){for(var w=y,v=w+1,_=k.length;v<_;w+=1,v+=1)k[w]=k[v];k.pop()}(F,W),F.length===1&&($[N]=F[0]),$.removeListener&&this.emit("removeListener",N,D||L)}return this},n.prototype.removeAllListeners=function(N){var L,F,$;if(!(F=this._events))return this;if(!F.removeListener)return arguments.length===0?(this._events=l(null),this._eventsCount=0):F[N]&&(--this._eventsCount==0?this._events=l(null):delete F[N]),this;if(arguments.length===0){var W,C=i(F);for($=0;$<C.length;++$)(W=C[$])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=l(null),this._eventsCount=0,this}if(typeof(L=F[N])=="function")this.removeListener(N,L);else if(L)for($=L.length-1;$>=0;$--)this.removeListener(N,L[$]);return this},n.prototype.listeners=function(N){return M(this,N,!0)},n.prototype.rawListeners=function(N){return M(this,N,!1)},n.listenerCount=function(N,L){return typeof N.listenerCount=="function"?N.listenerCount(L):R.call(N,L)},n.prototype.listenerCount=R,n.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,h,m){var l=t("safe-buffer").Buffer,i=t("md5.js");h.exports=function(a,n,e,r){if(l.isBuffer(a)||(a=l.from(a,"binary")),n&&(l.isBuffer(n)||(n=l.from(n,"binary")),n.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=e/8,s=l.alloc(c),o=l.alloc(r||0),d=l.alloc(0);c>0||r>0;){var f=new i;f.update(d),f.update(a),n&&f.update(n),d=f.digest();var u=0;if(c>0){var g=s.length-c;u=Math.min(c,d.length),d.copy(s,g,0,u),c-=u}if(u<d.length&&r>0){var p=o.length-r,x=Math.min(r,d.length-u);d.copy(o,p,u,u+x),r-=x}}return d.fill(0),{key:s,iv:o}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvParserStream=m.ParserOptions=m.parseFile=m.parseStream=m.parseString=m.parse=m.FormatterOptions=m.CsvFormatterStream=m.writeToPath=m.writeToString=m.writeToBuffer=m.writeToStream=m.write=m.format=void 0;var l=t("@fast-csv/format");Object.defineProperty(m,"format",{enumerable:!0,get:function(){return l.format}}),Object.defineProperty(m,"write",{enumerable:!0,get:function(){return l.write}}),Object.defineProperty(m,"writeToStream",{enumerable:!0,get:function(){return l.writeToStream}}),Object.defineProperty(m,"writeToBuffer",{enumerable:!0,get:function(){return l.writeToBuffer}}),Object.defineProperty(m,"writeToString",{enumerable:!0,get:function(){return l.writeToString}}),Object.defineProperty(m,"writeToPath",{enumerable:!0,get:function(){return l.writeToPath}}),Object.defineProperty(m,"CsvFormatterStream",{enumerable:!0,get:function(){return l.CsvFormatterStream}}),Object.defineProperty(m,"FormatterOptions",{enumerable:!0,get:function(){return l.FormatterOptions}});var i=t("@fast-csv/parse");Object.defineProperty(m,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(m,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(m,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(m,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(m,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(m,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,h,m){var l=t("safe-buffer").Buffer,i=t("readable-stream").Transform;function a(n){i.call(this),this._block=l.allocUnsafe(n),this._blockSize=n,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(a,i),a.prototype._transform=function(n,e,r){var c=null;try{this.update(n,e)}catch(s){c=s}r(c)},a.prototype._flush=function(n){var e=null;try{this.push(this.digest())}catch(r){e=r}n(e)},a.prototype.update=function(n,e){if(function(f,u){if(!l.isBuffer(f)&&typeof f!="string")throw new TypeError(u+" must be a string or a buffer")}(n,"Data"),this._finalized)throw new Error("Digest already called");l.isBuffer(n)||(n=l.from(n,e));for(var r=this._block,c=0;this._blockOffset+n.length-c>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=n[c++];this._update(),this._blockOffset=0}for(;c<n.length;)r[this._blockOffset++]=n[c++];for(var o=0,d=8*n.length;d>0;++o)this._length[o]+=d,(d=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*d);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();n!==void 0&&(e=e.toString(n)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},a.prototype._digest=function(){throw new Error("_digest is not implemented")},h.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,h,m){var l=m;l.utils=t("./hash/utils"),l.common=t("./hash/common"),l.sha=t("./hash/sha"),l.ripemd=t("./hash/ripemd"),l.hmac=t("./hash/hmac"),l.sha1=l.sha.sha1,l.sha256=l.sha.sha256,l.sha224=l.sha.sha224,l.sha384=l.sha.sha384,l.sha512=l.sha.sha512,l.ripemd160=l.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,h,m){var l=t("./utils"),i=t("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}m.BlockHash=a,a.prototype.update=function(n,e){if(n=l.toArray(n,e),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){var r=(n=this.pending).length%this._delta8;this.pending=n.slice(n.length-r,n.length),this.pending.length===0&&(this.pending=null),n=l.join32(n,0,n.length-r,this.endian);for(var c=0;c<n.length;c+=this._delta32)this._update(n,c,c+this._delta32)}return this},a.prototype.digest=function(n){return this.update(this._pad()),i(this.pending===null),this._digest(n)},a.prototype._pad=function(){var n=this.pendingTotal,e=this._delta8,r=e-(n+this.padLength)%e,c=new Array(r+this.padLength);c[0]=128;for(var s=1;s<r;s++)c[s]=0;if(n<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)c[s++]=0;c[s++]=0,c[s++]=0,c[s++]=0,c[s++]=0,c[s++]=n>>>24&255,c[s++]=n>>>16&255,c[s++]=n>>>8&255,c[s++]=255&n}else for(c[s++]=255&n,c[s++]=n>>>8&255,c[s++]=n>>>16&255,c[s++]=n>>>24&255,c[s++]=0,c[s++]=0,c[s++]=0,c[s++]=0,o=8;o<this.padLength;o++)c[s++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,h,m){var l=t("./utils"),i=t("minimalistic-assert");function a(n,e,r){if(!(this instanceof a))return new a(n,e,r);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(l.toArray(e,r))}h.exports=a,a.prototype._init=function(n){n.length>this.blockSize&&(n=new this.Hash().update(n).digest()),i(n.length<=this.blockSize);for(var e=n.length;e<this.blockSize;e++)n.push(0);for(e=0;e<n.length;e++)n[e]^=54;for(this.inner=new this.Hash().update(n),e=0;e<n.length;e++)n[e]^=106;this.outer=new this.Hash().update(n)},a.prototype.update=function(n,e){return this.inner.update(n,e),this},a.prototype.digest=function(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,h,m){var l=t("./utils"),i=t("./common"),a=l.rotl32,n=l.sum32,e=l.sum32_3,r=l.sum32_4,c=i.BlockHash;function s(){if(!(this instanceof s))return new s;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function o(S,M,R,B){return S<=15?M^R^B:S<=31?M&R|~M&B:S<=47?(M|~R)^B:S<=63?M&B|R&~B:M^(R|~B)}function d(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function f(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}l.inherits(s,c),m.ripemd160=s,s.blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(S,M){for(var R=this.h[0],B=this.h[1],N=this.h[2],L=this.h[3],F=this.h[4],$=R,W=B,C=N,D=L,k=F,y=0;y<80;y++){var w=n(a(r(R,o(y,B,N,L),S[u[y]+M],d(y)),p[y]),F);R=F,F=L,L=a(N,10),N=B,B=w,w=n(a(r($,o(79-y,W,C,D),S[g[y]+M],f(y)),x[y]),k),$=k,k=D,D=a(C,10),C=W,W=w}w=e(this.h[1],N,D),this.h[1]=e(this.h[2],L,k),this.h[2]=e(this.h[3],F,$),this.h[3]=e(this.h[4],R,W),this.h[4]=e(this.h[0],B,C),this.h[0]=w},s.prototype._digest=function(S){return S==="hex"?l.toHex32(this.h,"little"):l.split32(this.h,"little")};var u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,h,m){m.sha1=t("./sha/1"),m.sha224=t("./sha/224"),m.sha256=t("./sha/256"),m.sha384=t("./sha/384"),m.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,h,m){var l=t("../utils"),i=t("../common"),a=t("./common"),n=l.rotl32,e=l.sum32,r=l.sum32_5,c=a.ft_1,s=i.BlockHash,o=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}l.inherits(d,s),h.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(f,u){for(var g=this.W,p=0;p<16;p++)g[p]=f[u+p];for(;p<g.length;p++)g[p]=n(g[p-3]^g[p-8]^g[p-14]^g[p-16],1);var x=this.h[0],S=this.h[1],M=this.h[2],R=this.h[3],B=this.h[4];for(p=0;p<g.length;p++){var N=~~(p/20),L=r(n(x,5),c(N,S,M,R),B,g[p],o[N]);B=R,R=M,M=n(S,30),S=x,x=L}this.h[0]=e(this.h[0],x),this.h[1]=e(this.h[1],S),this.h[2]=e(this.h[2],M),this.h[3]=e(this.h[3],R),this.h[4]=e(this.h[4],B)},d.prototype._digest=function(f){return f==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,h,m){var l=t("../utils"),i=t("./256");function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}l.inherits(a,i),h.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(n){return n==="hex"?l.toHex32(this.h.slice(0,7),"big"):l.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,h,m){var l=t("../utils"),i=t("../common"),a=t("./common"),n=t("minimalistic-assert"),e=l.sum32,r=l.sum32_4,c=l.sum32_5,s=a.ch32,o=a.maj32,d=a.s0_256,f=a.s1_256,u=a.g0_256,g=a.g1_256,p=i.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}l.inherits(S,p),h.exports=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(M,R){for(var B=this.W,N=0;N<16;N++)B[N]=M[R+N];for(;N<B.length;N++)B[N]=r(g(B[N-2]),B[N-7],u(B[N-15]),B[N-16]);var L=this.h[0],F=this.h[1],$=this.h[2],W=this.h[3],C=this.h[4],D=this.h[5],k=this.h[6],y=this.h[7];for(n(this.k.length===B.length),N=0;N<B.length;N++){var w=c(y,f(C),s(C,D,k),this.k[N],B[N]),v=e(d(L),o(L,F,$));y=k,k=D,D=C,C=e(W,w),W=$,$=F,F=L,L=e(w,v)}this.h[0]=e(this.h[0],L),this.h[1]=e(this.h[1],F),this.h[2]=e(this.h[2],$),this.h[3]=e(this.h[3],W),this.h[4]=e(this.h[4],C),this.h[5]=e(this.h[5],D),this.h[6]=e(this.h[6],k),this.h[7]=e(this.h[7],y)},S.prototype._digest=function(M){return M==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,h,m){var l=t("../utils"),i=t("./512");function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}l.inherits(a,i),h.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(n){return n==="hex"?l.toHex32(this.h.slice(0,12),"big"):l.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,h,m){var l=t("../utils"),i=t("../common"),a=t("minimalistic-assert"),n=l.rotr64_hi,e=l.rotr64_lo,r=l.shr64_hi,c=l.shr64_lo,s=l.sum64,o=l.sum64_hi,d=l.sum64_lo,f=l.sum64_4_hi,u=l.sum64_4_lo,g=l.sum64_5_hi,p=l.sum64_5_lo,x=i.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function M(){if(!(this instanceof M))return new M;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}function R(v,_,T,j,O){var z=v&T^~v&O;return z<0&&(z+=4294967296),z}function B(v,_,T,j,O,z){var V=_&j^~_&z;return V<0&&(V+=4294967296),V}function N(v,_,T,j,O){var z=v&T^v&O^T&O;return z<0&&(z+=4294967296),z}function L(v,_,T,j,O,z){var V=_&j^_&z^j&z;return V<0&&(V+=4294967296),V}function F(v,_){var T=n(v,_,28)^n(_,v,2)^n(_,v,7);return T<0&&(T+=4294967296),T}function $(v,_){var T=e(v,_,28)^e(_,v,2)^e(_,v,7);return T<0&&(T+=4294967296),T}function W(v,_){var T=n(v,_,14)^n(v,_,18)^n(_,v,9);return T<0&&(T+=4294967296),T}function C(v,_){var T=e(v,_,14)^e(v,_,18)^e(_,v,9);return T<0&&(T+=4294967296),T}function D(v,_){var T=n(v,_,1)^n(v,_,8)^r(v,_,7);return T<0&&(T+=4294967296),T}function k(v,_){var T=e(v,_,1)^e(v,_,8)^c(v,_,7);return T<0&&(T+=4294967296),T}function y(v,_){var T=n(v,_,19)^n(_,v,29)^r(v,_,6);return T<0&&(T+=4294967296),T}function w(v,_){var T=e(v,_,19)^e(_,v,29)^c(v,_,6);return T<0&&(T+=4294967296),T}l.inherits(M,x),h.exports=M,M.blockSize=1024,M.outSize=512,M.hmacStrength=192,M.padLength=128,M.prototype._prepareBlock=function(v,_){for(var T=this.W,j=0;j<32;j++)T[j]=v[_+j];for(;j<T.length;j+=2){var O=y(T[j-4],T[j-3]),z=w(T[j-4],T[j-3]),V=T[j-14],q=T[j-13],P=D(T[j-30],T[j-29]),G=k(T[j-30],T[j-29]),I=T[j-32],A=T[j-31];T[j]=f(O,z,V,q,P,G,I,A),T[j+1]=u(O,z,V,q,P,G,I,A)}},M.prototype._update=function(v,_){this._prepareBlock(v,_);var T=this.W,j=this.h[0],O=this.h[1],z=this.h[2],V=this.h[3],q=this.h[4],P=this.h[5],G=this.h[6],I=this.h[7],A=this.h[8],H=this.h[9],X=this.h[10],J=this.h[11],Y=this.h[12],Q=this.h[13],it=this.h[14],st=this.h[15];a(this.k.length===T.length);for(var K=0;K<T.length;K+=2){var et=it,rt=st,at=W(A,H),ot=C(A,H),ct=R(A,H,X,J,Y),dt=B(A,H,X,J,Y,Q),ft=this.k[K],gt=this.k[K+1],Dt=T[K],Tt=T[K+1],wt=g(et,rt,at,ot,ct,dt,ft,gt,Dt,Tt),Lt=p(et,rt,at,ot,ct,dt,ft,gt,Dt,Tt);et=F(j,O),rt=$(j,O),at=N(j,O,z,V,q),ot=L(j,O,z,V,q,P);var Wt=o(et,rt,at,ot),zt=d(et,rt,at,ot);it=Y,st=Q,Y=X,Q=J,X=A,J=H,A=o(G,I,wt,Lt),H=d(I,I,wt,Lt),G=q,I=P,q=z,P=V,z=j,V=O,j=o(wt,Lt,Wt,zt),O=d(wt,Lt,Wt,zt)}s(this.h,0,j,O),s(this.h,2,z,V),s(this.h,4,q,P),s(this.h,6,G,I),s(this.h,8,A,H),s(this.h,10,X,J),s(this.h,12,Y,Q),s(this.h,14,it,st)},M.prototype._digest=function(v){return v==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,h,m){var l=t("../utils").rotr32;function i(e,r,c){return e&r^~e&c}function a(e,r,c){return e&r^e&c^r&c}function n(e,r,c){return e^r^c}m.ft_1=function(e,r,c,s){return e===0?i(r,c,s):e===1||e===3?n(r,c,s):e===2?a(r,c,s):void 0},m.ch32=i,m.maj32=a,m.p32=n,m.s0_256=function(e){return l(e,2)^l(e,13)^l(e,22)},m.s1_256=function(e){return l(e,6)^l(e,11)^l(e,25)},m.g0_256=function(e){return l(e,7)^l(e,18)^e>>>3},m.g1_256=function(e){return l(e,17)^l(e,19)^e>>>10}},{"../utils":437}],437:[function(t,h,m){var l=t("minimalistic-assert"),i=t("inherits");function a(c,s){return(64512&c.charCodeAt(s))==55296&&!(s<0||s+1>=c.length)&&(64512&c.charCodeAt(s+1))==56320}function n(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function e(c){return c.length===1?"0"+c:c}function r(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}m.inherits=i,m.toArray=function(c,s){if(Array.isArray(c))return c.slice();if(!c)return[];var o=[];if(typeof c=="string")if(s){if(s==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),f=0;f<c.length;f+=2)o.push(parseInt(c[f]+c[f+1],16))}else for(var d=0,f=0;f<c.length;f++){var u=c.charCodeAt(f);u<128?o[d++]=u:u<2048?(o[d++]=u>>6|192,o[d++]=63&u|128):a(c,f)?(u=65536+((1023&u)<<10)+(1023&c.charCodeAt(++f)),o[d++]=u>>18|240,o[d++]=u>>12&63|128,o[d++]=u>>6&63|128,o[d++]=63&u|128):(o[d++]=u>>12|224,o[d++]=u>>6&63|128,o[d++]=63&u|128)}else for(f=0;f<c.length;f++)o[f]=0|c[f];return o},m.toHex=function(c){for(var s="",o=0;o<c.length;o++)s+=e(c[o].toString(16));return s},m.htonl=n,m.toHex32=function(c,s){for(var o="",d=0;d<c.length;d++){var f=c[d];s==="little"&&(f=n(f)),o+=r(f.toString(16))}return o},m.zero2=e,m.zero8=r,m.join32=function(c,s,o,d){var f=o-s;l(f%4==0);for(var u=new Array(f/4),g=0,p=s;g<u.length;g++,p+=4){var x;x=d==="big"?c[p]<<24|c[p+1]<<16|c[p+2]<<8|c[p+3]:c[p+3]<<24|c[p+2]<<16|c[p+1]<<8|c[p],u[g]=x>>>0}return u},m.split32=function(c,s){for(var o=new Array(4*c.length),d=0,f=0;d<c.length;d++,f+=4){var u=c[d];s==="big"?(o[f]=u>>>24,o[f+1]=u>>>16&255,o[f+2]=u>>>8&255,o[f+3]=255&u):(o[f+3]=u>>>24,o[f+2]=u>>>16&255,o[f+1]=u>>>8&255,o[f]=255&u)}return o},m.rotr32=function(c,s){return c>>>s|c<<32-s},m.rotl32=function(c,s){return c<<s|c>>>32-s},m.sum32=function(c,s){return c+s>>>0},m.sum32_3=function(c,s,o){return c+s+o>>>0},m.sum32_4=function(c,s,o,d){return c+s+o+d>>>0},m.sum32_5=function(c,s,o,d,f){return c+s+o+d+f>>>0},m.sum64=function(c,s,o,d){var f=c[s],u=d+c[s+1]>>>0,g=(u<d?1:0)+o+f;c[s]=g>>>0,c[s+1]=u},m.sum64_hi=function(c,s,o,d){return(s+d>>>0<s?1:0)+c+o>>>0},m.sum64_lo=function(c,s,o,d){return s+d>>>0},m.sum64_4_hi=function(c,s,o,d,f,u,g,p){var x=0,S=s;return x+=(S=S+d>>>0)<s?1:0,x+=(S=S+u>>>0)<u?1:0,c+o+f+g+(x+=(S=S+p>>>0)<p?1:0)>>>0},m.sum64_4_lo=function(c,s,o,d,f,u,g,p){return s+d+u+p>>>0},m.sum64_5_hi=function(c,s,o,d,f,u,g,p,x,S){var M=0,R=s;return M+=(R=R+d>>>0)<s?1:0,M+=(R=R+u>>>0)<u?1:0,M+=(R=R+p>>>0)<p?1:0,c+o+f+g+x+(M+=(R=R+S>>>0)<S?1:0)>>>0},m.sum64_5_lo=function(c,s,o,d,f,u,g,p,x,S){return s+d+u+p+S>>>0},m.rotr64_hi=function(c,s,o){return(s<<32-o|c>>>o)>>>0},m.rotr64_lo=function(c,s,o){return(c<<32-o|s>>>o)>>>0},m.shr64_hi=function(c,s,o){return c>>>o},m.shr64_lo=function(c,s,o){return(c<<32-o|s>>>o)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,h,m){var l=t("hash.js"),i=t("minimalistic-crypto-utils"),a=t("minimalistic-assert");function n(e){if(!(this instanceof n))return new n(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var r=i.toArray(e.entropy,e.entropyEnc||"hex"),c=i.toArray(e.nonce,e.nonceEnc||"hex"),s=i.toArray(e.pers,e.persEnc||"hex");a(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(r,c,s)}h.exports=n,n.prototype._init=function(e,r,c){var s=e.concat(r).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new l.hmac(this.hash,this.K)},n.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(e,r,c,s){typeof r!="string"&&(s=c,c=r,r=null),e=i.toArray(e,r),c=i.toArray(c,s),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(c||[])),this._reseed=1},n.prototype.generate=function(e,r,c,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=c,c=r,r=null),c&&(c=i.toArray(c,s||"hex"),this._update(c));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var d=o.slice(0,e);return this._update(c),this._reseed++,i.encode(d,r)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,h,m){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */m.read=function(l,i,a,n,e){var r,c,s=8*e-n-1,o=(1<<s)-1,d=o>>1,f=-7,u=a?e-1:0,g=a?-1:1,p=l[i+u];for(u+=g,r=p&(1<<-f)-1,p>>=-f,f+=s;f>0;r=256*r+l[i+u],u+=g,f-=8);for(c=r&(1<<-f)-1,r>>=-f,f+=n;f>0;c=256*c+l[i+u],u+=g,f-=8);if(r===0)r=1-d;else{if(r===o)return c?NaN:1/0*(p?-1:1);c+=Math.pow(2,n),r-=d}return(p?-1:1)*c*Math.pow(2,r-n)},m.write=function(l,i,a,n,e,r){var c,s,o,d=8*r-e-1,f=(1<<d)-1,u=f>>1,g=e===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,x=n?1:-1,S=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(s=isNaN(i)?1:0,c=f):(c=Math.floor(Math.log(i)/Math.LN2),i*(o=Math.pow(2,-c))<1&&(c--,o*=2),(i+=c+u>=1?g/o:g*Math.pow(2,1-u))*o>=2&&(c++,o/=2),c+u>=f?(s=0,c=f):c+u>=1?(s=(i*o-1)*Math.pow(2,e),c+=u):(s=i*Math.pow(2,u-1)*Math.pow(2,e),c=0));e>=8;l[a+p]=255&s,p+=x,s/=256,e-=8);for(c=c<<e|s,d+=e;d>0;l[a+p]=255&c,p+=x,c/=256,d-=8);l[a+p-x]|=128*S}},{}],440:[function(t,h,m){typeof Object.create=="function"?h.exports=function(l,i){i&&(l.super_=i,l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:h.exports=function(l,i){if(i){l.super_=i;var a=function(){};a.prototype=i.prototype,l.prototype=new a,l.prototype.constructor=l}}},{}],441:[function(t,h,m){(function(l,i,a,n,e,r,c,s){(function(){/*!

  	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  	<http://stuartk.com/jszip>

  	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  	JSZip uses the library pako released under the MIT license :
  	https://github.com/nodeca/pako/blob/main/LICENSE
  	*/(function(o){typeof m=="object"&&h!==void 0?h.exports=o():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=o()})(function(){return function o(d,f,u){function g(S,M){if(!f[S]){if(!d[S]){var R=typeof t=="function"&&t;if(!M&&R)return R(S,!0);if(p)return p(S,!0);var B=new Error("Cannot find module '"+S+"'");throw B.code="MODULE_NOT_FOUND",B}var N=f[S]={exports:{}};d[S][0].call(N.exports,function(L){return g(d[S][1][L]||L)},N,N.exports,o,d,f,u)}return f[S].exports}for(var p=typeof t=="function"&&t,x=0;x<u.length;x++)g(u[x]);return g}({1:[function(o,d,f){var u=o("./utils"),g=o("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(x){for(var S,M,R,B,N,L,F,$=[],W=0,C=x.length,D=C,k=u.getTypeOf(x)!=="string";W<x.length;)D=C-W,R=k?(S=x[W++],M=W<C?x[W++]:0,W<C?x[W++]:0):(S=x.charCodeAt(W++),M=W<C?x.charCodeAt(W++):0,W<C?x.charCodeAt(W++):0),B=S>>2,N=(3&S)<<4|M>>4,L=1<D?(15&M)<<2|R>>6:64,F=2<D?63&R:64,$.push(p.charAt(B)+p.charAt(N)+p.charAt(L)+p.charAt(F));return $.join("")},f.decode=function(x){var S,M,R,B,N,L,F=0,$=0,W="data:";if(x.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var C,D=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===p.charAt(64)&&D--,x.charAt(x.length-2)===p.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=g.uint8array?new Uint8Array(0|D):new Array(0|D);F<x.length;)S=p.indexOf(x.charAt(F++))<<2|(B=p.indexOf(x.charAt(F++)))>>4,M=(15&B)<<4|(N=p.indexOf(x.charAt(F++)))>>2,R=(3&N)<<6|(L=p.indexOf(x.charAt(F++))),C[$++]=S,N!==64&&(C[$++]=M),L!==64&&(C[$++]=R);return C}},{"./support":30,"./utils":32}],2:[function(o,d,f){var u=o("./external"),g=o("./stream/DataWorker"),p=o("./stream/Crc32Probe"),x=o("./stream/DataLengthProbe");function S(M,R,B,N,L){this.compressedSize=M,this.uncompressedSize=R,this.crc32=B,this.compression=N,this.compressedContent=L}S.prototype={getContentWorker:function(){var M=new g(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),R=this;return M.on("end",function(){if(this.streamInfo.data_length!==R.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),M},getCompressedWorker:function(){return new g(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},S.createWorkerFrom=function(M,R,B){return M.pipe(new p).pipe(new x("uncompressedSize")).pipe(R.compressWorker(B)).pipe(new x("compressedSize")).withStreamInfo("compression",R)},d.exports=S},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,d,f){var u=o("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},f.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,d,f){var u=o("./utils"),g=function(){for(var p,x=[],S=0;S<256;S++){p=S;for(var M=0;M<8;M++)p=1&p?3988292384^p>>>1:p>>>1;x[S]=p}return x}();d.exports=function(p,x){return p!==void 0&&p.length?u.getTypeOf(p)!=="string"?function(S,M,R,B){var N=g,L=0+R;S^=-1;for(var F=0;F<L;F++)S=S>>>8^N[255&(S^M[F])];return-1^S}(0|x,p,p.length):function(S,M,R,B){var N=g,L=0+R;S^=-1;for(var F=0;F<L;F++)S=S>>>8^N[255&(S^M.charCodeAt(F))];return-1^S}(0|x,p,p.length):0}},{"./utils":32}],5:[function(o,d,f){f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(o,d,f){var u;u=typeof Promise<"u"?Promise:o("lie"),d.exports={Promise:u}},{lie:37}],7:[function(o,d,f){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=o("pako"),p=o("./utils"),x=o("./stream/GenericWorker"),S=u?"uint8array":"array";function M(R,B){x.call(this,"FlateWorker/"+R),this._pako=null,this._pakoAction=R,this._pakoOptions=B,this.meta={}}f.magic="\b\0",p.inherits(M,x),M.prototype.processChunk=function(R){this.meta=R.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(S,R.data),!1)},M.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},M.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},M.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var R=this;this._pako.onData=function(B){R.push({data:B,meta:R.meta})}},f.compressWorker=function(R){return new M("Deflate",R)},f.uncompressWorker=function(){return new M("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,d,f){function u(N,L){var F,$="";for(F=0;F<L;F++)$+=String.fromCharCode(255&N),N>>>=8;return $}function g(N,L,F,$,W,C){var D,k,y=N.file,w=N.compression,v=C!==S.utf8encode,_=p.transformTo("string",C(y.name)),T=p.transformTo("string",S.utf8encode(y.name)),j=y.comment,O=p.transformTo("string",C(j)),z=p.transformTo("string",S.utf8encode(j)),V=T.length!==y.name.length,q=z.length!==j.length,P="",G="",I="",A=y.dir,H=y.date,X={crc32:0,compressedSize:0,uncompressedSize:0};L&&!F||(X.crc32=N.crc32,X.compressedSize=N.compressedSize,X.uncompressedSize=N.uncompressedSize);var J=0;L&&(J|=8),v||!V&&!q||(J|=2048);var Y=0,Q=0;A&&(Y|=16),W==="UNIX"?(Q=798,Y|=function(st,K){var et=st;return st||(et=K?16893:33204),(65535&et)<<16}(y.unixPermissions,A)):(Q=20,Y|=function(st){return 63&(st||0)}(y.dosPermissions)),D=H.getUTCHours(),D<<=6,D|=H.getUTCMinutes(),D<<=5,D|=H.getUTCSeconds()/2,k=H.getUTCFullYear()-1980,k<<=4,k|=H.getUTCMonth()+1,k<<=5,k|=H.getUTCDate(),V&&(G=u(1,1)+u(M(_),4)+T,P+="up"+u(G.length,2)+G),q&&(I=u(1,1)+u(M(O),4)+z,P+="uc"+u(I.length,2)+I);var it="";return it+=`
\0`,it+=u(J,2),it+=w.magic,it+=u(D,2),it+=u(k,2),it+=u(X.crc32,4),it+=u(X.compressedSize,4),it+=u(X.uncompressedSize,4),it+=u(_.length,2),it+=u(P.length,2),{fileRecord:R.LOCAL_FILE_HEADER+it+_+P,dirRecord:R.CENTRAL_FILE_HEADER+u(Q,2)+it+u(O.length,2)+"\0\0\0\0"+u(Y,4)+u($,4)+_+P+O}}var p=o("../utils"),x=o("../stream/GenericWorker"),S=o("../utf8"),M=o("../crc32"),R=o("../signature");function B(N,L,F,$){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=L,this.zipPlatform=F,this.encodeFileName=$,this.streamFiles=N,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(B,x),B.prototype.push=function(N){var L=N.meta.percent||0,F=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(N):(this.bytesWritten+=N.data.length,x.prototype.push.call(this,{data:N.data,meta:{currentFile:this.currentFile,percent:F?(L+100*(F-$-1))/F:100}}))},B.prototype.openedSource=function(N){this.currentSourceOffset=this.bytesWritten,this.currentFile=N.file.name;var L=this.streamFiles&&!N.file.dir;if(L){var F=g(N,L,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:F.fileRecord,meta:{percent:0}})}else this.accumulate=!0},B.prototype.closedSource=function(N){this.accumulate=!1;var L=this.streamFiles&&!N.file.dir,F=g(N,L,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(F.dirRecord),L)this.push({data:function($){return R.DATA_DESCRIPTOR+u($.crc32,4)+u($.compressedSize,4)+u($.uncompressedSize,4)}(N),meta:{percent:100}});else for(this.push({data:F.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},B.prototype.flush=function(){for(var N=this.bytesWritten,L=0;L<this.dirRecords.length;L++)this.push({data:this.dirRecords[L],meta:{percent:100}});var F=this.bytesWritten-N,$=function(W,C,D,k,y){var w=p.transformTo("string",y(k));return R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(W,2)+u(W,2)+u(C,4)+u(D,4)+u(w.length,2)+w}(this.dirRecords.length,F,N,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},B.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},B.prototype.registerPrevious=function(N){this._sources.push(N);var L=this;return N.on("data",function(F){L.processChunk(F)}),N.on("end",function(){L.closedSource(L.previous.streamInfo),L._sources.length?L.prepareNextSource():L.end()}),N.on("error",function(F){L.error(F)}),this},B.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},B.prototype.error=function(N){var L=this._sources;if(!x.prototype.error.call(this,N))return!1;for(var F=0;F<L.length;F++)try{L[F].error(N)}catch{}return!0},B.prototype.lock=function(){x.prototype.lock.call(this);for(var N=this._sources,L=0;L<N.length;L++)N[L].lock()},d.exports=B},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,d,f){var u=o("../compressions"),g=o("./ZipFileWorker");f.generateWorker=function(p,x,S){var M=new g(x.streamFiles,S,x.platform,x.encodeFileName),R=0;try{p.forEach(function(B,N){R++;var L=function(C,D){var k=C||D,y=u[k];if(!y)throw new Error(k+" is not a valid compression method !");return y}(N.options.compression,x.compression),F=N.options.compressionOptions||x.compressionOptions||{},$=N.dir,W=N.date;N._compressWorker(L,F).withStreamInfo("file",{name:B,dir:$,date:W,comment:N.comment||"",unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions}).pipe(M)}),M.entriesCount=R}catch(B){M.error(B)}return M}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,d,f){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new u;for(var p in this)typeof this[p]!="function"&&(g[p]=this[p]);return g}}(u.prototype=o("./object")).loadAsync=o("./load"),u.support=o("./support"),u.defaults=o("./defaults"),u.version="3.10.1",u.loadAsync=function(g,p){return new u().loadAsync(g,p)},u.external=o("./external"),d.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,d,f){var u=o("./utils"),g=o("./external"),p=o("./utf8"),x=o("./zipEntries"),S=o("./stream/Crc32Probe"),M=o("./nodejsUtils");function R(B){return new g.Promise(function(N,L){var F=B.decompressed.getContentWorker().pipe(new S);F.on("error",function($){L($)}).on("end",function(){F.streamInfo.crc32!==B.decompressed.crc32?L(new Error("Corrupted zip : CRC32 mismatch")):N()}).resume()})}d.exports=function(B,N){var L=this;return N=u.extend(N||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),M.isNode&&M.isStream(B)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",B,!0,N.optimizedBinaryString,N.base64).then(function(F){var $=new x(N);return $.load(F),$}).then(function(F){var $=[g.Promise.resolve(F)],W=F.files;if(N.checkCRC32)for(var C=0;C<W.length;C++)$.push(R(W[C]));return g.Promise.all($)}).then(function(F){for(var $=F.shift(),W=$.files,C=0;C<W.length;C++){var D=W[C],k=D.fileNameStr,y=u.resolve(D.fileNameStr);L.file(y,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:N.createFolders}),D.dir||(L.file(y).unsafeOriginalName=k)}return $.zipComment.length&&(L.comment=$.zipComment),L})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,d,f){var u=o("../utils"),g=o("../stream/GenericWorker");function p(x,S){g.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(S)}u.inherits(p,g),p.prototype._bindStream=function(x){var S=this;(this._stream=x).pause(),x.on("data",function(M){S.push({data:M,meta:{percent:0}})}).on("error",function(M){S.isPaused?this.generatedError=M:S.error(M)}).on("end",function(){S.isPaused?S._upstreamEnded=!0:S.end()})},p.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},d.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,d,f){var u=o("readable-stream").Readable;function g(p,x,S){u.call(this,x),this._helper=p;var M=this;p.on("data",function(R,B){M.push(R)||M._helper.pause(),S&&S(B)}).on("error",function(R){M.emit("error",R)}).on("end",function(){M.push(null)})}o("../utils").inherits(g,u),g.prototype._read=function(){this._helper.resume()},d.exports=g},{"../utils":32,"readable-stream":16}],14:[function(o,d,f){d.exports={isNode:a!==void 0,newBufferFrom:function(u,g){if(a.from&&a.from!==Uint8Array.from)return a.from(u,g);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new a(u,g)},allocBuffer:function(u){if(a.alloc)return a.alloc(u);var g=new a(u);return g.fill(0),g},isBuffer:function(u){return a.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(o,d,f){function u(y,w,v){var _,T=p.getTypeOf(w),j=p.extend(v||{},M);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(y=W(y)),j.createFolders&&(_=$(y))&&C.call(this,_,!0);var O=T==="string"&&j.binary===!1&&j.base64===!1;v&&v.binary!==void 0||(j.binary=!O),(w instanceof R&&w.uncompressedSize===0||j.dir||!w||w.length===0)&&(j.base64=!1,j.binary=!0,w="",j.compression="STORE",T="string");var z;z=w instanceof R||w instanceof x?w:L.isNode&&L.isStream(w)?new F(y,w):p.prepareContent(y,w,j.binary,j.optimizedBinaryString,j.base64);var V=new B(y,z,j);this.files[y]=V}var g=o("./utf8"),p=o("./utils"),x=o("./stream/GenericWorker"),S=o("./stream/StreamHelper"),M=o("./defaults"),R=o("./compressedObject"),B=o("./zipObject"),N=o("./generate"),L=o("./nodejsUtils"),F=o("./nodejs/NodejsStreamInputAdapter"),$=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var w=y.lastIndexOf("/");return 0<w?y.substring(0,w):""},W=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},C=function(y,w){return w=w!==void 0?w:M.createFolders,y=W(y),this.files[y]||u.call(this,y,null,{dir:!0,createFolders:w}),this.files[y]};function D(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var w,v,_;for(w in this.files)_=this.files[w],(v=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&y(v,_)},filter:function(y){var w=[];return this.forEach(function(v,_){y(v,_)&&w.push(_)}),w},file:function(y,w,v){if(arguments.length!==1)return y=this.root+y,u.call(this,y,w,v),this;if(D(y)){var _=y;return this.filter(function(j,O){return!O.dir&&_.test(j)})}var T=this.files[this.root+y];return T&&!T.dir?T:null},folder:function(y){if(!y)return this;if(D(y))return this.filter(function(T,j){return j.dir&&y.test(T)});var w=this.root+y,v=C.call(this,w),_=this.clone();return _.root=v.name,_},remove:function(y){y=this.root+y;var w=this.files[y];if(w||(y.slice(-1)!=="/"&&(y+="/"),w=this.files[y]),w&&!w.dir)delete this.files[y];else for(var v=this.filter(function(T,j){return j.name.slice(0,y.length)===y}),_=0;_<v.length;_++)delete this.files[v[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var w,v={};try{if((v=p.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=v.type.toLowerCase(),v.compression=v.compression.toUpperCase(),v.type==="binarystring"&&(v.type="string"),!v.type)throw new Error("No output type specified.");p.checkSupport(v.type),v.platform!=="darwin"&&v.platform!=="freebsd"&&v.platform!=="linux"&&v.platform!=="sunos"||(v.platform="UNIX"),v.platform==="win32"&&(v.platform="DOS");var _=v.comment||this.comment||"";w=N.generateWorker(this,v,_)}catch(T){(w=new x("error")).error(T)}return new S(w,v.type||"string",v.mimeType)},generateAsync:function(y,w){return this.generateInternalStream(y).accumulate(w)},generateNodeStream:function(y,w){return(y=y||{}).type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(w)}};d.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,d,f){d.exports=o("stream")},{stream:void 0}],17:[function(o,d,f){var u=o("./DataReader");function g(p){u.call(this,p);for(var x=0;x<this.data.length;x++)p[x]=255&p[x]}o("../utils").inherits(g,u),g.prototype.byteAt=function(p){return this.data[this.zero+p]},g.prototype.lastIndexOfSignature=function(p){for(var x=p.charCodeAt(0),S=p.charCodeAt(1),M=p.charCodeAt(2),R=p.charCodeAt(3),B=this.length-4;0<=B;--B)if(this.data[B]===x&&this.data[B+1]===S&&this.data[B+2]===M&&this.data[B+3]===R)return B-this.zero;return-1},g.prototype.readAndCheckSignature=function(p){var x=p.charCodeAt(0),S=p.charCodeAt(1),M=p.charCodeAt(2),R=p.charCodeAt(3),B=this.readData(4);return x===B[0]&&S===B[1]&&M===B[2]&&R===B[3]},g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,x},d.exports=g},{"../utils":32,"./DataReader":18}],18:[function(o,d,f){var u=o("../utils");function g(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var x,S=0;for(this.checkOffset(p),x=this.index+p-1;x>=this.index;x--)S=(S<<8)+this.byteAt(x);return this.index+=p,S},readString:function(p){return u.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},d.exports=g},{"../utils":32}],19:[function(o,d,f){var u=o("./Uint8ArrayReader");function g(p){u.call(this,p)}o("../utils").inherits(g,u),g.prototype.readData=function(p){this.checkOffset(p);var x=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,x},d.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,d,f){var u=o("./DataReader");function g(p){u.call(this,p)}o("../utils").inherits(g,u),g.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},g.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},g.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},g.prototype.readData=function(p){this.checkOffset(p);var x=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,x},d.exports=g},{"../utils":32,"./DataReader":18}],21:[function(o,d,f){var u=o("./ArrayReader");function g(p){u.call(this,p)}o("../utils").inherits(g,u),g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,x},d.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(o,d,f){var u=o("../utils"),g=o("../support"),p=o("./ArrayReader"),x=o("./StringReader"),S=o("./NodeBufferReader"),M=o("./Uint8ArrayReader");d.exports=function(R){var B=u.getTypeOf(R);return u.checkSupport(B),B!=="string"||g.uint8array?B==="nodebuffer"?new S(R):g.uint8array?new M(u.transformTo("uint8array",R)):new p(u.transformTo("array",R)):new x(R)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,d,f){f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,d,f){var u=o("./GenericWorker"),g=o("../utils");function p(x){u.call(this,"ConvertWorker to "+x),this.destType=x}g.inherits(p,u),p.prototype.processChunk=function(x){this.push({data:g.transformTo(this.destType,x.data),meta:x.meta})},d.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(o,d,f){var u=o("./GenericWorker"),g=o("../crc32");function p(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(p,u),p.prototype.processChunk=function(x){this.streamInfo.crc32=g(x.data,this.streamInfo.crc32||0),this.push(x)},d.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,d,f){var u=o("../utils"),g=o("./GenericWorker");function p(x){g.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}u.inherits(p,g),p.prototype.processChunk=function(x){if(x){var S=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=S+x.data.length}g.prototype.processChunk.call(this,x)},d.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(o,d,f){var u=o("../utils"),g=o("./GenericWorker");function p(x){g.call(this,"DataWorker");var S=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(M){S.dataIsReady=!0,S.data=M,S.max=M&&M.length||0,S.type=u.getTypeOf(M),S.isPaused||S._tickAndRepeat()},function(M){S.error(M)})}u.inherits(p,g),p.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,S=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,S);break;case"uint8array":x=this.data.subarray(this.index,S);break;case"array":case"nodebuffer":x=this.data.slice(this.index,S)}return this.index=S,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},d.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(o,d,f){function u(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,p){return this._listeners[g].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,p){if(this._listeners[g])for(var x=0;x<this._listeners[g].length;x++)this._listeners[g][x].call(this,p)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var p=this;return g.on("data",function(x){p.processChunk(x)}),g.on("end",function(){p.end()}),g.on("error",function(x){p.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,p){return this.extraStreamInfo[g]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},d.exports=u},{}],29:[function(o,d,f){var u=o("../utils"),g=o("./ConvertWorker"),p=o("./GenericWorker"),x=o("../base64"),S=o("../support"),M=o("../external"),R=null;if(S.nodestream)try{R=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function B(N,L,F){var $=L;switch(L){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=L,this._mimeType=F,u.checkSupport($),this._worker=N.pipe(new g($)),N.lock()}catch(W){this._worker=new p("error"),this._worker.error(W)}}B.prototype={accumulate:function(N){return function(L,F){return new M.Promise(function($,W){var C=[],D=L._internalType,k=L._outputType,y=L._mimeType;L.on("data",function(w,v){C.push(w),F&&F(v)}).on("error",function(w){C=[],W(w)}).on("end",function(){try{var w=function(v,_,T){switch(v){case"blob":return u.newBlob(u.transformTo("arraybuffer",_),T);case"base64":return x.encode(_);default:return u.transformTo(v,_)}}(k,function(v,_){var T,j=0,O=null,z=0;for(T=0;T<_.length;T++)z+=_[T].length;switch(v){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(O=new Uint8Array(z),T=0;T<_.length;T++)O.set(_[T],j),j+=_[T].length;return O;case"nodebuffer":return a.concat(_);default:throw new Error("concat : unsupported type '"+v+"'")}}(D,C),y);$(w)}catch(v){W(v)}C=[]}).resume()})}(this,N)},on:function(N,L){var F=this;return N==="data"?this._worker.on(N,function($){L.call(F,$.data,$.meta)}):this._worker.on(N,function(){u.delay(L,arguments,F)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(N){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new R(this,{objectMode:this._outputType!=="nodebuffer"},N)}},d.exports=B},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,d,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",f.nodebuffer=a!==void 0,f.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")f.blob=!1;else{var u=new ArrayBuffer(0);try{f.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(u),f.blob=g.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!o("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(o,d,f){for(var u=o("./utils"),g=o("./support"),p=o("./nodejsUtils"),x=o("./stream/GenericWorker"),S=new Array(256),M=0;M<256;M++)S[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function R(){x.call(this,"utf-8 decode"),this.leftOver=null}function B(){x.call(this,"utf-8 encode")}S[254]=S[254]=1,f.utf8encode=function(N){return g.nodebuffer?p.newBufferFrom(N,"utf-8"):function(L){var F,$,W,C,D,k=L.length,y=0;for(C=0;C<k;C++)(64512&($=L.charCodeAt(C)))==55296&&C+1<k&&(64512&(W=L.charCodeAt(C+1)))==56320&&($=65536+($-55296<<10)+(W-56320),C++),y+=$<128?1:$<2048?2:$<65536?3:4;for(F=g.uint8array?new Uint8Array(y):new Array(y),C=D=0;D<y;C++)(64512&($=L.charCodeAt(C)))==55296&&C+1<k&&(64512&(W=L.charCodeAt(C+1)))==56320&&($=65536+($-55296<<10)+(W-56320),C++),$<128?F[D++]=$:($<2048?F[D++]=192|$>>>6:($<65536?F[D++]=224|$>>>12:(F[D++]=240|$>>>18,F[D++]=128|$>>>12&63),F[D++]=128|$>>>6&63),F[D++]=128|63&$);return F}(N)},f.utf8decode=function(N){return g.nodebuffer?u.transformTo("nodebuffer",N).toString("utf-8"):function(L){var F,$,W,C,D=L.length,k=new Array(2*D);for(F=$=0;F<D;)if((W=L[F++])<128)k[$++]=W;else if(4<(C=S[W]))k[$++]=65533,F+=C-1;else{for(W&=C===2?31:C===3?15:7;1<C&&F<D;)W=W<<6|63&L[F++],C--;1<C?k[$++]=65533:W<65536?k[$++]=W:(W-=65536,k[$++]=55296|W>>10&1023,k[$++]=56320|1023&W)}return k.length!==$&&(k.subarray?k=k.subarray(0,$):k.length=$),u.applyFromCharCode(k)}(N=u.transformTo(g.uint8array?"uint8array":"array",N))},u.inherits(R,x),R.prototype.processChunk=function(N){var L=u.transformTo(g.uint8array?"uint8array":"array",N.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var F=L;(L=new Uint8Array(F.length+this.leftOver.length)).set(this.leftOver,0),L.set(F,this.leftOver.length)}else L=this.leftOver.concat(L);this.leftOver=null}var $=function(C,D){var k;for((D=D||C.length)>C.length&&(D=C.length),k=D-1;0<=k&&(192&C[k])==128;)k--;return k<0||k===0?D:k+S[C[k]]>D?k:D}(L),W=L;$!==L.length&&(g.uint8array?(W=L.subarray(0,$),this.leftOver=L.subarray($,L.length)):(W=L.slice(0,$),this.leftOver=L.slice($,L.length))),this.push({data:f.utf8decode(W),meta:N.meta})},R.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=R,u.inherits(B,x),B.prototype.processChunk=function(N){this.push({data:f.utf8encode(N.data),meta:N.meta})},f.Utf8EncodeWorker=B},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,d,f){var u=o("./support"),g=o("./base64"),p=o("./nodejsUtils"),x=o("./external");function S(F){return F}function M(F,$){for(var W=0;W<F.length;++W)$[W]=255&F.charCodeAt(W);return $}o("setimmediate"),f.newBlob=function(F,$){f.checkSupport("blob");try{return new Blob([F],{type:$})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(F),W.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var R={stringifyByChunk:function(F,$,W){var C=[],D=0,k=F.length;if(k<=W)return String.fromCharCode.apply(null,F);for(;D<k;)$==="array"||$==="nodebuffer"?C.push(String.fromCharCode.apply(null,F.slice(D,Math.min(D+W,k)))):C.push(String.fromCharCode.apply(null,F.subarray(D,Math.min(D+W,k)))),D+=W;return C.join("")},stringifyByChar:function(F){for(var $="",W=0;W<F.length;W++)$+=String.fromCharCode(F[W]);return $},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function B(F){var $=65536,W=f.getTypeOf(F),C=!0;if(W==="uint8array"?C=R.applyCanBeUsed.uint8array:W==="nodebuffer"&&(C=R.applyCanBeUsed.nodebuffer),C)for(;1<$;)try{return R.stringifyByChunk(F,W,$)}catch{$=Math.floor($/2)}return R.stringifyByChar(F)}function N(F,$){for(var W=0;W<F.length;W++)$[W]=F[W];return $}f.applyFromCharCode=B;var L={};L.string={string:S,array:function(F){return M(F,new Array(F.length))},arraybuffer:function(F){return L.string.uint8array(F).buffer},uint8array:function(F){return M(F,new Uint8Array(F.length))},nodebuffer:function(F){return M(F,p.allocBuffer(F.length))}},L.array={string:B,array:S,arraybuffer:function(F){return new Uint8Array(F).buffer},uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return p.newBufferFrom(F)}},L.arraybuffer={string:function(F){return B(new Uint8Array(F))},array:function(F){return N(new Uint8Array(F),new Array(F.byteLength))},arraybuffer:S,uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return p.newBufferFrom(new Uint8Array(F))}},L.uint8array={string:B,array:function(F){return N(F,new Array(F.length))},arraybuffer:function(F){return F.buffer},uint8array:S,nodebuffer:function(F){return p.newBufferFrom(F)}},L.nodebuffer={string:B,array:function(F){return N(F,new Array(F.length))},arraybuffer:function(F){return L.nodebuffer.uint8array(F).buffer},uint8array:function(F){return N(F,new Uint8Array(F.length))},nodebuffer:S},f.transformTo=function(F,$){if($=$||"",!F)return $;f.checkSupport(F);var W=f.getTypeOf($);return L[W][F]($)},f.resolve=function(F){for(var $=F.split("/"),W=[],C=0;C<$.length;C++){var D=$[C];D==="."||D===""&&C!==0&&C!==$.length-1||(D===".."?W.pop():W.push(D))}return W.join("/")},f.getTypeOf=function(F){return typeof F=="string"?"string":Object.prototype.toString.call(F)==="[object Array]"?"array":u.nodebuffer&&p.isBuffer(F)?"nodebuffer":u.uint8array&&F instanceof Uint8Array?"uint8array":u.arraybuffer&&F instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(F){if(!u[F.toLowerCase()])throw new Error(F+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(F){var $,W,C="";for(W=0;W<(F||"").length;W++)C+="\\x"+(($=F.charCodeAt(W))<16?"0":"")+$.toString(16).toUpperCase();return C},f.delay=function(F,$,W){s(function(){F.apply(W||null,$||[])})},f.inherits=function(F,$){function W(){}W.prototype=$.prototype,F.prototype=new W},f.extend=function(){var F,$,W={};for(F=0;F<arguments.length;F++)for($ in arguments[F])Object.prototype.hasOwnProperty.call(arguments[F],$)&&W[$]===void 0&&(W[$]=arguments[F][$]);return W},f.prepareContent=function(F,$,W,C,D){return x.Promise.resolve($).then(function(k){return u.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new x.Promise(function(y,w){var v=new FileReader;v.onload=function(_){y(_.target.result)},v.onerror=function(_){w(_.target.error)},v.readAsArrayBuffer(k)}):k}).then(function(k){var y=f.getTypeOf(k);return y?(y==="arraybuffer"?k=f.transformTo("uint8array",k):y==="string"&&(D?k=g.decode(k):W&&C!==!0&&(k=function(w){return M(w,u.uint8array?new Uint8Array(w.length):new Array(w.length))}(k))),k):x.Promise.reject(new Error("Can't read the data of '"+F+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,d,f){var u=o("./reader/readerFor"),g=o("./utils"),p=o("./signature"),x=o("./zipEntry"),S=o("./support");function M(R){this.files=[],this.loadOptions=R}M.prototype={checkSignature:function(R){if(!this.reader.readAndCheckSignature(R)){this.reader.index-=4;var B=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(B)+", expected "+g.pretty(R)+")")}},isSignature:function(R,B){var N=this.reader.index;this.reader.setIndex(R);var L=this.reader.readString(4)===B;return this.reader.setIndex(N),L},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var R=this.reader.readData(this.zipCommentLength),B=S.uint8array?"uint8array":"array",N=g.transformTo(B,R);this.zipComment=this.loadOptions.decodeFileName(N)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var R,B,N,L=this.zip64EndOfCentralSize-44;0<L;)R=this.reader.readInt(2),B=this.reader.readInt(4),N=this.reader.readData(B),this.zip64ExtensibleData[R]={id:R,length:B,value:N}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var R,B;for(R=0;R<this.files.length;R++)B=this.files[R],this.reader.setIndex(B.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),B.readLocalPart(this.reader),B.handleUTF8(),B.processAttributes()},readCentralDir:function(){var R;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(R=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(R);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var R=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(R<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(R);var B=R;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(R=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(R),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var N=this.centralDirOffset+this.centralDirSize;this.zip64&&(N+=20,N+=12+this.zip64EndOfCentralSize);var L=B-N;if(0<L)this.isSignature(B,p.CENTRAL_FILE_HEADER)||(this.reader.zero=L);else if(L<0)throw new Error("Corrupted zip: missing "+Math.abs(L)+" bytes.")},prepareReader:function(R){this.reader=u(R)},load:function(R){this.prepareReader(R),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},d.exports=M},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,d,f){var u=o("./reader/readerFor"),g=o("./utils"),p=o("./compressedObject"),x=o("./crc32"),S=o("./utf8"),M=o("./compressions"),R=o("./support");function B(N,L){this.options=N,this.loadOptions=L}B.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(N){var L,F;if(N.skip(22),this.fileNameLength=N.readInt(2),F=N.readInt(2),this.fileName=N.readData(this.fileNameLength),N.skip(F),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((L=function($){for(var W in M)if(Object.prototype.hasOwnProperty.call(M,W)&&M[W].magic===$)return M[W];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,L,N.readData(this.compressedSize))},readCentralPart:function(N){this.versionMadeBy=N.readInt(2),N.skip(2),this.bitFlag=N.readInt(2),this.compressionMethod=N.readString(2),this.date=N.readDate(),this.crc32=N.readInt(4),this.compressedSize=N.readInt(4),this.uncompressedSize=N.readInt(4);var L=N.readInt(2);if(this.extraFieldsLength=N.readInt(2),this.fileCommentLength=N.readInt(2),this.diskNumberStart=N.readInt(2),this.internalFileAttributes=N.readInt(2),this.externalFileAttributes=N.readInt(4),this.localHeaderOffset=N.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");N.skip(L),this.readExtraFields(N),this.parseZIP64ExtraField(N),this.fileComment=N.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var N=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),N==0&&(this.dosPermissions=63&this.externalFileAttributes),N==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var N=u(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=N.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=N.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=N.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=N.readInt(4))}},readExtraFields:function(N){var L,F,$,W=N.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});N.index+4<W;)L=N.readInt(2),F=N.readInt(2),$=N.readData(F),this.extraFields[L]={id:L,length:F,value:$};N.setIndex(W)},handleUTF8:function(){var N=R.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=S.utf8decode(this.fileName),this.fileCommentStr=S.utf8decode(this.fileComment);else{var L=this.findExtraFieldUnicodePath();if(L!==null)this.fileNameStr=L;else{var F=g.transformTo(N,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(F)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var W=g.transformTo(N,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var N=this.extraFields[28789];if(N){var L=u(N.value);return L.readInt(1)!==1||x(this.fileName)!==L.readInt(4)?null:S.utf8decode(L.readData(N.length-5))}return null},findExtraFieldUnicodeComment:function(){var N=this.extraFields[25461];if(N){var L=u(N.value);return L.readInt(1)!==1||x(this.fileComment)!==L.readInt(4)?null:S.utf8decode(L.readData(N.length-5))}return null}},d.exports=B},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,d,f){function u(L,F,$){this.name=L,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=F,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var g=o("./stream/StreamHelper"),p=o("./stream/DataWorker"),x=o("./utf8"),S=o("./compressedObject"),M=o("./stream/GenericWorker");u.prototype={internalStream:function(L){var F=null,$="string";try{if(!L)throw new Error("No output type specified.");var W=($=L.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),F=this._decompressWorker();var C=!this._dataBinary;C&&!W&&(F=F.pipe(new x.Utf8EncodeWorker)),!C&&W&&(F=F.pipe(new x.Utf8DecodeWorker))}catch(D){(F=new M("error")).error(D)}return new g(F,$,"")},async:function(L,F){return this.internalStream(L).accumulate(F)},nodeStream:function(L,F){return this.internalStream(L||"nodebuffer").toNodejsStream(F)},_compressWorker:function(L,F){if(this._data instanceof S&&this._data.compression.magic===L.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new x.Utf8EncodeWorker)),S.createWorkerFrom($,L,F)},_decompressWorker:function(){return this._data instanceof S?this._data.getContentWorker():this._data instanceof M?this._data:new p(this._data)}};for(var R=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],B=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},N=0;N<R.length;N++)u.prototype[R[N]]=B;d.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,d,f){(function(u){var g,p,x=u.MutationObserver||u.WebKitMutationObserver;if(x){var S=0,M=new x(L),R=u.document.createTextNode("");M.observe(R,{characterData:!0}),g=function(){R.data=S=++S%2}}else if(u.setImmediate||u.MessageChannel===void 0)g="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var F=u.document.createElement("script");F.onreadystatechange=function(){L(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},u.document.documentElement.appendChild(F)}:function(){setTimeout(L,0)};else{var B=new u.MessageChannel;B.port1.onmessage=L,g=function(){B.port2.postMessage(0)}}var N=[];function L(){var F,$;p=!0;for(var W=N.length;W;){for($=N,N=[],F=-1;++F<W;)$[F]();W=N.length}p=!1}d.exports=function(F){N.push(F)!==1||p||g()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,d,f){var u=o("immediate");function g(){}var p={},x=["REJECTED"],S=["FULFILLED"],M=["PENDING"];function R(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,W!==g&&F(this,W)}function B(W,C,D){this.promise=W,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function N(W,C,D){u(function(){var k;try{k=C(D)}catch(y){return p.reject(W,y)}k===W?p.reject(W,new TypeError("Cannot resolve promise with itself")):p.resolve(W,k)})}function L(W){var C=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof C=="function")return function(){C.apply(W,arguments)}}function F(W,C){var D=!1;function k(v){D||(D=!0,p.reject(W,v))}function y(v){D||(D=!0,p.resolve(W,v))}var w=$(function(){C(y,k)});w.status==="error"&&k(w.value)}function $(W,C){var D={};try{D.value=W(C),D.status="success"}catch(k){D.status="error",D.value=k}return D}(d.exports=R).prototype.finally=function(W){if(typeof W!="function")return this;var C=this.constructor;return this.then(function(D){return C.resolve(W()).then(function(){return D})},function(D){return C.resolve(W()).then(function(){throw D})})},R.prototype.catch=function(W){return this.then(null,W)},R.prototype.then=function(W,C){if(typeof W!="function"&&this.state===S||typeof C!="function"&&this.state===x)return this;var D=new this.constructor(g);return this.state!==M?N(D,this.state===S?W:C,this.outcome):this.queue.push(new B(D,W,C)),D},B.prototype.callFulfilled=function(W){p.resolve(this.promise,W)},B.prototype.otherCallFulfilled=function(W){N(this.promise,this.onFulfilled,W)},B.prototype.callRejected=function(W){p.reject(this.promise,W)},B.prototype.otherCallRejected=function(W){N(this.promise,this.onRejected,W)},p.resolve=function(W,C){var D=$(L,C);if(D.status==="error")return p.reject(W,D.value);var k=D.value;if(k)F(W,k);else{W.state=S,W.outcome=C;for(var y=-1,w=W.queue.length;++y<w;)W.queue[y].callFulfilled(C)}return W},p.reject=function(W,C){W.state=x,W.outcome=C;for(var D=-1,k=W.queue.length;++D<k;)W.queue[D].callRejected(C);return W},R.resolve=function(W){return W instanceof this?W:p.resolve(new this(g),W)},R.reject=function(W){var C=new this(g);return p.reject(C,W)},R.all=function(W){var C=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=W.length,k=!1;if(!D)return this.resolve([]);for(var y=new Array(D),w=0,v=-1,_=new this(g);++v<D;)T(W[v],v);return _;function T(j,O){C.resolve(j).then(function(z){y[O]=z,++w!==D||k||(k=!0,p.resolve(_,y))},function(z){k||(k=!0,p.reject(_,z))})}},R.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=W.length,D=!1;if(!C)return this.resolve([]);for(var k,y=-1,w=new this(g);++y<C;)k=W[y],this.resolve(k).then(function(v){D||(D=!0,p.resolve(w,v))},function(v){D||(D=!0,p.reject(w,v))});return w}},{immediate:36}],38:[function(o,d,f){var u={};(0,o("./lib/utils/common").assign)(u,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),d.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,d,f){var u=o("./zlib/deflate"),g=o("./utils/common"),p=o("./utils/strings"),x=o("./zlib/messages"),S=o("./zlib/zstream"),M=Object.prototype.toString;function R(N){if(!(this instanceof R))return new R(N);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},N||{});var L=this.options;L.raw&&0<L.windowBits?L.windowBits=-L.windowBits:L.gzip&&0<L.windowBits&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var F=u.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(F!==0)throw new Error(x[F]);if(L.header&&u.deflateSetHeader(this.strm,L.header),L.dictionary){var $;if($=typeof L.dictionary=="string"?p.string2buf(L.dictionary):M.call(L.dictionary)==="[object ArrayBuffer]"?new Uint8Array(L.dictionary):L.dictionary,(F=u.deflateSetDictionary(this.strm,$))!==0)throw new Error(x[F]);this._dict_set=!0}}function B(N,L){var F=new R(L);if(F.push(N,!0),F.err)throw F.msg||x[F.err];return F.result}R.prototype.push=function(N,L){var F,$,W=this.strm,C=this.options.chunkSize;if(this.ended)return!1;$=L===~~L?L:L===!0?4:0,typeof N=="string"?W.input=p.string2buf(N):M.call(N)==="[object ArrayBuffer]"?W.input=new Uint8Array(N):W.input=N,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new g.Buf8(C),W.next_out=0,W.avail_out=C),(F=u.deflate(W,$))!==1&&F!==0)return this.onEnd(F),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(g.shrinkBuf(W.output,W.next_out))):this.onData(g.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&F!==1);return $===4?(F=u.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===0):$!==2||(this.onEnd(0),!(W.avail_out=0))},R.prototype.onData=function(N){this.chunks.push(N)},R.prototype.onEnd=function(N){N===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},f.Deflate=R,f.deflate=B,f.deflateRaw=function(N,L){return(L=L||{}).raw=!0,B(N,L)},f.gzip=function(N,L){return(L=L||{}).gzip=!0,B(N,L)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,d,f){var u=o("./zlib/inflate"),g=o("./utils/common"),p=o("./utils/strings"),x=o("./zlib/constants"),S=o("./zlib/messages"),M=o("./zlib/zstream"),R=o("./zlib/gzheader"),B=Object.prototype.toString;function N(F){if(!(this instanceof N))return new N(F);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},F||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||F&&F.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var W=u.inflateInit2(this.strm,$.windowBits);if(W!==x.Z_OK)throw new Error(S[W]);this.header=new R,u.inflateGetHeader(this.strm,this.header)}function L(F,$){var W=new N($);if(W.push(F,!0),W.err)throw W.msg||S[W.err];return W.result}N.prototype.push=function(F,$){var W,C,D,k,y,w,v=this.strm,_=this.options.chunkSize,T=this.options.dictionary,j=!1;if(this.ended)return!1;C=$===~~$?$:$===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof F=="string"?v.input=p.binstring2buf(F):B.call(F)==="[object ArrayBuffer]"?v.input=new Uint8Array(F):v.input=F,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new g.Buf8(_),v.next_out=0,v.avail_out=_),(W=u.inflate(v,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&T&&(w=typeof T=="string"?p.string2buf(T):B.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,W=u.inflateSetDictionary(this.strm,w)),W===x.Z_BUF_ERROR&&j===!0&&(W=x.Z_OK,j=!1),W!==x.Z_STREAM_END&&W!==x.Z_OK)return this.onEnd(W),!(this.ended=!0);v.next_out&&(v.avail_out!==0&&W!==x.Z_STREAM_END&&(v.avail_in!==0||C!==x.Z_FINISH&&C!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=p.utf8border(v.output,v.next_out),k=v.next_out-D,y=p.buf2string(v.output,D),v.next_out=k,v.avail_out=_-k,k&&g.arraySet(v.output,v.output,D,k,0),this.onData(y)):this.onData(g.shrinkBuf(v.output,v.next_out)))),v.avail_in===0&&v.avail_out===0&&(j=!0)}while((0<v.avail_in||v.avail_out===0)&&W!==x.Z_STREAM_END);return W===x.Z_STREAM_END&&(C=x.Z_FINISH),C===x.Z_FINISH?(W=u.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===x.Z_OK):C!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(v.avail_out=0))},N.prototype.onData=function(F){this.chunks.push(F)},N.prototype.onEnd=function(F){F===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},f.Inflate=N,f.inflate=L,f.inflateRaw=function(F,$){return($=$||{}).raw=!0,L(F,$)},f.ungzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,d,f){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(x){for(var S=Array.prototype.slice.call(arguments,1);S.length;){var M=S.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(var R in M)M.hasOwnProperty(R)&&(x[R]=M[R])}}return x},f.shrinkBuf=function(x,S){return x.length===S?x:x.subarray?x.subarray(0,S):(x.length=S,x)};var g={arraySet:function(x,S,M,R,B){if(S.subarray&&x.subarray)x.set(S.subarray(M,M+R),B);else for(var N=0;N<R;N++)x[B+N]=S[M+N]},flattenChunks:function(x){var S,M,R,B,N,L;for(S=R=0,M=x.length;S<M;S++)R+=x[S].length;for(L=new Uint8Array(R),S=B=0,M=x.length;S<M;S++)N=x[S],L.set(N,B),B+=N.length;return L}},p={arraySet:function(x,S,M,R,B){for(var N=0;N<R;N++)x[B+N]=S[M+N]},flattenChunks:function(x){return[].concat.apply([],x)}};f.setTyped=function(x){x?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,g)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,p))},f.setTyped(u)},{}],42:[function(o,d,f){var u=o("./common"),g=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var x=new u.Buf8(256),S=0;S<256;S++)x[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;function M(R,B){if(B<65537&&(R.subarray&&p||!R.subarray&&g))return String.fromCharCode.apply(null,u.shrinkBuf(R,B));for(var N="",L=0;L<B;L++)N+=String.fromCharCode(R[L]);return N}x[254]=x[254]=1,f.string2buf=function(R){var B,N,L,F,$,W=R.length,C=0;for(F=0;F<W;F++)(64512&(N=R.charCodeAt(F)))==55296&&F+1<W&&(64512&(L=R.charCodeAt(F+1)))==56320&&(N=65536+(N-55296<<10)+(L-56320),F++),C+=N<128?1:N<2048?2:N<65536?3:4;for(B=new u.Buf8(C),F=$=0;$<C;F++)(64512&(N=R.charCodeAt(F)))==55296&&F+1<W&&(64512&(L=R.charCodeAt(F+1)))==56320&&(N=65536+(N-55296<<10)+(L-56320),F++),N<128?B[$++]=N:(N<2048?B[$++]=192|N>>>6:(N<65536?B[$++]=224|N>>>12:(B[$++]=240|N>>>18,B[$++]=128|N>>>12&63),B[$++]=128|N>>>6&63),B[$++]=128|63&N);return B},f.buf2binstring=function(R){return M(R,R.length)},f.binstring2buf=function(R){for(var B=new u.Buf8(R.length),N=0,L=B.length;N<L;N++)B[N]=R.charCodeAt(N);return B},f.buf2string=function(R,B){var N,L,F,$,W=B||R.length,C=new Array(2*W);for(N=L=0;N<W;)if((F=R[N++])<128)C[L++]=F;else if(4<($=x[F]))C[L++]=65533,N+=$-1;else{for(F&=$===2?31:$===3?15:7;1<$&&N<W;)F=F<<6|63&R[N++],$--;1<$?C[L++]=65533:F<65536?C[L++]=F:(F-=65536,C[L++]=55296|F>>10&1023,C[L++]=56320|1023&F)}return M(C,L)},f.utf8border=function(R,B){var N;for((B=B||R.length)>R.length&&(B=R.length),N=B-1;0<=N&&(192&R[N])==128;)N--;return N<0||N===0?B:N+x[R[N]]>B?N:B}},{"./common":41}],43:[function(o,d,f){d.exports=function(u,g,p,x){for(var S=65535&u|0,M=u>>>16&65535|0,R=0;p!==0;){for(p-=R=2e3<p?2e3:p;M=M+(S=S+g[x++]|0)|0,--R;);S%=65521,M%=65521}return S|M<<16|0}},{}],44:[function(o,d,f){d.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,d,f){var u=function(){for(var g,p=[],x=0;x<256;x++){g=x;for(var S=0;S<8;S++)g=1&g?3988292384^g>>>1:g>>>1;p[x]=g}return p}();d.exports=function(g,p,x,S){var M=u,R=S+x;g^=-1;for(var B=S;B<R;B++)g=g>>>8^M[255&(g^p[B])];return-1^g}},{}],46:[function(o,d,f){var u,g=o("../utils/common"),p=o("./trees"),x=o("./adler32"),S=o("./crc32"),M=o("./messages"),R=-2,B=258,N=262,L=113;function F(P,G){return P.msg=M[G],G}function $(P){return(P<<1)-(4<P?9:0)}function W(P){for(var G=P.length;0<=--G;)P[G]=0}function C(P){var G=P.state,I=G.pending;I>P.avail_out&&(I=P.avail_out),I!==0&&(g.arraySet(P.output,G.pending_buf,G.pending_out,I,P.next_out),P.next_out+=I,G.pending_out+=I,P.total_out+=I,P.avail_out-=I,G.pending-=I,G.pending===0&&(G.pending_out=0))}function D(P,G){p._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,G),P.block_start=P.strstart,C(P.strm)}function k(P,G){P.pending_buf[P.pending++]=G}function y(P,G){P.pending_buf[P.pending++]=G>>>8&255,P.pending_buf[P.pending++]=255&G}function w(P,G){var I,A,H=P.max_chain_length,X=P.strstart,J=P.prev_length,Y=P.nice_match,Q=P.strstart>P.w_size-N?P.strstart-(P.w_size-N):0,it=P.window,st=P.w_mask,K=P.prev,et=P.strstart+B,rt=it[X+J-1],at=it[X+J];P.prev_length>=P.good_match&&(H>>=2),Y>P.lookahead&&(Y=P.lookahead);do if(it[(I=G)+J]===at&&it[I+J-1]===rt&&it[I]===it[X]&&it[++I]===it[X+1]){X+=2,I++;do;while(it[++X]===it[++I]&&it[++X]===it[++I]&&it[++X]===it[++I]&&it[++X]===it[++I]&&it[++X]===it[++I]&&it[++X]===it[++I]&&it[++X]===it[++I]&&it[++X]===it[++I]&&X<et);if(A=B-(et-X),X=et-B,J<A){if(P.match_start=G,Y<=(J=A))break;rt=it[X+J-1],at=it[X+J]}}while((G=K[G&st])>Q&&--H!=0);return J<=P.lookahead?J:P.lookahead}function v(P){var G,I,A,H,X,J,Y,Q,it,st,K=P.w_size;do{if(H=P.window_size-P.lookahead-P.strstart,P.strstart>=K+(K-N)){for(g.arraySet(P.window,P.window,K,K,0),P.match_start-=K,P.strstart-=K,P.block_start-=K,G=I=P.hash_size;A=P.head[--G],P.head[G]=K<=A?A-K:0,--I;);for(G=I=K;A=P.prev[--G],P.prev[G]=K<=A?A-K:0,--I;);H+=K}if(P.strm.avail_in===0)break;if(J=P.strm,Y=P.window,Q=P.strstart+P.lookahead,st=void 0,(it=H)<(st=J.avail_in)&&(st=it),I=st===0?0:(J.avail_in-=st,g.arraySet(Y,J.input,J.next_in,st,Q),J.state.wrap===1?J.adler=x(J.adler,Y,st,Q):J.state.wrap===2&&(J.adler=S(J.adler,Y,st,Q)),J.next_in+=st,J.total_in+=st,st),P.lookahead+=I,P.lookahead+P.insert>=3)for(X=P.strstart-P.insert,P.ins_h=P.window[X],P.ins_h=(P.ins_h<<P.hash_shift^P.window[X+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[X+3-1])&P.hash_mask,P.prev[X&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=X,X++,P.insert--,!(P.lookahead+P.insert<3)););}while(P.lookahead<N&&P.strm.avail_in!==0)}function _(P,G){for(var I,A;;){if(P.lookahead<N){if(v(P),P.lookahead<N&&G===0)return 1;if(P.lookahead===0)break}if(I=0,P.lookahead>=3&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+3-1])&P.hash_mask,I=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),I!==0&&P.strstart-I<=P.w_size-N&&(P.match_length=w(P,I)),P.match_length>=3)if(A=p._tr_tally(P,P.strstart-P.match_start,P.match_length-3),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=3){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+3-1])&P.hash_mask,I=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else A=p._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(A&&(D(P,!1),P.strm.avail_out===0))return 1}return P.insert=P.strstart<2?P.strstart:2,G===4?(D(P,!0),P.strm.avail_out===0?3:4):P.last_lit&&(D(P,!1),P.strm.avail_out===0)?1:2}function T(P,G){for(var I,A,H;;){if(P.lookahead<N){if(v(P),P.lookahead<N&&G===0)return 1;if(P.lookahead===0)break}if(I=0,P.lookahead>=3&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+3-1])&P.hash_mask,I=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=2,I!==0&&P.prev_length<P.max_lazy_match&&P.strstart-I<=P.w_size-N&&(P.match_length=w(P,I),P.match_length<=5&&(P.strategy===1||P.match_length===3&&4096<P.strstart-P.match_start)&&(P.match_length=2)),P.prev_length>=3&&P.match_length<=P.prev_length){for(H=P.strstart+P.lookahead-3,A=p._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-3),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=H&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+3-1])&P.hash_mask,I=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=2,P.strstart++,A&&(D(P,!1),P.strm.avail_out===0))return 1}else if(P.match_available){if((A=p._tr_tally(P,0,P.window[P.strstart-1]))&&D(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return 1}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(A=p._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<2?P.strstart:2,G===4?(D(P,!0),P.strm.avail_out===0?3:4):P.last_lit&&(D(P,!1),P.strm.avail_out===0)?1:2}function j(P,G,I,A,H){this.good_length=P,this.max_lazy=G,this.nice_length=I,this.max_chain=A,this.func=H}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(P){var G;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=2,(G=P.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?42:L,P.adler=G.wrap===2?0:1,G.last_flush=0,p._tr_init(G),0):F(P,R)}function V(P){var G=z(P);return G===0&&function(I){I.window_size=2*I.w_size,W(I.head),I.max_lazy_match=u[I.level].max_lazy,I.good_match=u[I.level].good_length,I.nice_match=u[I.level].nice_length,I.max_chain_length=u[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=2,I.match_available=0,I.ins_h=0}(P.state),G}function q(P,G,I,A,H,X){if(!P)return R;var J=1;if(G===-1&&(G=6),A<0?(J=0,A=-A):15<A&&(J=2,A-=16),H<1||9<H||I!==8||A<8||15<A||G<0||9<G||X<0||4<X)return F(P,R);A===8&&(A=9);var Y=new O;return(P.state=Y).strm=P,Y.wrap=J,Y.gzhead=null,Y.w_bits=A,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=H+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+3-1)/3),Y.window=new g.Buf8(2*Y.w_size),Y.head=new g.Buf16(Y.hash_size),Y.prev=new g.Buf16(Y.w_size),Y.lit_bufsize=1<<H+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new g.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=G,Y.strategy=X,Y.method=I,V(P)}u=[new j(0,0,0,0,function(P,G){var I=65535;for(I>P.pending_buf_size-5&&(I=P.pending_buf_size-5);;){if(P.lookahead<=1){if(v(P),P.lookahead===0&&G===0)return 1;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var A=P.block_start+I;if((P.strstart===0||P.strstart>=A)&&(P.lookahead=P.strstart-A,P.strstart=A,D(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-N&&(D(P,!1),P.strm.avail_out===0))return 1}return P.insert=0,G===4?(D(P,!0),P.strm.avail_out===0?3:4):(P.strstart>P.block_start&&(D(P,!1),P.strm.avail_out),1)}),new j(4,4,8,4,_),new j(4,5,16,8,_),new j(4,6,32,32,_),new j(4,4,16,16,T),new j(8,16,32,32,T),new j(8,16,128,128,T),new j(8,32,128,256,T),new j(32,128,258,1024,T),new j(32,258,258,4096,T)],f.deflateInit=function(P,G){return q(P,G,8,15,8,0)},f.deflateInit2=q,f.deflateReset=V,f.deflateResetKeep=z,f.deflateSetHeader=function(P,G){return P&&P.state?P.state.wrap!==2?R:(P.state.gzhead=G,0):R},f.deflate=function(P,G){var I,A,H,X;if(!P||!P.state||5<G||G<0)return P?F(P,R):R;if(A=P.state,!P.output||!P.input&&P.avail_in!==0||A.status===666&&G!==4)return F(P,P.avail_out===0?-5:R);if(A.strm=P,I=A.last_flush,A.last_flush=G,A.status===42)if(A.wrap===2)P.adler=0,k(A,31),k(A,139),k(A,8),A.gzhead?(k(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),k(A,255&A.gzhead.time),k(A,A.gzhead.time>>8&255),k(A,A.gzhead.time>>16&255),k(A,A.gzhead.time>>24&255),k(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),k(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(k(A,255&A.gzhead.extra.length),k(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(P.adler=S(P.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(k(A,0),k(A,0),k(A,0),k(A,0),k(A,0),k(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),k(A,3),A.status=L);else{var J=8+(A.w_bits-8<<4)<<8;J|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(J|=32),J+=31-J%31,A.status=L,y(A,J),A.strstart!==0&&(y(A,P.adler>>>16),y(A,65535&P.adler)),P.adler=1}if(A.status===69)if(A.gzhead.extra){for(H=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>H&&(P.adler=S(P.adler,A.pending_buf,A.pending-H,H)),C(P),H=A.pending,A.pending!==A.pending_buf_size));)k(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>H&&(P.adler=S(P.adler,A.pending_buf,A.pending-H,H)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){H=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>H&&(P.adler=S(P.adler,A.pending_buf,A.pending-H,H)),C(P),H=A.pending,A.pending===A.pending_buf_size)){X=1;break}X=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,k(A,X)}while(X!==0);A.gzhead.hcrc&&A.pending>H&&(P.adler=S(P.adler,A.pending_buf,A.pending-H,H)),X===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){H=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>H&&(P.adler=S(P.adler,A.pending_buf,A.pending-H,H)),C(P),H=A.pending,A.pending===A.pending_buf_size)){X=1;break}X=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,k(A,X)}while(X!==0);A.gzhead.hcrc&&A.pending>H&&(P.adler=S(P.adler,A.pending_buf,A.pending-H,H)),X===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&C(P),A.pending+2<=A.pending_buf_size&&(k(A,255&P.adler),k(A,P.adler>>8&255),P.adler=0,A.status=L)):A.status=L),A.pending!==0){if(C(P),P.avail_out===0)return A.last_flush=-1,0}else if(P.avail_in===0&&$(G)<=$(I)&&G!==4)return F(P,-5);if(A.status===666&&P.avail_in!==0)return F(P,-5);if(P.avail_in!==0||A.lookahead!==0||G!==0&&A.status!==666){var Y=A.strategy===2?function(Q,it){for(var st;;){if(Q.lookahead===0&&(v(Q),Q.lookahead===0)){if(it===0)return 1;break}if(Q.match_length=0,st=p._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++,st&&(D(Q,!1),Q.strm.avail_out===0))return 1}return Q.insert=0,it===4?(D(Q,!0),Q.strm.avail_out===0?3:4):Q.last_lit&&(D(Q,!1),Q.strm.avail_out===0)?1:2}(A,G):A.strategy===3?function(Q,it){for(var st,K,et,rt,at=Q.window;;){if(Q.lookahead<=B){if(v(Q),Q.lookahead<=B&&it===0)return 1;if(Q.lookahead===0)break}if(Q.match_length=0,Q.lookahead>=3&&0<Q.strstart&&(K=at[et=Q.strstart-1])===at[++et]&&K===at[++et]&&K===at[++et]){rt=Q.strstart+B;do;while(K===at[++et]&&K===at[++et]&&K===at[++et]&&K===at[++et]&&K===at[++et]&&K===at[++et]&&K===at[++et]&&K===at[++et]&&et<rt);Q.match_length=B-(rt-et),Q.match_length>Q.lookahead&&(Q.match_length=Q.lookahead)}if(Q.match_length>=3?(st=p._tr_tally(Q,1,Q.match_length-3),Q.lookahead-=Q.match_length,Q.strstart+=Q.match_length,Q.match_length=0):(st=p._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++),st&&(D(Q,!1),Q.strm.avail_out===0))return 1}return Q.insert=0,it===4?(D(Q,!0),Q.strm.avail_out===0?3:4):Q.last_lit&&(D(Q,!1),Q.strm.avail_out===0)?1:2}(A,G):u[A.level].func(A,G);if(Y!==3&&Y!==4||(A.status=666),Y===1||Y===3)return P.avail_out===0&&(A.last_flush=-1),0;if(Y===2&&(G===1?p._tr_align(A):G!==5&&(p._tr_stored_block(A,0,0,!1),G===3&&(W(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),C(P),P.avail_out===0))return A.last_flush=-1,0}return G!==4?0:A.wrap<=0?1:(A.wrap===2?(k(A,255&P.adler),k(A,P.adler>>8&255),k(A,P.adler>>16&255),k(A,P.adler>>24&255),k(A,255&P.total_in),k(A,P.total_in>>8&255),k(A,P.total_in>>16&255),k(A,P.total_in>>24&255)):(y(A,P.adler>>>16),y(A,65535&P.adler)),C(P),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?0:1)},f.deflateEnd=function(P){var G;return P&&P.state?(G=P.state.status)!==42&&G!==69&&G!==73&&G!==91&&G!==103&&G!==L&&G!==666?F(P,R):(P.state=null,G===L?F(P,-3):0):R},f.deflateSetDictionary=function(P,G){var I,A,H,X,J,Y,Q,it,st=G.length;if(!P||!P.state||(X=(I=P.state).wrap)===2||X===1&&I.status!==42||I.lookahead)return R;for(X===1&&(P.adler=x(P.adler,G,st,0)),I.wrap=0,st>=I.w_size&&(X===0&&(W(I.head),I.strstart=0,I.block_start=0,I.insert=0),it=new g.Buf8(I.w_size),g.arraySet(it,G,st-I.w_size,I.w_size,0),G=it,st=I.w_size),J=P.avail_in,Y=P.next_in,Q=P.input,P.avail_in=st,P.next_in=0,P.input=G,v(I);I.lookahead>=3;){for(A=I.strstart,H=I.lookahead-2;I.ins_h=(I.ins_h<<I.hash_shift^I.window[A+3-1])&I.hash_mask,I.prev[A&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=A,A++,--H;);I.strstart=A,I.lookahead=2,v(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=2,I.match_available=0,P.next_in=Y,P.input=Q,P.avail_in=J,I.wrap=X,0},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,d,f){d.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,d,f){d.exports=function(u,g){var p,x,S,M,R,B,N,L,F,$,W,C,D,k,y,w,v,_,T,j,O,z,V,q,P;p=u.state,x=u.next_in,q=u.input,S=x+(u.avail_in-5),M=u.next_out,P=u.output,R=M-(g-u.avail_out),B=M+(u.avail_out-257),N=p.dmax,L=p.wsize,F=p.whave,$=p.wnext,W=p.window,C=p.hold,D=p.bits,k=p.lencode,y=p.distcode,w=(1<<p.lenbits)-1,v=(1<<p.distbits)-1;t:do{D<15&&(C+=q[x++]<<D,D+=8,C+=q[x++]<<D,D+=8),_=k[C&w];e:for(;;){if(C>>>=T=_>>>24,D-=T,(T=_>>>16&255)==0)P[M++]=65535&_;else{if(!(16&T)){if(!(64&T)){_=k[(65535&_)+(C&(1<<T)-1)];continue e}if(32&T){p.mode=12;break t}u.msg="invalid literal/length code",p.mode=30;break t}j=65535&_,(T&=15)&&(D<T&&(C+=q[x++]<<D,D+=8),j+=C&(1<<T)-1,C>>>=T,D-=T),D<15&&(C+=q[x++]<<D,D+=8,C+=q[x++]<<D,D+=8),_=y[C&v];r:for(;;){if(C>>>=T=_>>>24,D-=T,!(16&(T=_>>>16&255))){if(!(64&T)){_=y[(65535&_)+(C&(1<<T)-1)];continue r}u.msg="invalid distance code",p.mode=30;break t}if(O=65535&_,D<(T&=15)&&(C+=q[x++]<<D,(D+=8)<T&&(C+=q[x++]<<D,D+=8)),N<(O+=C&(1<<T)-1)){u.msg="invalid distance too far back",p.mode=30;break t}if(C>>>=T,D-=T,(T=M-R)<O){if(F<(T=O-T)&&p.sane){u.msg="invalid distance too far back",p.mode=30;break t}if(V=W,(z=0)===$){if(z+=L-T,T<j){for(j-=T;P[M++]=W[z++],--T;);z=M-O,V=P}}else if($<T){if(z+=L+$-T,(T-=$)<j){for(j-=T;P[M++]=W[z++],--T;);if(z=0,$<j){for(j-=T=$;P[M++]=W[z++],--T;);z=M-O,V=P}}}else if(z+=$-T,T<j){for(j-=T;P[M++]=W[z++],--T;);z=M-O,V=P}for(;2<j;)P[M++]=V[z++],P[M++]=V[z++],P[M++]=V[z++],j-=3;j&&(P[M++]=V[z++],1<j&&(P[M++]=V[z++]))}else{for(z=M-O;P[M++]=P[z++],P[M++]=P[z++],P[M++]=P[z++],2<(j-=3););j&&(P[M++]=P[z++],1<j&&(P[M++]=P[z++]))}break}}break}}while(x<S&&M<B);x-=j=D>>3,C&=(1<<(D-=j<<3))-1,u.next_in=x,u.next_out=M,u.avail_in=x<S?S-x+5:5-(x-S),u.avail_out=M<B?B-M+257:257-(M-B),p.hold=C,p.bits=D}},{}],49:[function(o,d,f){var u=o("../utils/common"),g=o("./adler32"),p=o("./crc32"),x=o("./inffast"),S=o("./inftrees"),M=-2;function R(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(w){var v;return w&&w.state?(v=w.state,w.total_in=w.total_out=v.total=0,w.msg="",v.wrap&&(w.adler=1&v.wrap),v.mode=1,v.last=0,v.havedict=0,v.dmax=32768,v.head=null,v.hold=0,v.bits=0,v.lencode=v.lendyn=new u.Buf32(852),v.distcode=v.distdyn=new u.Buf32(592),v.sane=1,v.back=-1,0):M}function L(w){var v;return w&&w.state?((v=w.state).wsize=0,v.whave=0,v.wnext=0,N(w)):M}function F(w,v){var _,T;return w&&w.state?(T=w.state,v<0?(_=0,v=-v):(_=1+(v>>4),v<48&&(v&=15)),v&&(v<8||15<v)?M:(T.window!==null&&T.wbits!==v&&(T.window=null),T.wrap=_,T.wbits=v,L(w))):M}function $(w,v){var _,T;return w?(T=new B,(w.state=T).window=null,(_=F(w,v))!==0&&(w.state=null),_):M}var W,C,D=!0;function k(w){if(D){var v;for(W=new u.Buf32(512),C=new u.Buf32(32),v=0;v<144;)w.lens[v++]=8;for(;v<256;)w.lens[v++]=9;for(;v<280;)w.lens[v++]=7;for(;v<288;)w.lens[v++]=8;for(S(1,w.lens,0,288,W,0,w.work,{bits:9}),v=0;v<32;)w.lens[v++]=5;S(2,w.lens,0,32,C,0,w.work,{bits:5}),D=!1}w.lencode=W,w.lenbits=9,w.distcode=C,w.distbits=5}function y(w,v,_,T){var j,O=w.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new u.Buf8(O.wsize)),T>=O.wsize?(u.arraySet(O.window,v,_-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(T<(j=O.wsize-O.wnext)&&(j=T),u.arraySet(O.window,v,_-T,j,O.wnext),(T-=j)?(u.arraySet(O.window,v,_-T,T,0),O.wnext=T,O.whave=O.wsize):(O.wnext+=j,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=j))),0}f.inflateReset=L,f.inflateReset2=F,f.inflateResetKeep=N,f.inflateInit=function(w){return $(w,15)},f.inflateInit2=$,f.inflate=function(w,v){var _,T,j,O,z,V,q,P,G,I,A,H,X,J,Y,Q,it,st,K,et,rt,at,ot,ct,dt=0,ft=new u.Buf8(4),gt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return M;(_=w.state).mode===12&&(_.mode=13),z=w.next_out,j=w.output,q=w.avail_out,O=w.next_in,T=w.input,V=w.avail_in,P=_.hold,G=_.bits,I=V,A=q,at=0;t:for(;;)switch(_.mode){case 1:if(_.wrap===0){_.mode=13;break}for(;G<16;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(2&_.wrap&&P===35615){ft[_.check=0]=255&P,ft[1]=P>>>8&255,_.check=p(_.check,ft,2,0),G=P=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&P)<<8)+(P>>8))%31){w.msg="incorrect header check",_.mode=30;break}if((15&P)!=8){w.msg="unknown compression method",_.mode=30;break}if(G-=4,rt=8+(15&(P>>>=4)),_.wbits===0)_.wbits=rt;else if(rt>_.wbits){w.msg="invalid window size",_.mode=30;break}_.dmax=1<<rt,w.adler=_.check=1,_.mode=512&P?10:12,G=P=0;break;case 2:for(;G<16;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(_.flags=P,(255&_.flags)!=8){w.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){w.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=P>>8&1),512&_.flags&&(ft[0]=255&P,ft[1]=P>>>8&255,_.check=p(_.check,ft,2,0)),G=P=0,_.mode=3;case 3:for(;G<32;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}_.head&&(_.head.time=P),512&_.flags&&(ft[0]=255&P,ft[1]=P>>>8&255,ft[2]=P>>>16&255,ft[3]=P>>>24&255,_.check=p(_.check,ft,4,0)),G=P=0,_.mode=4;case 4:for(;G<16;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}_.head&&(_.head.xflags=255&P,_.head.os=P>>8),512&_.flags&&(ft[0]=255&P,ft[1]=P>>>8&255,_.check=p(_.check,ft,2,0)),G=P=0,_.mode=5;case 5:if(1024&_.flags){for(;G<16;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}_.length=P,_.head&&(_.head.extra_len=P),512&_.flags&&(ft[0]=255&P,ft[1]=P>>>8&255,_.check=p(_.check,ft,2,0)),G=P=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(V<(H=_.length)&&(H=V),H&&(_.head&&(rt=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),u.arraySet(_.head.extra,T,O,H,rt)),512&_.flags&&(_.check=p(_.check,T,H,O)),V-=H,O+=H,_.length-=H),_.length))break t;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(V===0)break t;for(H=0;rt=T[O+H++],_.head&&rt&&_.length<65536&&(_.head.name+=String.fromCharCode(rt)),rt&&H<V;);if(512&_.flags&&(_.check=p(_.check,T,H,O)),V-=H,O+=H,rt)break t}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(V===0)break t;for(H=0;rt=T[O+H++],_.head&&rt&&_.length<65536&&(_.head.comment+=String.fromCharCode(rt)),rt&&H<V;);if(512&_.flags&&(_.check=p(_.check,T,H,O)),V-=H,O+=H,rt)break t}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;G<16;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(P!==(65535&_.check)){w.msg="header crc mismatch",_.mode=30;break}G=P=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),w.adler=_.check=0,_.mode=12;break;case 10:for(;G<32;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}w.adler=_.check=R(P),G=P=0,_.mode=11;case 11:if(_.havedict===0)return w.next_out=z,w.avail_out=q,w.next_in=O,w.avail_in=V,_.hold=P,_.bits=G,2;w.adler=_.check=1,_.mode=12;case 12:if(v===5||v===6)break t;case 13:if(_.last){P>>>=7&G,G-=7&G,_.mode=27;break}for(;G<3;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}switch(_.last=1&P,G-=1,3&(P>>>=1)){case 0:_.mode=14;break;case 1:if(k(_),_.mode=20,v!==6)break;P>>>=2,G-=2;break t;case 2:_.mode=17;break;case 3:w.msg="invalid block type",_.mode=30}P>>>=2,G-=2;break;case 14:for(P>>>=7&G,G-=7&G;G<32;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if((65535&P)!=(P>>>16^65535)){w.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&P,G=P=0,_.mode=15,v===6)break t;case 15:_.mode=16;case 16:if(H=_.length){if(V<H&&(H=V),q<H&&(H=q),H===0)break t;u.arraySet(j,T,O,H,z),V-=H,O+=H,q-=H,z+=H,_.length-=H;break}_.mode=12;break;case 17:for(;G<14;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(_.nlen=257+(31&P),P>>>=5,G-=5,_.ndist=1+(31&P),P>>>=5,G-=5,_.ncode=4+(15&P),P>>>=4,G-=4,286<_.nlen||30<_.ndist){w.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;G<3;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}_.lens[gt[_.have++]]=7&P,P>>>=3,G-=3}for(;_.have<19;)_.lens[gt[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,ot={bits:_.lenbits},at=S(0,_.lens,0,19,_.lencode,0,_.work,ot),_.lenbits=ot.bits,at){w.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;Q=(dt=_.lencode[P&(1<<_.lenbits)-1])>>>16&255,it=65535&dt,!((Y=dt>>>24)<=G);){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(it<16)P>>>=Y,G-=Y,_.lens[_.have++]=it;else{if(it===16){for(ct=Y+2;G<ct;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(P>>>=Y,G-=Y,_.have===0){w.msg="invalid bit length repeat",_.mode=30;break}rt=_.lens[_.have-1],H=3+(3&P),P>>>=2,G-=2}else if(it===17){for(ct=Y+3;G<ct;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}G-=Y,rt=0,H=3+(7&(P>>>=Y)),P>>>=3,G-=3}else{for(ct=Y+7;G<ct;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}G-=Y,rt=0,H=11+(127&(P>>>=Y)),P>>>=7,G-=7}if(_.have+H>_.nlen+_.ndist){w.msg="invalid bit length repeat",_.mode=30;break}for(;H--;)_.lens[_.have++]=rt}}if(_.mode===30)break;if(_.lens[256]===0){w.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,ot={bits:_.lenbits},at=S(1,_.lens,0,_.nlen,_.lencode,0,_.work,ot),_.lenbits=ot.bits,at){w.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,ot={bits:_.distbits},at=S(2,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,ot),_.distbits=ot.bits,at){w.msg="invalid distances set",_.mode=30;break}if(_.mode=20,v===6)break t;case 20:_.mode=21;case 21:if(6<=V&&258<=q){w.next_out=z,w.avail_out=q,w.next_in=O,w.avail_in=V,_.hold=P,_.bits=G,x(w,A),z=w.next_out,j=w.output,q=w.avail_out,O=w.next_in,T=w.input,V=w.avail_in,P=_.hold,G=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;Q=(dt=_.lencode[P&(1<<_.lenbits)-1])>>>16&255,it=65535&dt,!((Y=dt>>>24)<=G);){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(Q&&!(240&Q)){for(st=Y,K=Q,et=it;Q=(dt=_.lencode[et+((P&(1<<st+K)-1)>>st)])>>>16&255,it=65535&dt,!(st+(Y=dt>>>24)<=G);){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}P>>>=st,G-=st,_.back+=st}if(P>>>=Y,G-=Y,_.back+=Y,_.length=it,Q===0){_.mode=26;break}if(32&Q){_.back=-1,_.mode=12;break}if(64&Q){w.msg="invalid literal/length code",_.mode=30;break}_.extra=15&Q,_.mode=22;case 22:if(_.extra){for(ct=_.extra;G<ct;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}_.length+=P&(1<<_.extra)-1,P>>>=_.extra,G-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;Q=(dt=_.distcode[P&(1<<_.distbits)-1])>>>16&255,it=65535&dt,!((Y=dt>>>24)<=G);){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(!(240&Q)){for(st=Y,K=Q,et=it;Q=(dt=_.distcode[et+((P&(1<<st+K)-1)>>st)])>>>16&255,it=65535&dt,!(st+(Y=dt>>>24)<=G);){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}P>>>=st,G-=st,_.back+=st}if(P>>>=Y,G-=Y,_.back+=Y,64&Q){w.msg="invalid distance code",_.mode=30;break}_.offset=it,_.extra=15&Q,_.mode=24;case 24:if(_.extra){for(ct=_.extra;G<ct;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}_.offset+=P&(1<<_.extra)-1,P>>>=_.extra,G-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){w.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(q===0)break t;if(H=A-q,_.offset>H){if((H=_.offset-H)>_.whave&&_.sane){w.msg="invalid distance too far back",_.mode=30;break}X=H>_.wnext?(H-=_.wnext,_.wsize-H):_.wnext-H,H>_.length&&(H=_.length),J=_.window}else J=j,X=z-_.offset,H=_.length;for(q<H&&(H=q),q-=H,_.length-=H;j[z++]=J[X++],--H;);_.length===0&&(_.mode=21);break;case 26:if(q===0)break t;j[z++]=_.length,q--,_.mode=21;break;case 27:if(_.wrap){for(;G<32;){if(V===0)break t;V--,P|=T[O++]<<G,G+=8}if(A-=q,w.total_out+=A,_.total+=A,A&&(w.adler=_.check=_.flags?p(_.check,j,A,z-A):g(_.check,j,A,z-A)),A=q,(_.flags?P:R(P))!==_.check){w.msg="incorrect data check",_.mode=30;break}G=P=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;G<32;){if(V===0)break t;V--,P+=T[O++]<<G,G+=8}if(P!==(4294967295&_.total)){w.msg="incorrect length check",_.mode=30;break}G=P=0}_.mode=29;case 29:at=1;break t;case 30:at=-3;break t;case 31:return-4;case 32:default:return M}return w.next_out=z,w.avail_out=q,w.next_in=O,w.avail_in=V,_.hold=P,_.bits=G,(_.wsize||A!==w.avail_out&&_.mode<30&&(_.mode<27||v!==4))&&y(w,w.output,w.next_out,A-w.avail_out)?(_.mode=31,-4):(I-=w.avail_in,A-=w.avail_out,w.total_in+=I,w.total_out+=A,_.total+=A,_.wrap&&A&&(w.adler=_.check=_.flags?p(_.check,j,A,w.next_out-A):g(_.check,j,A,w.next_out-A)),w.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(I==0&&A===0||v===4)&&at===0&&(at=-5),at)},f.inflateEnd=function(w){if(!w||!w.state)return M;var v=w.state;return v.window&&(v.window=null),w.state=null,0},f.inflateGetHeader=function(w,v){var _;return w&&w.state&&2&(_=w.state).wrap?((_.head=v).done=!1,0):M},f.inflateSetDictionary=function(w,v){var _,T=v.length;return w&&w.state?(_=w.state).wrap!==0&&_.mode!==11?M:_.mode===11&&g(1,v,T,0)!==_.check?-3:y(w,v,T,T)?(_.mode=31,-4):(_.havedict=1,0):M},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,d,f){var u=o("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],S=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];d.exports=function(M,R,B,N,L,F,$,W){var C,D,k,y,w,v,_,T,j,O=W.bits,z=0,V=0,q=0,P=0,G=0,I=0,A=0,H=0,X=0,J=0,Y=null,Q=0,it=new u.Buf16(16),st=new u.Buf16(16),K=null,et=0;for(z=0;z<=15;z++)it[z]=0;for(V=0;V<N;V++)it[R[B+V]]++;for(G=O,P=15;1<=P&&it[P]===0;P--);if(P<G&&(G=P),P===0)return L[F++]=20971520,L[F++]=20971520,W.bits=1,0;for(q=1;q<P&&it[q]===0;q++);for(G<q&&(G=q),z=H=1;z<=15;z++)if(H<<=1,(H-=it[z])<0)return-1;if(0<H&&(M===0||P!==1))return-1;for(st[1]=0,z=1;z<15;z++)st[z+1]=st[z]+it[z];for(V=0;V<N;V++)R[B+V]!==0&&($[st[R[B+V]]++]=V);if(v=M===0?(Y=K=$,19):M===1?(Y=g,Q-=257,K=p,et-=257,256):(Y=x,K=S,-1),z=q,w=F,A=V=J=0,k=-1,y=(X=1<<(I=G))-1,M===1&&852<X||M===2&&592<X)return 1;for(;;){for(_=z-A,j=$[V]<v?(T=0,$[V]):$[V]>v?(T=K[et+$[V]],Y[Q+$[V]]):(T=96,0),C=1<<z-A,q=D=1<<I;L[w+(J>>A)+(D-=C)]=_<<24|T<<16|j|0,D!==0;);for(C=1<<z-1;J&C;)C>>=1;if(C!==0?(J&=C-1,J+=C):J=0,V++,--it[z]==0){if(z===P)break;z=R[B+$[V]]}if(G<z&&(J&y)!==k){for(A===0&&(A=G),w+=q,H=1<<(I=z-A);I+A<P&&!((H-=it[I+A])<=0);)I++,H<<=1;if(X+=1<<I,M===1&&852<X||M===2&&592<X)return 1;L[k=J&y]=G<<24|I<<16|w-F|0}}return J!==0&&(L[w+J]=z-A<<24|64<<16|0),W.bits=G,0}},{"../utils/common":41}],51:[function(o,d,f){d.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,d,f){var u=o("../utils/common");function g(K){for(var et=K.length;0<=--et;)K[et]=0}var p=256,x=286,S=30,M=15,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(576);g(F);var $=new Array(60);g($);var W=new Array(512);g(W);var C=new Array(256);g(C);var D=new Array(29);g(D);var k,y,w,v=new Array(S);function _(K,et,rt,at,ot){this.static_tree=K,this.extra_bits=et,this.extra_base=rt,this.elems=at,this.max_length=ot,this.has_stree=K&&K.length}function T(K,et){this.dyn_tree=K,this.max_code=0,this.stat_desc=et}function j(K){return K<256?W[K]:W[256+(K>>>7)]}function O(K,et){K.pending_buf[K.pending++]=255&et,K.pending_buf[K.pending++]=et>>>8&255}function z(K,et,rt){K.bi_valid>16-rt?(K.bi_buf|=et<<K.bi_valid&65535,O(K,K.bi_buf),K.bi_buf=et>>16-K.bi_valid,K.bi_valid+=rt-16):(K.bi_buf|=et<<K.bi_valid&65535,K.bi_valid+=rt)}function V(K,et,rt){z(K,rt[2*et],rt[2*et+1])}function q(K,et){for(var rt=0;rt|=1&K,K>>>=1,rt<<=1,0<--et;);return rt>>>1}function P(K,et,rt){var at,ot,ct=new Array(16),dt=0;for(at=1;at<=M;at++)ct[at]=dt=dt+rt[at-1]<<1;for(ot=0;ot<=et;ot++){var ft=K[2*ot+1];ft!==0&&(K[2*ot]=q(ct[ft]++,ft))}}function G(K){var et;for(et=0;et<x;et++)K.dyn_ltree[2*et]=0;for(et=0;et<S;et++)K.dyn_dtree[2*et]=0;for(et=0;et<19;et++)K.bl_tree[2*et]=0;K.dyn_ltree[512]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function I(K){8<K.bi_valid?O(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function A(K,et,rt,at){var ot=2*et,ct=2*rt;return K[ot]<K[ct]||K[ot]===K[ct]&&at[et]<=at[rt]}function H(K,et,rt){for(var at=K.heap[rt],ot=rt<<1;ot<=K.heap_len&&(ot<K.heap_len&&A(et,K.heap[ot+1],K.heap[ot],K.depth)&&ot++,!A(et,at,K.heap[ot],K.depth));)K.heap[rt]=K.heap[ot],rt=ot,ot<<=1;K.heap[rt]=at}function X(K,et,rt){var at,ot,ct,dt,ft=0;if(K.last_lit!==0)for(;at=K.pending_buf[K.d_buf+2*ft]<<8|K.pending_buf[K.d_buf+2*ft+1],ot=K.pending_buf[K.l_buf+ft],ft++,at===0?V(K,ot,et):(V(K,(ct=C[ot])+p+1,et),(dt=R[ct])!==0&&z(K,ot-=D[ct],dt),V(K,ct=j(--at),rt),(dt=B[ct])!==0&&z(K,at-=v[ct],dt)),ft<K.last_lit;);V(K,256,et)}function J(K,et){var rt,at,ot,ct=et.dyn_tree,dt=et.stat_desc.static_tree,ft=et.stat_desc.has_stree,gt=et.stat_desc.elems,Dt=-1;for(K.heap_len=0,K.heap_max=573,rt=0;rt<gt;rt++)ct[2*rt]!==0?(K.heap[++K.heap_len]=Dt=rt,K.depth[rt]=0):ct[2*rt+1]=0;for(;K.heap_len<2;)ct[2*(ot=K.heap[++K.heap_len]=Dt<2?++Dt:0)]=1,K.depth[ot]=0,K.opt_len--,ft&&(K.static_len-=dt[2*ot+1]);for(et.max_code=Dt,rt=K.heap_len>>1;1<=rt;rt--)H(K,ct,rt);for(ot=gt;rt=K.heap[1],K.heap[1]=K.heap[K.heap_len--],H(K,ct,1),at=K.heap[1],K.heap[--K.heap_max]=rt,K.heap[--K.heap_max]=at,ct[2*ot]=ct[2*rt]+ct[2*at],K.depth[ot]=(K.depth[rt]>=K.depth[at]?K.depth[rt]:K.depth[at])+1,ct[2*rt+1]=ct[2*at+1]=ot,K.heap[1]=ot++,H(K,ct,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(Tt,wt){var Lt,Wt,zt,Ht,It,St,Pt=wt.dyn_tree,Ft=wt.max_code,Bt=wt.stat_desc.static_tree,Qt=wt.stat_desc.has_stree,ae=wt.stat_desc.extra_bits,Vt=wt.stat_desc.extra_base,le=wt.stat_desc.max_length,ne=0;for(Ht=0;Ht<=M;Ht++)Tt.bl_count[Ht]=0;for(Pt[2*Tt.heap[Tt.heap_max]+1]=0,Lt=Tt.heap_max+1;Lt<573;Lt++)le<(Ht=Pt[2*Pt[2*(Wt=Tt.heap[Lt])+1]+1]+1)&&(Ht=le,ne++),Pt[2*Wt+1]=Ht,Ft<Wt||(Tt.bl_count[Ht]++,It=0,Vt<=Wt&&(It=ae[Wt-Vt]),St=Pt[2*Wt],Tt.opt_len+=St*(Ht+It),Qt&&(Tt.static_len+=St*(Bt[2*Wt+1]+It)));if(ne!==0){do{for(Ht=le-1;Tt.bl_count[Ht]===0;)Ht--;Tt.bl_count[Ht]--,Tt.bl_count[Ht+1]+=2,Tt.bl_count[le]--,ne-=2}while(0<ne);for(Ht=le;Ht!==0;Ht--)for(Wt=Tt.bl_count[Ht];Wt!==0;)Ft<(zt=Tt.heap[--Lt])||(Pt[2*zt+1]!==Ht&&(Tt.opt_len+=(Ht-Pt[2*zt+1])*Pt[2*zt],Pt[2*zt+1]=Ht),Wt--)}}(K,et),P(ct,Dt,K.bl_count)}function Y(K,et,rt){var at,ot,ct=-1,dt=et[1],ft=0,gt=7,Dt=4;for(dt===0&&(gt=138,Dt=3),et[2*(rt+1)+1]=65535,at=0;at<=rt;at++)ot=dt,dt=et[2*(at+1)+1],++ft<gt&&ot===dt||(ft<Dt?K.bl_tree[2*ot]+=ft:ot!==0?(ot!==ct&&K.bl_tree[2*ot]++,K.bl_tree[32]++):ft<=10?K.bl_tree[34]++:K.bl_tree[36]++,ct=ot,Dt=(ft=0)===dt?(gt=138,3):ot===dt?(gt=6,3):(gt=7,4))}function Q(K,et,rt){var at,ot,ct=-1,dt=et[1],ft=0,gt=7,Dt=4;for(dt===0&&(gt=138,Dt=3),at=0;at<=rt;at++)if(ot=dt,dt=et[2*(at+1)+1],!(++ft<gt&&ot===dt)){if(ft<Dt)for(;V(K,ot,K.bl_tree),--ft!=0;);else ot!==0?(ot!==ct&&(V(K,ot,K.bl_tree),ft--),V(K,16,K.bl_tree),z(K,ft-3,2)):ft<=10?(V(K,17,K.bl_tree),z(K,ft-3,3)):(V(K,18,K.bl_tree),z(K,ft-11,7));ct=ot,Dt=(ft=0)===dt?(gt=138,3):ot===dt?(gt=6,3):(gt=7,4)}}g(v);var it=!1;function st(K,et,rt,at){z(K,0+(at?1:0),3),function(ot,ct,dt,ft){I(ot),O(ot,dt),O(ot,~dt),u.arraySet(ot.pending_buf,ot.window,ct,dt,ot.pending),ot.pending+=dt}(K,et,rt)}f._tr_init=function(K){it||(function(){var et,rt,at,ot,ct,dt=new Array(16);for(ot=at=0;ot<28;ot++)for(D[ot]=at,et=0;et<1<<R[ot];et++)C[at++]=ot;for(C[at-1]=ot,ot=ct=0;ot<16;ot++)for(v[ot]=ct,et=0;et<1<<B[ot];et++)W[ct++]=ot;for(ct>>=7;ot<S;ot++)for(v[ot]=ct<<7,et=0;et<1<<B[ot]-7;et++)W[256+ct++]=ot;for(rt=0;rt<=M;rt++)dt[rt]=0;for(et=0;et<=143;)F[2*et+1]=8,et++,dt[8]++;for(;et<=255;)F[2*et+1]=9,et++,dt[9]++;for(;et<=279;)F[2*et+1]=7,et++,dt[7]++;for(;et<=287;)F[2*et+1]=8,et++,dt[8]++;for(P(F,287,dt),et=0;et<S;et++)$[2*et+1]=5,$[2*et]=q(et,5);k=new _(F,R,257,x,M),y=new _($,B,0,S,M),w=new _(new Array(0),N,0,19,7)}(),it=!0),K.l_desc=new T(K.dyn_ltree,k),K.d_desc=new T(K.dyn_dtree,y),K.bl_desc=new T(K.bl_tree,w),K.bi_buf=0,K.bi_valid=0,G(K)},f._tr_stored_block=st,f._tr_flush_block=function(K,et,rt,at){var ot,ct,dt=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(ft){var gt,Dt=4093624447;for(gt=0;gt<=31;gt++,Dt>>>=1)if(1&Dt&&ft.dyn_ltree[2*gt]!==0)return 0;if(ft.dyn_ltree[18]!==0||ft.dyn_ltree[20]!==0||ft.dyn_ltree[26]!==0)return 1;for(gt=32;gt<p;gt++)if(ft.dyn_ltree[2*gt]!==0)return 1;return 0}(K)),J(K,K.l_desc),J(K,K.d_desc),dt=function(ft){var gt;for(Y(ft,ft.dyn_ltree,ft.l_desc.max_code),Y(ft,ft.dyn_dtree,ft.d_desc.max_code),J(ft,ft.bl_desc),gt=18;3<=gt&&ft.bl_tree[2*L[gt]+1]===0;gt--);return ft.opt_len+=3*(gt+1)+5+5+4,gt}(K),ot=K.opt_len+3+7>>>3,(ct=K.static_len+3+7>>>3)<=ot&&(ot=ct)):ot=ct=rt+5,rt+4<=ot&&et!==-1?st(K,et,rt,at):K.strategy===4||ct===ot?(z(K,2+(at?1:0),3),X(K,F,$)):(z(K,4+(at?1:0),3),function(ft,gt,Dt,Tt){var wt;for(z(ft,gt-257,5),z(ft,Dt-1,5),z(ft,Tt-4,4),wt=0;wt<Tt;wt++)z(ft,ft.bl_tree[2*L[wt]+1],3);Q(ft,ft.dyn_ltree,gt-1),Q(ft,ft.dyn_dtree,Dt-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,dt+1),X(K,K.dyn_ltree,K.dyn_dtree)),G(K),at&&I(K)},f._tr_tally=function(K,et,rt){return K.pending_buf[K.d_buf+2*K.last_lit]=et>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&et,K.pending_buf[K.l_buf+K.last_lit]=255&rt,K.last_lit++,et===0?K.dyn_ltree[2*rt]++:(K.matches++,et--,K.dyn_ltree[2*(C[rt]+p+1)]++,K.dyn_dtree[2*j(et)]++),K.last_lit===K.lit_bufsize-1},f._tr_align=function(K){z(K,2,3),V(K,256,F),function(et){et.bi_valid===16?(O(et,et.bi_buf),et.bi_buf=0,et.bi_valid=0):8<=et.bi_valid&&(et.pending_buf[et.pending++]=255&et.bi_buf,et.bi_buf>>=8,et.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(o,d,f){d.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,d,f){(function(u){(function(g,p){if(!g.setImmediate){var x,S,M,R,B=1,N={},L=!1,F=g.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(g);$=$&&$.setTimeout?$:g,x={}.toString.call(g.process)==="[object process]"?function(k){l.nextTick(function(){C(k)})}:function(){if(g.postMessage&&!g.importScripts){var k=!0,y=g.onmessage;return g.onmessage=function(){k=!1},g.postMessage("","*"),g.onmessage=y,k}}()?(R="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",D,!1):g.attachEvent("onmessage",D),function(k){g.postMessage(R+k,"*")}):g.MessageChannel?((M=new MessageChannel).port1.onmessage=function(k){C(k.data)},function(k){M.port2.postMessage(k)}):F&&"onreadystatechange"in F.createElement("script")?(S=F.documentElement,function(k){var y=F.createElement("script");y.onreadystatechange=function(){C(k),y.onreadystatechange=null,S.removeChild(y),y=null},S.appendChild(y)}):function(k){setTimeout(C,0,k)},$.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var y=new Array(arguments.length-1),w=0;w<y.length;w++)y[w]=arguments[w+1];var v={callback:k,args:y};return N[B]=v,x(B),B++},$.clearImmediate=W}function W(k){delete N[k]}function C(k){if(L)setTimeout(C,0,k);else{var y=N[k];if(y){L=!0;try{(function(w){var v=w.callback,_=w.args;switch(_.length){case 0:v();break;case 1:v(_[0]);break;case 2:v(_[0],_[1]);break;case 3:v(_[0],_[1],_[2]);break;default:v.apply(void 0,_)}})(y)}finally{W(k),L=!1}}}}function D(k){k.source===g&&typeof k.data=="string"&&k.data.indexOf(R)===0&&C(+k.data.slice(R.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,h,m){(function(l){(function(){var i=/[\\^$.*+?()[\]{}|]/g,a=RegExp(i.source),n=typeof l=="object"&&l&&l.Object===Object&&l,e=typeof self=="object"&&self&&self.Object===Object&&self,r=n||e||Function("return this")(),c=Object.prototype.toString,s=r.Symbol,o=s?s.prototype:void 0,d=o?o.toString:void 0;function f(u){if(typeof u=="string")return u;if(function(p){return typeof p=="symbol"||function(x){return!!x&&typeof x=="object"}(p)&&c.call(p)=="[object Symbol]"}(u))return d?d.call(u):"";var g=u+"";return g=="0"&&1/u==-1/0?"-0":g}h.exports=function(u){var g;return(u=(g=u)==null?"":f(g))&&a.test(u)?u.replace(i,"\\$&"):u}}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,h,m){(function(l){(function(){var i="[object Arguments]",a="[object Map]",n="[object Object]",e="[object Set]",r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,s=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[i]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[a]=g["[object Number]"]=g[n]=g["[object RegExp]"]=g[e]=g["[object String]"]=g["[object WeakMap]"]=!1;var p=typeof l=="object"&&l&&l.Object===Object&&l,x=typeof self=="object"&&self&&self.Object===Object&&self,S=p||x||Function("return this")(),M=typeof m=="object"&&m&&!m.nodeType&&m,R=M&&typeof h=="object"&&h&&!h.nodeType&&h,B=R&&R.exports===M&&p.process,N=function(){try{return B&&B.binding("util")}catch{}}(),L=N&&N.isTypedArray;function F(tt,ut,yt,kt){for(var Xt=-1,jt=tt?tt.length:0;++Xt<jt;){var Rt=tt[Xt];ut(kt,Rt,yt(Rt),tt)}return kt}function $(tt,ut){for(var yt=-1,kt=tt?tt.length:0;++yt<kt;)if(ut(tt[yt],yt,tt))return!0;return!1}function W(tt){var ut=!1;if(tt!=null&&typeof tt.toString!="function")try{ut=!!(tt+"")}catch{}return ut}function C(tt){var ut=-1,yt=Array(tt.size);return tt.forEach(function(kt,Xt){yt[++ut]=[Xt,kt]}),yt}function D(tt){var ut=-1,yt=Array(tt.size);return tt.forEach(function(kt){yt[++ut]=kt}),yt}var k,y,w,v=Array.prototype,_=Function.prototype,T=Object.prototype,j=S["__core-js_shared__"],O=(k=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",z=_.toString,V=T.hasOwnProperty,q=T.toString,P=RegExp("^"+z.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=S.Symbol,I=S.Uint8Array,A=T.propertyIsEnumerable,H=v.splice,X=(y=Object.keys,w=Object,function(tt){return y(w(tt))}),J=Nt(S,"DataView"),Y=Nt(S,"Map"),Q=Nt(S,"Promise"),it=Nt(S,"Set"),st=Nt(S,"WeakMap"),K=Nt(Object,"create"),et=lt(J),rt=lt(Y),at=lt(Q),ot=lt(it),ct=lt(st),dt=G?G.prototype:void 0,ft=dt?dt.valueOf:void 0,gt=dt?dt.toString:void 0;function Dt(tt){var ut=-1,yt=tt?tt.length:0;for(this.clear();++ut<yt;){var kt=tt[ut];this.set(kt[0],kt[1])}}function Tt(tt){var ut=-1,yt=tt?tt.length:0;for(this.clear();++ut<yt;){var kt=tt[ut];this.set(kt[0],kt[1])}}function wt(tt){var ut=-1,yt=tt?tt.length:0;for(this.clear();++ut<yt;){var kt=tt[ut];this.set(kt[0],kt[1])}}function Lt(tt){var ut=-1,yt=tt?tt.length:0;for(this.__data__=new wt;++ut<yt;)this.add(tt[ut])}function Wt(tt){this.__data__=new Tt(tt)}function zt(tt,ut){var yt=Kt(tt)||ee(tt)?function(Rt,me){for(var ue=-1,de=Array(Rt);++ue<Rt;)de[ue]=me(ue);return de}(tt.length,String):[],kt=yt.length,Xt=!!kt;for(var jt in tt)!V.call(tt,jt)||Xt&&(jt=="length"||bt(jt,kt))||yt.push(jt);return yt}function Ht(tt,ut){for(var yt=tt.length;yt--;)if(Ot(tt[yt][0],ut))return yt;return-1}function It(tt,ut,yt,kt){return Pt(tt,function(Xt,jt,Rt){ut(kt,Xt,yt(Xt),Rt)}),kt}Dt.prototype.clear=function(){this.__data__=K?K(null):{}},Dt.prototype.delete=function(tt){return this.has(tt)&&delete this.__data__[tt]},Dt.prototype.get=function(tt){var ut=this.__data__;if(K){var yt=ut[tt];return yt==="__lodash_hash_undefined__"?void 0:yt}return V.call(ut,tt)?ut[tt]:void 0},Dt.prototype.has=function(tt){var ut=this.__data__;return K?ut[tt]!==void 0:V.call(ut,tt)},Dt.prototype.set=function(tt,ut){return this.__data__[tt]=K&&ut===void 0?"__lodash_hash_undefined__":ut,this},Tt.prototype.clear=function(){this.__data__=[]},Tt.prototype.delete=function(tt){var ut=this.__data__,yt=Ht(ut,tt);return!(yt<0)&&(yt==ut.length-1?ut.pop():H.call(ut,yt,1),!0)},Tt.prototype.get=function(tt){var ut=this.__data__,yt=Ht(ut,tt);return yt<0?void 0:ut[yt][1]},Tt.prototype.has=function(tt){return Ht(this.__data__,tt)>-1},Tt.prototype.set=function(tt,ut){var yt=this.__data__,kt=Ht(yt,tt);return kt<0?yt.push([tt,ut]):yt[kt][1]=ut,this},wt.prototype.clear=function(){this.__data__={hash:new Dt,map:new(Y||Tt),string:new Dt}},wt.prototype.delete=function(tt){return ht(this,tt).delete(tt)},wt.prototype.get=function(tt){return ht(this,tt).get(tt)},wt.prototype.has=function(tt){return ht(this,tt).has(tt)},wt.prototype.set=function(tt,ut){return ht(this,tt).set(tt,ut),this},Lt.prototype.add=Lt.prototype.push=function(tt){return this.__data__.set(tt,"__lodash_hash_undefined__"),this},Lt.prototype.has=function(tt){return this.__data__.has(tt)},Wt.prototype.clear=function(){this.__data__=new Tt},Wt.prototype.delete=function(tt){return this.__data__.delete(tt)},Wt.prototype.get=function(tt){return this.__data__.get(tt)},Wt.prototype.has=function(tt){return this.__data__.has(tt)},Wt.prototype.set=function(tt,ut){var yt=this.__data__;if(yt instanceof Tt){var kt=yt.__data__;if(!Y||kt.length<199)return kt.push([tt,ut]),this;yt=this.__data__=new wt(kt)}return yt.set(tt,ut),this};var St,Pt=(St=function(tt,ut){return tt&&Ft(tt,ut,ge)},function(tt,ut){if(tt==null)return tt;if(!Yt(tt))return St(tt,ut);for(var yt=tt.length,kt=-1,Xt=Object(tt);++kt<yt&&ut(Xt[kt],kt,Xt)!==!1;);return tt}),Ft=function(tt){return function(ut,yt,kt){for(var Xt=-1,jt=Object(ut),Rt=kt(ut),me=Rt.length;me--;){var ue=Rt[++Xt];if(yt(jt[ue],ue,jt)===!1)break}return ut}}();function Bt(tt,ut){for(var yt=0,kt=(ut=Et(ut,tt)?[ut]:Ct(ut)).length;tt!=null&&yt<kt;)tt=tt[nt(ut[yt++])];return yt&&yt==kt?tt:void 0}function Qt(tt,ut){return tt!=null&&ut in Object(tt)}function ae(tt,ut,yt,kt,Xt){return tt===ut||(tt==null||ut==null||!ce(tt)&&!Ee(ut)?tt!=tt&&ut!=ut:function(jt,Rt,me,ue,de,Jt){var ve=Kt(jt),we=Kt(Rt),ke="[object Array]",Ce="[object Array]";ve||(ke=(ke=_t(jt))==i?n:ke),we||(Ce=(Ce=_t(Rt))==i?n:Ce);var Oe=ke==n&&!W(jt),Fe=Ce==n&&!W(Rt),Ue=ke==Ce;if(Ue&&!Oe)return Jt||(Jt=new Wt),ve||ye(jt)?mt(jt,Rt,me,ue,de,Jt):function(xe,be,ur,kr,cs,ze,nr){switch(ur){case"[object DataView]":if(xe.byteLength!=be.byteLength||xe.byteOffset!=be.byteOffset)return!1;xe=xe.buffer,be=be.buffer;case"[object ArrayBuffer]":return!(xe.byteLength!=be.byteLength||!kr(new I(xe),new I(be)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ot(+xe,+be);case"[object Error]":return xe.name==be.name&&xe.message==be.message;case"[object RegExp]":case"[object String]":return xe==be+"";case a:var dr=C;case e:var gn=2&ze;if(dr||(dr=D),xe.size!=be.size&&!gn)return!1;var us=nr.get(xe);if(us)return us==be;ze|=1,nr.set(xe,be);var Br=mt(dr(xe),dr(be),kr,cs,ze,nr);return nr.delete(xe),Br;case"[object Symbol]":if(ft)return ft.call(xe)==ft.call(be)}return!1}(jt,Rt,ke,me,ue,de,Jt);if(!(2&de)){var _r=Oe&&V.call(jt,"__wrapped__"),Rr=Fe&&V.call(Rt,"__wrapped__");if(_r||Rr){var Pr=_r?jt.value():jt,Lr=Rr?Rt.value():Rt;return Jt||(Jt=new Wt),me(Pr,Lr,ue,de,Jt)}}return Ue?(Jt||(Jt=new Wt),function(xe,be,ur,kr,cs,ze){var nr=2&cs,dr=ge(xe),gn=dr.length,us=ge(be).length;if(gn!=us&&!nr)return!1;for(var Br=gn;Br--;){var fr=dr[Br];if(!(nr?fr in be:V.call(be,fr)))return!1}var Ya=ze.get(xe);if(Ya&&ze.get(be))return Ya==be;var ds=!0;ze.set(xe,be),ze.set(be,xe);for(var Mi=nr;++Br<gn;){fr=dr[Br];var fs=xe[fr],hs=be[fr];if(kr)var Ka=nr?kr(hs,fs,fr,be,xe,ze):kr(fs,hs,fr,xe,be,ze);if(!(Ka===void 0?fs===hs||ur(fs,hs,kr,cs,ze):Ka)){ds=!1;break}Mi||(Mi=fr=="constructor")}if(ds&&!Mi){var ps=xe.constructor,ms=be.constructor;ps==ms||!("constructor"in xe)||!("constructor"in be)||typeof ps=="function"&&ps instanceof ps&&typeof ms=="function"&&ms instanceof ms||(ds=!1)}return ze.delete(xe),ze.delete(be),ds}(jt,Rt,me,ue,de,Jt)):!1}(tt,ut,ae,yt,kt,Xt))}function Vt(tt){return!(!ce(tt)||function(ut){return!!O&&O in ut}(tt))&&(se(tt)||W(tt)?P:f).test(lt(tt))}function le(tt){return typeof tt=="function"?tt:tt==null?Pe:typeof tt=="object"?Kt(tt)?function(kt,Xt){return Et(kt)&&Gt(Xt)?te(nt(kt),Xt):function(jt){var Rt=function(me,ue,de){var Jt=me==null?void 0:Bt(me,ue);return Jt===void 0?de:Jt}(jt,kt);return Rt===void 0&&Rt===Xt?function(me,ue){return me!=null&&function(de,Jt,ve){Jt=Et(Jt,de)?[Jt]:Ct(Jt);for(var we,ke=-1,Ce=Jt.length;++ke<Ce;){var Oe=nt(Jt[ke]);if(!(we=de!=null&&ve(de,Oe)))break;de=de[Oe]}return we||!!(Ce=de?de.length:0)&&re(Ce)&&bt(Oe,Ce)&&(Kt(de)||ee(de))}(me,ue,Qt)}(jt,kt):ae(Xt,Rt,void 0,3)}}(tt[0],tt[1]):function(kt){var Xt=function(jt){for(var Rt=ge(jt),me=Rt.length;me--;){var ue=Rt[me],de=jt[ue];Rt[me]=[ue,de,Gt(de)]}return Rt}(kt);return Xt.length==1&&Xt[0][2]?te(Xt[0][0],Xt[0][1]):function(jt){return jt===kt||function(Rt,me,ue,de){var Jt=ue.length,ve=Jt;if(Rt==null)return!ve;for(Rt=Object(Rt);Jt--;){var we=ue[Jt];if(we[2]?we[1]!==Rt[we[0]]:!(we[0]in Rt))return!1}for(;++Jt<ve;){var ke=(we=ue[Jt])[0],Ce=Rt[ke],Oe=we[1];if(we[2]){if(Ce===void 0&&!(ke in Rt))return!1}else{var Fe=new Wt,Ue;if(!(Ue===void 0?ae(Oe,Ce,de,3,Fe):Ue))return!1}}return!0}(jt,kt,Xt)}}(tt):Et(ut=tt)?(yt=nt(ut),function(kt){return kt==null?void 0:kt[yt]}):function(kt){return function(Xt){return Bt(Xt,kt)}}(ut);var ut,yt}function ne(tt){if(yt=(ut=tt)&&ut.constructor,kt=typeof yt=="function"&&yt.prototype||T,ut!==kt)return X(tt);var ut,yt,kt,Xt=[];for(var jt in Object(tt))V.call(tt,jt)&&jt!="constructor"&&Xt.push(jt);return Xt}function Ct(tt){return Kt(tt)?tt:Mt(tt)}function mt(tt,ut,yt,kt,Xt,jt){var Rt=2&Xt,me=tt.length,ue=ut.length;if(me!=ue&&!(Rt&&ue>me))return!1;var de=jt.get(tt);if(de&&jt.get(ut))return de==ut;var Jt=-1,ve=!0,we=1&Xt?new Lt:void 0;for(jt.set(tt,ut),jt.set(ut,tt);++Jt<me;){var ke=tt[Jt],Ce=ut[Jt];if(kt)var Oe=Rt?kt(Ce,ke,Jt,ut,tt,jt):kt(ke,Ce,Jt,tt,ut,jt);if(Oe!==void 0){if(Oe)continue;ve=!1;break}if(we){if(!$(ut,function(Fe,Ue){if(!we.has(Ue)&&(ke===Fe||yt(ke,Fe,kt,Xt,jt)))return we.add(Ue)})){ve=!1;break}}else if(ke!==Ce&&!yt(ke,Ce,kt,Xt,jt)){ve=!1;break}}return jt.delete(tt),jt.delete(ut),ve}function ht(tt,ut){var yt,kt,Xt=tt.__data__;return((kt=typeof(yt=ut))=="string"||kt=="number"||kt=="symbol"||kt=="boolean"?yt!=="__proto__":yt===null)?Xt[typeof ut=="string"?"string":"hash"]:Xt.map}function Nt(tt,ut){var yt=function(kt,Xt){return kt==null?void 0:kt[Xt]}(tt,ut);return Vt(yt)?yt:void 0}var _t=function(tt){return q.call(tt)};function bt(tt,ut){return!!(ut=ut??9007199254740991)&&(typeof tt=="number"||u.test(tt))&&tt>-1&&tt%1==0&&tt<ut}function Et(tt,ut){if(Kt(tt))return!1;var yt=typeof tt;return!(yt!="number"&&yt!="symbol"&&yt!="boolean"&&tt!=null&&!ie(tt))||c.test(tt)||!r.test(tt)||ut!=null&&tt in Object(ut)}function Gt(tt){return tt==tt&&!ce(tt)}function te(tt,ut){return function(yt){return yt!=null&&yt[tt]===ut&&(ut!==void 0||tt in Object(yt))}}(J&&_t(new J(new ArrayBuffer(1)))!="[object DataView]"||Y&&_t(new Y)!=a||Q&&_t(Q.resolve())!="[object Promise]"||it&&_t(new it)!=e||st&&_t(new st)!="[object WeakMap]")&&(_t=function(tt){var ut=q.call(tt),yt=ut==n?tt.constructor:void 0,kt=yt?lt(yt):void 0;if(kt)switch(kt){case et:return"[object DataView]";case rt:return a;case at:return"[object Promise]";case ot:return e;case ct:return"[object WeakMap]"}return ut});var Mt=Zt(function(tt){var ut;tt=(ut=tt)==null?"":function(kt){if(typeof kt=="string")return kt;if(ie(kt))return gt?gt.call(kt):"";var Xt=kt+"";return Xt=="0"&&1/kt==-1/0?"-0":Xt}(ut);var yt=[];return s.test(tt)&&yt.push(""),tt.replace(o,function(kt,Xt,jt,Rt){yt.push(jt?Rt.replace(d,"$1"):Xt||kt)}),yt});function nt(tt){if(typeof tt=="string"||ie(tt))return tt;var ut=tt+"";return ut=="0"&&1/tt==-1/0?"-0":ut}function lt(tt){if(tt!=null){try{return z.call(tt)}catch{}try{return tt+""}catch{}}return""}var pt,At=(pt=function(tt,ut,yt){V.call(tt,yt)?tt[yt].push(ut):tt[yt]=[ut]},function(tt,ut){var yt=Kt(tt)?F:It,kt={};return yt(tt,pt,le(ut),kt)});function Zt(tt,ut){if(typeof tt!="function"||ut&&typeof ut!="function")throw new TypeError("Expected a function");var yt=function(){var kt=arguments,Xt=ut?ut.apply(this,kt):kt[0],jt=yt.cache;if(jt.has(Xt))return jt.get(Xt);var Rt=tt.apply(this,kt);return yt.cache=jt.set(Xt,Rt),Rt};return yt.cache=new(Zt.Cache||wt),yt}function Ot(tt,ut){return tt===ut||tt!=tt&&ut!=ut}function ee(tt){return function(ut){return Ee(ut)&&Yt(ut)}(tt)&&V.call(tt,"callee")&&(!A.call(tt,"callee")||q.call(tt)==i)}Zt.Cache=wt;var Kt=Array.isArray;function Yt(tt){return tt!=null&&re(tt.length)&&!se(tt)}function se(tt){var ut=ce(tt)?q.call(tt):"";return ut=="[object Function]"||ut=="[object GeneratorFunction]"}function re(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=9007199254740991}function ce(tt){var ut=typeof tt;return!!tt&&(ut=="object"||ut=="function")}function Ee(tt){return!!tt&&typeof tt=="object"}function ie(tt){return typeof tt=="symbol"||Ee(tt)&&q.call(tt)=="[object Symbol]"}var ye=L?function(tt){return function(ut){return tt(ut)}}(L):function(tt){return Ee(tt)&&re(tt.length)&&!!g[q.call(tt)]};function ge(tt){return Yt(tt)?zt(tt):ne(tt)}function Pe(tt){return tt}h.exports=At}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,h,m){var l=Object.prototype.toString;h.exports=function(i){return i===!0||i===!1||function(a){return!!a&&typeof a=="object"}(i)&&l.call(i)=="[object Boolean]"}},{}],445:[function(t,h,m){(function(l){(function(){var i="[object Arguments]",a="[object Map]",n="[object Object]",e="[object Set]",r=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s[i]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s[a]=s["[object Number]"]=s[n]=s["[object RegExp]"]=s[e]=s["[object String]"]=s["[object WeakMap]"]=!1;var o=typeof l=="object"&&l&&l.Object===Object&&l,d=typeof self=="object"&&self&&self.Object===Object&&self,f=o||d||Function("return this")(),u=typeof m=="object"&&m&&!m.nodeType&&m,g=u&&typeof h=="object"&&h&&!h.nodeType&&h,p=g&&g.exports===u,x=p&&o.process,S=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),M=S&&S.isTypedArray;function R(nt,lt){for(var pt=-1,At=nt==null?0:nt.length;++pt<At;)if(lt(nt[pt],pt,nt))return!0;return!1}function B(nt){var lt=-1,pt=Array(nt.size);return nt.forEach(function(At,Zt){pt[++lt]=[Zt,At]}),pt}function N(nt){var lt=-1,pt=Array(nt.size);return nt.forEach(function(At){pt[++lt]=At}),pt}var L,F,$,W=Array.prototype,C=Function.prototype,D=Object.prototype,k=f["__core-js_shared__"],y=C.toString,w=D.hasOwnProperty,v=(L=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",_=D.toString,T=RegExp("^"+y.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=p?f.Buffer:void 0,O=f.Symbol,z=f.Uint8Array,V=D.propertyIsEnumerable,q=W.splice,P=O?O.toStringTag:void 0,G=Object.getOwnPropertySymbols,I=j?j.isBuffer:void 0,A=(F=Object.keys,$=Object,function(nt){return F($(nt))}),H=Qt(f,"DataView"),X=Qt(f,"Map"),J=Qt(f,"Promise"),Y=Qt(f,"Set"),Q=Qt(f,"WeakMap"),it=Qt(Object,"create"),st=ne(H),K=ne(X),et=ne(J),rt=ne(Y),at=ne(Q),ot=O?O.prototype:void 0,ct=ot?ot.valueOf:void 0;function dt(nt){var lt=-1,pt=nt==null?0:nt.length;for(this.clear();++lt<pt;){var At=nt[lt];this.set(At[0],At[1])}}function ft(nt){var lt=-1,pt=nt==null?0:nt.length;for(this.clear();++lt<pt;){var At=nt[lt];this.set(At[0],At[1])}}function gt(nt){var lt=-1,pt=nt==null?0:nt.length;for(this.clear();++lt<pt;){var At=nt[lt];this.set(At[0],At[1])}}function Dt(nt){var lt=-1,pt=nt==null?0:nt.length;for(this.__data__=new gt;++lt<pt;)this.add(nt[lt])}function Tt(nt){var lt=this.__data__=new ft(nt);this.size=lt.size}function wt(nt,lt){var pt=ht(nt),At=!pt&&mt(nt),Zt=!pt&&!At&&Nt(nt),Ot=!pt&&!At&&!Zt&&te(nt),ee=pt||At||Zt||Ot,Kt=ee?function(re,ce){for(var Ee=-1,ie=Array(re);++Ee<re;)ie[Ee]=ce(Ee);return ie}(nt.length,String):[],Yt=Kt.length;for(var se in nt)!w.call(nt,se)||ee&&(se=="length"||Zt&&(se=="offset"||se=="parent")||Ot&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||le(se,Yt))||Kt.push(se);return Kt}function Lt(nt,lt){for(var pt=nt.length;pt--;)if(Ct(nt[pt][0],lt))return pt;return-1}function Wt(nt){return nt==null?nt===void 0?"[object Undefined]":"[object Null]":P&&P in Object(nt)?function(lt){var pt=w.call(lt,P),At=lt[P];try{lt[P]=void 0;var Zt=!0}catch{}var Ot=_.call(lt);return Zt&&(pt?lt[P]=At:delete lt[P]),Ot}(nt):function(lt){return _.call(lt)}(nt)}function zt(nt){return Gt(nt)&&Wt(nt)==i}function Ht(nt,lt,pt,At,Zt){return nt===lt||(nt==null||lt==null||!Gt(nt)&&!Gt(lt)?nt!=nt&&lt!=lt:function(Ot,ee,Kt,Yt,se,re){var ce=ht(Ot),Ee=ht(ee),ie=ce?"[object Array]":Vt(Ot),ye=Ee?"[object Array]":Vt(ee),ge=(ie=ie==i?n:ie)==n,Pe=(ye=ye==i?n:ye)==n,tt=ie==ye;if(tt&&Nt(Ot)){if(!Nt(ee))return!1;ce=!0,ge=!1}if(tt&&!ge)return re||(re=new Tt),ce||te(Ot)?Pt(Ot,ee,Kt,Yt,se,re):function(jt,Rt,me,ue,de,Jt,ve){switch(me){case"[object DataView]":if(jt.byteLength!=Rt.byteLength||jt.byteOffset!=Rt.byteOffset)return!1;jt=jt.buffer,Rt=Rt.buffer;case"[object ArrayBuffer]":return!(jt.byteLength!=Rt.byteLength||!Jt(new z(jt),new z(Rt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ct(+jt,+Rt);case"[object Error]":return jt.name==Rt.name&&jt.message==Rt.message;case"[object RegExp]":case"[object String]":return jt==Rt+"";case a:var we=B;case e:var ke=1&ue;if(we||(we=N),jt.size!=Rt.size&&!ke)return!1;var Ce=ve.get(jt);if(Ce)return Ce==Rt;ue|=2,ve.set(jt,Rt);var Oe=Pt(we(jt),we(Rt),ue,de,Jt,ve);return ve.delete(jt),Oe;case"[object Symbol]":if(ct)return ct.call(jt)==ct.call(Rt)}return!1}(Ot,ee,ie,Kt,Yt,se,re);if(!(1&Kt)){var ut=ge&&w.call(Ot,"__wrapped__"),yt=Pe&&w.call(ee,"__wrapped__");if(ut||yt){var kt=ut?Ot.value():Ot,Xt=yt?ee.value():ee;return re||(re=new Tt),se(kt,Xt,Kt,Yt,re)}}return tt?(re||(re=new Tt),function(jt,Rt,me,ue,de,Jt){var ve=1&me,we=Ft(jt),ke=we.length,Ce=Ft(Rt).length;if(ke!=Ce&&!ve)return!1;for(var Oe=ke;Oe--;){var Fe=we[Oe];if(!(ve?Fe in Rt:w.call(Rt,Fe)))return!1}var Ue=Jt.get(jt);if(Ue&&Jt.get(Rt))return Ue==Rt;var _r=!0;Jt.set(jt,Rt),Jt.set(Rt,jt);for(var Rr=ve;++Oe<ke;){Fe=we[Oe];var Pr=jt[Fe],Lr=Rt[Fe];if(ue)var xe=ve?ue(Lr,Pr,Fe,Rt,jt,Jt):ue(Pr,Lr,Fe,jt,Rt,Jt);if(!(xe===void 0?Pr===Lr||de(Pr,Lr,me,ue,Jt):xe)){_r=!1;break}Rr||(Rr=Fe=="constructor")}if(_r&&!Rr){var be=jt.constructor,ur=Rt.constructor;be==ur||!("constructor"in jt)||!("constructor"in Rt)||typeof be=="function"&&be instanceof be&&typeof ur=="function"&&ur instanceof ur||(_r=!1)}return Jt.delete(jt),Jt.delete(Rt),_r}(Ot,ee,Kt,Yt,se,re)):!1}(nt,lt,pt,At,Ht,Zt))}function It(nt){return!(!Et(nt)||function(lt){return!!v&&v in lt}(nt))&&(_t(nt)?T:r).test(ne(nt))}function St(nt){if(pt=(lt=nt)&&lt.constructor,At=typeof pt=="function"&&pt.prototype||D,lt!==At)return A(nt);var lt,pt,At,Zt=[];for(var Ot in Object(nt))w.call(nt,Ot)&&Ot!="constructor"&&Zt.push(Ot);return Zt}function Pt(nt,lt,pt,At,Zt,Ot){var ee=1&pt,Kt=nt.length,Yt=lt.length;if(Kt!=Yt&&!(ee&&Yt>Kt))return!1;var se=Ot.get(nt);if(se&&Ot.get(lt))return se==lt;var re=-1,ce=!0,Ee=2&pt?new Dt:void 0;for(Ot.set(nt,lt),Ot.set(lt,nt);++re<Kt;){var ie=nt[re],ye=lt[re];if(At)var ge=ee?At(ye,ie,re,lt,nt,Ot):At(ie,ye,re,nt,lt,Ot);if(ge!==void 0){if(ge)continue;ce=!1;break}if(Ee){if(!R(lt,function(Pe,tt){if(ut=tt,!Ee.has(ut)&&(ie===Pe||Zt(ie,Pe,pt,At,Ot)))return Ee.push(tt);var ut})){ce=!1;break}}else if(ie!==ye&&!Zt(ie,ye,pt,At,Ot)){ce=!1;break}}return Ot.delete(nt),Ot.delete(lt),ce}function Ft(nt){return function(lt,pt,At){var Zt=pt(lt);return ht(lt)?Zt:function(Ot,ee){for(var Kt=-1,Yt=ee.length,se=Ot.length;++Kt<Yt;)Ot[se+Kt]=ee[Kt];return Ot}(Zt,At(lt))}(nt,Mt,ae)}function Bt(nt,lt){var pt,At,Zt=nt.__data__;return((At=typeof(pt=lt))=="string"||At=="number"||At=="symbol"||At=="boolean"?pt!=="__proto__":pt===null)?Zt[typeof lt=="string"?"string":"hash"]:Zt.map}function Qt(nt,lt){var pt=function(At,Zt){return At==null?void 0:At[Zt]}(nt,lt);return It(pt)?pt:void 0}dt.prototype.clear=function(){this.__data__=it?it(null):{},this.size=0},dt.prototype.delete=function(nt){var lt=this.has(nt)&&delete this.__data__[nt];return this.size-=lt?1:0,lt},dt.prototype.get=function(nt){var lt=this.__data__;if(it){var pt=lt[nt];return pt==="__lodash_hash_undefined__"?void 0:pt}return w.call(lt,nt)?lt[nt]:void 0},dt.prototype.has=function(nt){var lt=this.__data__;return it?lt[nt]!==void 0:w.call(lt,nt)},dt.prototype.set=function(nt,lt){var pt=this.__data__;return this.size+=this.has(nt)?0:1,pt[nt]=it&&lt===void 0?"__lodash_hash_undefined__":lt,this},ft.prototype.clear=function(){this.__data__=[],this.size=0},ft.prototype.delete=function(nt){var lt=this.__data__,pt=Lt(lt,nt);return!(pt<0)&&(pt==lt.length-1?lt.pop():q.call(lt,pt,1),--this.size,!0)},ft.prototype.get=function(nt){var lt=this.__data__,pt=Lt(lt,nt);return pt<0?void 0:lt[pt][1]},ft.prototype.has=function(nt){return Lt(this.__data__,nt)>-1},ft.prototype.set=function(nt,lt){var pt=this.__data__,At=Lt(pt,nt);return At<0?(++this.size,pt.push([nt,lt])):pt[At][1]=lt,this},gt.prototype.clear=function(){this.size=0,this.__data__={hash:new dt,map:new(X||ft),string:new dt}},gt.prototype.delete=function(nt){var lt=Bt(this,nt).delete(nt);return this.size-=lt?1:0,lt},gt.prototype.get=function(nt){return Bt(this,nt).get(nt)},gt.prototype.has=function(nt){return Bt(this,nt).has(nt)},gt.prototype.set=function(nt,lt){var pt=Bt(this,nt),At=pt.size;return pt.set(nt,lt),this.size+=pt.size==At?0:1,this},Dt.prototype.add=Dt.prototype.push=function(nt){return this.__data__.set(nt,"__lodash_hash_undefined__"),this},Dt.prototype.has=function(nt){return this.__data__.has(nt)},Tt.prototype.clear=function(){this.__data__=new ft,this.size=0},Tt.prototype.delete=function(nt){var lt=this.__data__,pt=lt.delete(nt);return this.size=lt.size,pt},Tt.prototype.get=function(nt){return this.__data__.get(nt)},Tt.prototype.has=function(nt){return this.__data__.has(nt)},Tt.prototype.set=function(nt,lt){var pt=this.__data__;if(pt instanceof ft){var At=pt.__data__;if(!X||At.length<199)return At.push([nt,lt]),this.size=++pt.size,this;pt=this.__data__=new gt(At)}return pt.set(nt,lt),this.size=pt.size,this};var ae=G?function(nt){return nt==null?[]:(nt=Object(nt),function(lt,pt){for(var At=-1,Zt=lt==null?0:lt.length,Ot=0,ee=[];++At<Zt;){var Kt=lt[At];pt(Kt,At,lt)&&(ee[Ot++]=Kt)}return ee}(G(nt),function(lt){return V.call(nt,lt)}))}:function(){return[]},Vt=Wt;function le(nt,lt){return!!(lt=lt??9007199254740991)&&(typeof nt=="number"||c.test(nt))&&nt>-1&&nt%1==0&&nt<lt}function ne(nt){if(nt!=null){try{return y.call(nt)}catch{}try{return nt+""}catch{}}return""}function Ct(nt,lt){return nt===lt||nt!=nt&&lt!=lt}(H&&Vt(new H(new ArrayBuffer(1)))!="[object DataView]"||X&&Vt(new X)!=a||J&&Vt(J.resolve())!="[object Promise]"||Y&&Vt(new Y)!=e||Q&&Vt(new Q)!="[object WeakMap]")&&(Vt=function(nt){var lt=Wt(nt),pt=lt==n?nt.constructor:void 0,At=pt?ne(pt):"";if(At)switch(At){case st:return"[object DataView]";case K:return a;case et:return"[object Promise]";case rt:return e;case at:return"[object WeakMap]"}return lt});var mt=zt(function(){return arguments}())?zt:function(nt){return Gt(nt)&&w.call(nt,"callee")&&!V.call(nt,"callee")},ht=Array.isArray,Nt=I||function(){return!1};function _t(nt){if(!Et(nt))return!1;var lt=Wt(nt);return lt=="[object Function]"||lt=="[object GeneratorFunction]"||lt=="[object AsyncFunction]"||lt=="[object Proxy]"}function bt(nt){return typeof nt=="number"&&nt>-1&&nt%1==0&&nt<=9007199254740991}function Et(nt){var lt=typeof nt;return nt!=null&&(lt=="object"||lt=="function")}function Gt(nt){return nt!=null&&typeof nt=="object"}var te=M?function(nt){return function(lt){return nt(lt)}}(M):function(nt){return Gt(nt)&&bt(nt.length)&&!!s[Wt(nt)]};function Mt(nt){return(lt=nt)!=null&&bt(lt.length)&&!_t(lt)?wt(nt):St(nt);var lt}h.exports=function(nt,lt){return Ht(nt,lt)}}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,h,m){(function(l){(function(){var i=typeof l=="object"&&l&&l.Object===Object&&l,a=typeof self=="object"&&self&&self.Object===Object&&self,n=i||a||Function("return this")(),e=Object.prototype,r=e.hasOwnProperty,c=e.toString,s=n.Symbol,o=s?s.toStringTag:void 0;function d(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":o&&o in Object(f)?function(u){var g=r.call(u,o),p=u[o];try{u[o]=void 0;var x=!0}catch{}var S=c.call(u);return x&&(g?u[o]=p:delete u[o]),S}(f):function(u){return c.call(u)}(f)}h.exports=function(f){if(!function(g){var p=typeof g;return g!=null&&(p=="object"||p=="function")}(f))return!1;var u=d(f);return u=="[object Function]"||u=="[object GeneratorFunction]"||u=="[object AsyncFunction]"||u=="[object Proxy]"}}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,h,m){h.exports=function(l){return l==null}},{}],448:[function(t,h,m){h.exports=function(l){return l===void 0}},{}],449:[function(t,h,m){(function(l){(function(){var i=/^\[object .+?Constructor\]$/,a=typeof l=="object"&&l&&l.Object===Object&&l,n=typeof self=="object"&&self&&self.Object===Object&&self,e=a||n||Function("return this")();function r(O,z){return!!(O&&O.length)&&function(V,q,P){if(q!=q)return function(A,H,X,J){for(var Y=A.length,Q=X+-1;++Q<Y;)if(H(A[Q],Q,A))return Q;return-1}(V,c,P);for(var G=P-1,I=V.length;++G<I;)if(V[G]===q)return G;return-1}(O,z,0)>-1}function c(O){return O!=O}function s(O,z){return O.has(z)}function o(O){var z=-1,V=Array(O.size);return O.forEach(function(q){V[++z]=q}),V}var d,f=Array.prototype,u=Function.prototype,g=Object.prototype,p=e["__core-js_shared__"],x=(d=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",S=u.toString,M=g.hasOwnProperty,R=g.toString,B=RegExp("^"+S.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=f.splice,L=T(e,"Map"),F=T(e,"Set"),$=T(Object,"create");function W(O){var z=-1,V=O?O.length:0;for(this.clear();++z<V;){var q=O[z];this.set(q[0],q[1])}}function C(O){var z=-1,V=O?O.length:0;for(this.clear();++z<V;){var q=O[z];this.set(q[0],q[1])}}function D(O){var z=-1,V=O?O.length:0;for(this.clear();++z<V;){var q=O[z];this.set(q[0],q[1])}}function k(O){var z=-1,V=O?O.length:0;for(this.__data__=new D;++z<V;)this.add(O[z])}function y(O,z){for(var V,q,P=O.length;P--;)if((V=O[P][0])===(q=z)||V!=V&&q!=q)return P;return-1}function w(O){return!(!j(O)||(z=O,x&&x in z))&&(function(V){var q=j(V)?R.call(V):"";return q=="[object Function]"||q=="[object GeneratorFunction]"}(O)||function(V){var q=!1;if(V!=null&&typeof V.toString!="function")try{q=!!(V+"")}catch{}return q}(O)?B:i).test(function(V){if(V!=null){try{return S.call(V)}catch{}try{return V+""}catch{}}return""}(O));var z}W.prototype.clear=function(){this.__data__=$?$(null):{}},W.prototype.delete=function(O){return this.has(O)&&delete this.__data__[O]},W.prototype.get=function(O){var z=this.__data__;if($){var V=z[O];return V==="__lodash_hash_undefined__"?void 0:V}return M.call(z,O)?z[O]:void 0},W.prototype.has=function(O){var z=this.__data__;return $?z[O]!==void 0:M.call(z,O)},W.prototype.set=function(O,z){return this.__data__[O]=$&&z===void 0?"__lodash_hash_undefined__":z,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(O){var z=this.__data__,V=y(z,O);return!(V<0)&&(V==z.length-1?z.pop():N.call(z,V,1),!0)},C.prototype.get=function(O){var z=this.__data__,V=y(z,O);return V<0?void 0:z[V][1]},C.prototype.has=function(O){return y(this.__data__,O)>-1},C.prototype.set=function(O,z){var V=this.__data__,q=y(V,O);return q<0?V.push([O,z]):V[q][1]=z,this},D.prototype.clear=function(){this.__data__={hash:new W,map:new(L||C),string:new W}},D.prototype.delete=function(O){return _(this,O).delete(O)},D.prototype.get=function(O){return _(this,O).get(O)},D.prototype.has=function(O){return _(this,O).has(O)},D.prototype.set=function(O,z){return _(this,O).set(O,z),this},k.prototype.add=k.prototype.push=function(O){return this.__data__.set(O,"__lodash_hash_undefined__"),this},k.prototype.has=function(O){return this.__data__.has(O)};var v=F&&1/o(new F([,-0]))[1]==1/0?function(O){return new F(O)}:function(){};function _(O,z){var V,q,P=O.__data__;return((q=typeof(V=z))=="string"||q=="number"||q=="symbol"||q=="boolean"?V!=="__proto__":V===null)?P[typeof z=="string"?"string":"hash"]:P.map}function T(O,z){var V=function(q,P){return q==null?void 0:q[P]}(O,z);return w(V)?V:void 0}function j(O){var z=typeof O;return!!O&&(z=="object"||z=="function")}h.exports=function(O){return O&&O.length?function(z,V,q){var P=-1,G=r,I=z.length,A=!0,H=[],X=H;if(I>=200){var J=v(z);if(J)return o(J);A=!1,G=s,X=new k}else X=H;t:for(;++P<I;){var Y=z[P],Q=Y;if(Y=Y!==0?Y:0,A&&Q==Q){for(var it=X.length;it--;)if(X[it]===Q)continue t;H.push(Y)}else G(X,Q,q)||(X!==H&&X.push(Q),H.push(Y))}return H}(O):[]}}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,h,m){var l=t("inherits"),i=t("hash-base"),a=t("safe-buffer").Buffer,n=new Array(16);function e(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function r(f,u){return f<<u|f>>>32-u}function c(f,u,g,p,x,S,M){return r(f+(u&g|~u&p)+x+S|0,M)+u|0}function s(f,u,g,p,x,S,M){return r(f+(u&p|g&~p)+x+S|0,M)+u|0}function o(f,u,g,p,x,S,M){return r(f+(u^g^p)+x+S|0,M)+u|0}function d(f,u,g,p,x,S,M){return r(f+(g^(u|~p))+x+S|0,M)+u|0}l(e,i),e.prototype._update=function(){for(var f=n,u=0;u<16;++u)f[u]=this._block.readInt32LE(4*u);var g=this._a,p=this._b,x=this._c,S=this._d;g=c(g,p,x,S,f[0],3614090360,7),S=c(S,g,p,x,f[1],3905402710,12),x=c(x,S,g,p,f[2],606105819,17),p=c(p,x,S,g,f[3],3250441966,22),g=c(g,p,x,S,f[4],4118548399,7),S=c(S,g,p,x,f[5],1200080426,12),x=c(x,S,g,p,f[6],2821735955,17),p=c(p,x,S,g,f[7],4249261313,22),g=c(g,p,x,S,f[8],1770035416,7),S=c(S,g,p,x,f[9],2336552879,12),x=c(x,S,g,p,f[10],4294925233,17),p=c(p,x,S,g,f[11],2304563134,22),g=c(g,p,x,S,f[12],1804603682,7),S=c(S,g,p,x,f[13],4254626195,12),x=c(x,S,g,p,f[14],2792965006,17),g=s(g,p=c(p,x,S,g,f[15],1236535329,22),x,S,f[1],4129170786,5),S=s(S,g,p,x,f[6],3225465664,9),x=s(x,S,g,p,f[11],643717713,14),p=s(p,x,S,g,f[0],3921069994,20),g=s(g,p,x,S,f[5],3593408605,5),S=s(S,g,p,x,f[10],38016083,9),x=s(x,S,g,p,f[15],3634488961,14),p=s(p,x,S,g,f[4],3889429448,20),g=s(g,p,x,S,f[9],568446438,5),S=s(S,g,p,x,f[14],3275163606,9),x=s(x,S,g,p,f[3],4107603335,14),p=s(p,x,S,g,f[8],1163531501,20),g=s(g,p,x,S,f[13],2850285829,5),S=s(S,g,p,x,f[2],4243563512,9),x=s(x,S,g,p,f[7],1735328473,14),g=o(g,p=s(p,x,S,g,f[12],2368359562,20),x,S,f[5],4294588738,4),S=o(S,g,p,x,f[8],2272392833,11),x=o(x,S,g,p,f[11],1839030562,16),p=o(p,x,S,g,f[14],4259657740,23),g=o(g,p,x,S,f[1],2763975236,4),S=o(S,g,p,x,f[4],1272893353,11),x=o(x,S,g,p,f[7],4139469664,16),p=o(p,x,S,g,f[10],3200236656,23),g=o(g,p,x,S,f[13],681279174,4),S=o(S,g,p,x,f[0],3936430074,11),x=o(x,S,g,p,f[3],3572445317,16),p=o(p,x,S,g,f[6],76029189,23),g=o(g,p,x,S,f[9],3654602809,4),S=o(S,g,p,x,f[12],3873151461,11),x=o(x,S,g,p,f[15],530742520,16),g=d(g,p=o(p,x,S,g,f[2],3299628645,23),x,S,f[0],4096336452,6),S=d(S,g,p,x,f[7],1126891415,10),x=d(x,S,g,p,f[14],2878612391,15),p=d(p,x,S,g,f[5],4237533241,21),g=d(g,p,x,S,f[12],1700485571,6),S=d(S,g,p,x,f[3],2399980690,10),x=d(x,S,g,p,f[10],4293915773,15),p=d(p,x,S,g,f[1],2240044497,21),g=d(g,p,x,S,f[8],1873313359,6),S=d(S,g,p,x,f[15],4264355552,10),x=d(x,S,g,p,f[6],2734768916,15),p=d(p,x,S,g,f[13],1309151649,21),g=d(g,p,x,S,f[4],4149444226,6),S=d(S,g,p,x,f[11],3174756917,10),x=d(x,S,g,p,f[2],718787259,15),p=d(p,x,S,g,f[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+p|0,this._c=this._c+x|0,this._d=this._d+S|0},e.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=a.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f},h.exports=e},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,h,m){var l=t("bn.js"),i=t("brorand");function a(n){this.rand=n||new i.Rand}h.exports=a,a.create=function(n){return new a(n)},a.prototype._randbelow=function(n){var e=n.bitLength(),r=Math.ceil(e/8);do var c=new l(this.rand.generate(r));while(c.cmp(n)>=0);return c},a.prototype._randrange=function(n,e){var r=e.sub(n);return n.add(this._randbelow(r))},a.prototype.test=function(n,e,r){var c=n.bitLength(),s=l.mont(n),o=new l(1).toRed(s);e||(e=Math.max(1,c/48|0));for(var d=n.subn(1),f=0;!d.testn(f);f++);for(var u=n.shrn(f),g=d.toRed(s);e>0;e--){var p=this._randrange(new l(2),d);r&&r(p);var x=p.toRed(s).redPow(u);if(x.cmp(o)!==0&&x.cmp(g)!==0){for(var S=1;S<f;S++){if((x=x.redSqr()).cmp(o)===0)return!1;if(x.cmp(g)===0)break}if(S===f)return!1}}return!0},a.prototype.getDivisor=function(n,e){var r=n.bitLength(),c=l.mont(n),s=new l(1).toRed(c);e||(e=Math.max(1,r/48|0));for(var o=n.subn(1),d=0;!o.testn(d);d++);for(var f=n.shrn(d),u=o.toRed(c);e>0;e--){var g=this._randrange(new l(2),o),p=n.gcd(g);if(p.cmpn(1)!==0)return p;var x=g.toRed(c).redPow(f);if(x.cmp(s)!==0&&x.cmp(u)!==0){for(var S=1;S<d;S++){if((x=x.redSqr()).cmp(s)===0)return x.fromRed().subn(1).gcd(n);if(x.cmp(u)===0)break}if(S===d)return(x=x.redSqr()).fromRed().subn(1).gcd(n)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],453:[function(t,h,m){function l(i,a){if(!i)throw new Error(a||"Assertion failed")}h.exports=l,l.equal=function(i,a,n){if(i!=a)throw new Error(n||"Assertion failed: "+i+" != "+a)}},{}],454:[function(t,h,m){var l=m;function i(n){return n.length===1?"0"+n:n}function a(n){for(var e="",r=0;r<n.length;r++)e+=i(n[r].toString(16));return e}l.toArray=function(n,e){if(Array.isArray(n))return n.slice();if(!n)return[];var r=[];if(typeof n!="string"){for(var c=0;c<n.length;c++)r[c]=0|n[c];return r}if(e==="hex")for((n=n.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(n="0"+n),c=0;c<n.length;c+=2)r.push(parseInt(n[c]+n[c+1],16));else for(c=0;c<n.length;c++){var s=n.charCodeAt(c),o=s>>8,d=255&s;o?r.push(o,d):r.push(d)}return r},l.zero2=i,l.toHex=a,l.encode=function(n,e){return e==="hex"?a(n):n}},{}],455:[function(t,h,m){h.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,h,m){var l=t("asn1.js");m.certificate=t("./certificate");var i=l.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});m.RSAPrivateKey=i;var a=l.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});m.RSAPublicKey=a;var n=l.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(e),this.key("subjectPublicKey").bitstr())});m.PublicKey=n;var e=l.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),r=l.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("subjectPrivateKey").octstr())});m.PrivateKey=r;var c=l.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});m.EncryptedPrivateKey=c;var s=l.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});m.DSAPrivateKey=s,m.DSAparam=l.define("DSAparam",function(){this.int()});var o=l.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});m.ECPrivateKey=o;var d=l.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});m.signature=l.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,h,m){var l=t("asn1.js"),i=l.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=l.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),n=l.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),e=l.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}),r=l.define("RelativeDistinguishedName",function(){this.setof(a)}),c=l.define("RDNSequence",function(){this.seqof(r)}),s=l.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),o=l.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),d=l.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=l.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(s),this.key("validity").use(o),this.key("subject").use(s),this.key("subjectPublicKeyInfo").use(e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),u=l.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())});h.exports=u},{"asn1.js":170}],458:[function(t,h,m){var l=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=t("evp_bytestokey"),e=t("browserify-aes"),r=t("safe-buffer").Buffer;h.exports=function(c,s){var o,d=c.toString(),f=d.match(l);if(f){var u="aes"+f[1],g=r.from(f[2],"hex"),p=r.from(f[3].replace(/[\r\n]/g,""),"base64"),x=n(s,g.slice(0,8),parseInt(f[1],10)).key,S=[],M=e.createDecipheriv(u,x,g);S.push(M.update(p)),S.push(M.final()),o=r.concat(S)}else{var R=d.match(a);o=r.from(R[2].replace(/[\r\n]/g,""),"base64")}return{tag:d.match(i)[1],data:o}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,h,m){var l=t("./asn1"),i=t("./aesid.json"),a=t("./fixProc"),n=t("browserify-aes"),e=t("pbkdf2"),r=t("safe-buffer").Buffer;function c(s){var o;typeof s!="object"||r.isBuffer(s)||(o=s.passphrase,s=s.key),typeof s=="string"&&(s=r.from(s));var d,f,u=a(s,o),g=u.tag,p=u.data;switch(g){case"CERTIFICATE":f=l.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=l.PublicKey.decode(p,"der")),d=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return l.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=l.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+d)}case"ENCRYPTED PRIVATE KEY":p=function(x,S){var M=x.algorithm.decrypt.kde.kdeparams.salt,R=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),B=i[x.algorithm.decrypt.cipher.algo.join(".")],N=x.algorithm.decrypt.cipher.iv,L=x.subjectPrivateKey,F=parseInt(B.split("-")[1],10)/8,$=e.pbkdf2Sync(S,M,R,F,"sha1"),W=n.createDecipheriv(B,$,N),C=[];return C.push(W.update(L)),C.push(W.final()),r.concat(C)}(p=l.EncryptedPrivateKey.decode(p,"der"),o);case"PRIVATE KEY":switch(d=(f=l.PrivateKey.decode(p,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return l.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:l.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=l.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+d)}case"RSA PUBLIC KEY":return l.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return l.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:l.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return{curve:(p=l.ECPrivateKey.decode(p,"der")).parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+g)}}h.exports=c,c.signature=l.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,h,m){m.pbkdf2=t("./lib/async"),m.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,h,m){(function(l){(function(){var i,a,n=t("safe-buffer").Buffer,e=t("./precondition"),r=t("./default-encoding"),c=t("./sync"),s=t("./to-buffer"),o=l.crypto&&l.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function u(){return a||(a=l.process&&l.process.nextTick?l.process.nextTick:l.queueMicrotask?l.queueMicrotask:l.setImmediate?l.setImmediate:l.setTimeout)}function g(p,x,S,M,R){return o.importKey("raw",p,{name:"PBKDF2"},!1,["deriveBits"]).then(function(B){return o.deriveBits({name:"PBKDF2",salt:x,iterations:S,hash:{name:R}},B,M<<3)}).then(function(B){return n.from(B)})}h.exports=function(p,x,S,M,R,B){typeof R=="function"&&(B=R,R=void 0);var N=d[(R=R||"sha1").toLowerCase()];if(N&&typeof l.Promise=="function"){if(e(S,M),p=s(p,r,"Password"),x=s(x,r,"Salt"),typeof B!="function")throw new Error("No callback provided to pbkdf2");(function(L,F){L.then(function($){u()(function(){F(null,$)})},function($){u()(function(){F($)})})})(function(L){if(l.process&&!l.process.browser||!o||!o.importKey||!o.deriveBits)return Promise.resolve(!1);if(f[L]!==void 0)return f[L];var F=g(i=i||n.alloc(8),i,10,128,L).then(function(){return!0}).catch(function(){return!1});return f[L]=F,F}(N).then(function(L){return L?g(p,x,S,M,N):c(p,x,S,M,R)}),B)}else u()(function(){var L;try{L=c(p,x,S,M,R)}catch(F){return B(F)}B(null,L)})}}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,h,m){(function(l,i){(function(){var a;i.process&&i.process.browser?a="utf-8":i.process&&i.process.version?a=parseInt(l.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",h.exports=a}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,h,m){var l=Math.pow(2,30)-1;h.exports=function(i,a){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>l||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(t,h,m){var l=t("create-hash/md5"),i=t("ripemd160"),a=t("sha.js"),n=t("safe-buffer").Buffer,e=t("./precondition"),r=t("./default-encoding"),c=t("./to-buffer"),s=n.alloc(128),o={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(f,u,g){var p=function(N){function L(F){return a(N).update(F).digest()}return N==="rmd160"||N==="ripemd160"?function(F){return new i().update(F).digest()}:N==="md5"?l:L}(f),x=f==="sha512"||f==="sha384"?128:64;u.length>x?u=p(u):u.length<x&&(u=n.concat([u,s],x));for(var S=n.allocUnsafe(x+o[f]),M=n.allocUnsafe(x+o[f]),R=0;R<x;R++)S[R]=54^u[R],M[R]=92^u[R];var B=n.allocUnsafe(x+g+4);S.copy(B,0,0,x),this.ipad1=B,this.ipad2=S,this.opad=M,this.alg=f,this.blocksize=x,this.hash=p,this.size=o[f]}d.prototype.run=function(f,u){return f.copy(u,this.blocksize),this.hash(u).copy(this.opad,this.blocksize),this.hash(this.opad)},h.exports=function(f,u,g,p,x){e(g,p);var S=new d(x=x||"sha1",f=c(f,r,"Password"),(u=c(u,r,"Salt")).length),M=n.allocUnsafe(p),R=n.allocUnsafe(u.length+4);u.copy(R,0,0,u.length);for(var B=0,N=o[x],L=Math.ceil(p/N),F=1;F<=L;F++){R.writeUInt32BE(F,u.length);for(var $=S.run(R,S.ipad1),W=$,C=1;C<g;C++){W=S.run(W,S.ipad2);for(var D=0;D<N;D++)$[D]^=W[D]}$.copy(M,B),B+=N}return M}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,h,m){var l=t("safe-buffer").Buffer;h.exports=function(i,a,n){if(l.isBuffer(i))return i;if(typeof i=="string")return l.from(i,a);if(ArrayBuffer.isView(i))return l.from(i.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,h,m){(function(l){(function(){l===void 0||!l.version||l.version.indexOf("v0.")===0||l.version.indexOf("v1.")===0&&l.version.indexOf("v1.8.")!==0?h.exports={nextTick:function(i,a,n,e){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var r,c,s=arguments.length;switch(s){case 0:case 1:return l.nextTick(i);case 2:return l.nextTick(function(){i.call(null,a)});case 3:return l.nextTick(function(){i.call(null,a,n)});case 4:return l.nextTick(function(){i.call(null,a,n,e)});default:for(r=new Array(s-1),c=0;c<r.length;)r[c++]=arguments[c];return l.nextTick(function(){i.apply(null,r)})}}}:h.exports=l}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,h,m){var l,i,a=h.exports={};function n(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function r(x){if(l===setTimeout)return setTimeout(x,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(x,0);try{return l(x,0)}catch{try{return l.call(null,x,0)}catch{return l.call(this,x,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:n}catch{l=n}try{i=typeof clearTimeout=="function"?clearTimeout:e}catch{i=e}})();var c,s=[],o=!1,d=-1;function f(){o&&c&&(o=!1,c.length?s=c.concat(s):d=-1,s.length&&u())}function u(){if(!o){var x=r(f);o=!0;for(var S=s.length;S;){for(c=s,s=[];++d<S;)c&&c[d].run();d=-1,S=s.length}c=null,o=!1,function(M){if(i===clearTimeout)return clearTimeout(M);if((i===e||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(M);try{i(M)}catch{try{return i.call(null,M)}catch{return i.call(this,M)}}}(x)}}function g(x,S){this.fun=x,this.array=S}function p(){}a.nextTick=function(x){var S=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)S[M-1]=arguments[M];s.push(new g(x,S)),s.length!==1||o||r(u)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(x){return[]},a.binding=function(x){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(x){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(t,h,m){m.publicEncrypt=t("./publicEncrypt"),m.privateDecrypt=t("./privateDecrypt"),m.privateEncrypt=function(l,i){return m.publicEncrypt(l,i,!0)},m.publicDecrypt=function(l,i){return m.privateDecrypt(l,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,h,m){var l=t("create-hash"),i=t("safe-buffer").Buffer;function a(n){var e=i.allocUnsafe(4);return e.writeUInt32BE(n,0),e}h.exports=function(n,e){for(var r,c=i.alloc(0),s=0;c.length<e;)r=a(s++),c=i.concat([c,l("sha1").update(n).update(r).digest()]);return c.slice(0,e)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,h,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],471:[function(t,h,m){var l=t("parse-asn1"),i=t("./mgf"),a=t("./xor"),n=t("bn.js"),e=t("browserify-rsa"),r=t("create-hash"),c=t("./withPublic"),s=t("safe-buffer").Buffer;h.exports=function(o,d,f){var u;u=o.padding?o.padding:f?1:4;var g,p=l(o),x=p.modulus.byteLength();if(d.length>x||new n(d).cmp(p.modulus)>=0)throw new Error("decryption error");g=f?c(new n(d),p):e(d,p);var S=s.alloc(x-g.length);if(g=s.concat([S,g],x),u===4)return function(M,R){var B=M.modulus.byteLength(),N=r("sha1").update(s.alloc(0)).digest(),L=N.length;if(R[0]!==0)throw new Error("decryption error");var F=R.slice(1,L+1),$=R.slice(L+1),W=a(F,i($,L)),C=a($,i(W,B-L-1));if(function(k,y){k=s.from(k),y=s.from(y);var w=0,v=k.length;k.length!==y.length&&(w++,v=Math.min(k.length,y.length));for(var _=-1;++_<v;)w+=k[_]^y[_];return w}(N,C.slice(0,L)))throw new Error("decryption error");for(var D=L;C[D]===0;)D++;if(C[D++]!==1)throw new Error("decryption error");return C.slice(D)}(p,g);if(u===1)return function(M,R,B){for(var N=R.slice(0,2),L=2,F=0;R[L++]!==0;)if(L>=R.length){F++;break}var $=R.slice(2,L-1);if((N.toString("hex")!=="0002"&&!B||N.toString("hex")!=="0001"&&B)&&F++,$.length<8&&F++,F)throw new Error("decryption error");return R.slice(L)}(0,g,f);if(u===3)return g;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,h,m){var l=t("parse-asn1"),i=t("randombytes"),a=t("create-hash"),n=t("./mgf"),e=t("./xor"),r=t("bn.js"),c=t("./withPublic"),s=t("browserify-rsa"),o=t("safe-buffer").Buffer;h.exports=function(d,f,u){var g;g=d.padding?d.padding:u?1:4;var p,x=l(d);if(g===4)p=function(S,M){var R=S.modulus.byteLength(),B=M.length,N=a("sha1").update(o.alloc(0)).digest(),L=N.length,F=2*L;if(B>R-F-2)throw new Error("message too long");var $=o.alloc(R-B-F-2),W=R-L-1,C=i(L),D=e(o.concat([N,$,o.alloc(1,1),M],W),n(C,W)),k=e(C,n(D,L));return new r(o.concat([o.alloc(1),k,D],R))}(x,f);else if(g===1)p=function(S,M,R){var B,N=M.length,L=S.modulus.byteLength();if(N>L-11)throw new Error("message too long");return B=R?o.alloc(L-N-3,255):function(F){for(var $,W=o.allocUnsafe(F),C=0,D=i(2*F),k=0;C<F;)k===D.length&&(D=i(2*F),k=0),($=D[k++])&&(W[C++]=$);return W}(L-N-3),new r(o.concat([o.from([0,R?1:2]),B,o.alloc(1),M],L))}(x,f,u);else{if(g!==3)throw new Error("unknown padding");if((p=new r(f)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return u?s(p,x):c(p,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,h,m){var l=t("bn.js"),i=t("safe-buffer").Buffer;h.exports=function(a,n){return i.from(a.toRed(l.mont(n.modulus)).redPow(new l(n.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,h,m){h.exports=function(l,i){for(var a=l.length,n=-1;++n<a;)l[n]^=i[n];return l}},{}],475:[function(t,h,m){(function(l,i){(function(){var a=t("safe-buffer").Buffer,n=i.crypto||i.msCrypto;n&&n.getRandomValues?h.exports=function(e,r){if(e>4294967295)throw new RangeError("requested too many random bytes");var c=a.allocUnsafe(e);if(e>0)if(e>65536)for(var s=0;s<e;s+=65536)n.getRandomValues(c.slice(s,s+65536));else n.getRandomValues(c);return typeof r=="function"?l.nextTick(function(){r(null,c)}):c}:h.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,h,m){(function(l,i){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var n=t("safe-buffer"),e=t("randombytes"),r=n.Buffer,c=n.kMaxLength,s=i.crypto||i.msCrypto,o=Math.pow(2,32)-1;function d(g,p){if(typeof g!="number"||g!=g)throw new TypeError("offset must be a number");if(g>o||g<0)throw new TypeError("offset must be a uint32");if(g>c||g>p)throw new RangeError("offset out of range")}function f(g,p,x){if(typeof g!="number"||g!=g)throw new TypeError("size must be a number");if(g>o||g<0)throw new TypeError("size must be a uint32");if(g+p>x||g>c)throw new RangeError("buffer too small")}function u(g,p,x,S){if(l.browser){var M=g.buffer,R=new Uint8Array(M,p,x);return s.getRandomValues(R),S?void l.nextTick(function(){S(null,g)}):g}if(!S)return e(x).copy(g,p),g;e(x,function(B,N){if(B)return S(B);N.copy(g,p),S(null,g)})}s&&s.getRandomValues||!l.browser?(m.randomFill=function(g,p,x,S){if(!(r.isBuffer(g)||g instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")S=p,p=0,x=g.length;else if(typeof x=="function")S=x,x=g.length-p;else if(typeof S!="function")throw new TypeError('"cb" argument must be a function');return d(p,g.length),f(x,p,g.length),u(g,p,x,S)},m.randomFillSync=function(g,p,x){if(p===void 0&&(p=0),!(r.isBuffer(g)||g instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(p,g.length),x===void 0&&(x=g.length-p),f(x,p,g.length),u(g,p,x)}):(m.randomFill=a,m.randomFillSync=a)}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,h,m){var l={};function i(n,e,r){r||(r=Error);var c=function(s){var o,d;function f(u,g,p){return s.call(this,function(x,S,M){return typeof e=="string"?e:e(x,S,M)}(u,g,p))||this}return d=s,(o=f).prototype=Object.create(d.prototype),o.prototype.constructor=o,o.__proto__=d,f}(r);c.prototype.name=r.name,c.prototype.code=n,l[n]=c}function a(n,e){if(Array.isArray(n)){var r=n.length;return n=n.map(function(c){return String(c)}),r>2?"one of ".concat(e," ").concat(n.slice(0,r-1).join(", "),", or ")+n[r-1]:r===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}return"of ".concat(e," ").concat(String(n))}i("ERR_INVALID_OPT_VALUE",function(n,e){return'The value "'+e+'" is invalid for option "'+n+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(n,e,r){var c,s,o;if(typeof e=="string"&&(s="not ",e.substr(0,s.length)===s)?(c="must not be",e=e.replace(/^not /,"")):c="must be",function(f,u,g){return(g===void 0||g>f.length)&&(g=f.length),f.substring(g-u.length,g)===u}(n," argument"))o="The ".concat(n," ").concat(c," ").concat(a(e,"type"));else{var d=function(f,u,g){return typeof g!="number"&&(g=0),!(g+u.length>f.length)&&f.indexOf(u,g)!==-1}(n,".")?"property":"argument";o='The "'.concat(n,'" ').concat(d," ").concat(c," ").concat(a(e,"type"))}return o+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),h.exports.codes=l},{}],478:[function(t,h,m){(function(l){(function(){var i=Object.keys||function(f){var u=[];for(var g in f)u.push(g);return u};h.exports=s;var a=t("./_stream_readable"),n=t("./_stream_writable");t("inherits")(s,a);for(var e=i(n.prototype),r=0;r<e.length;r++){var c=e[r];s.prototype[c]||(s.prototype[c]=n.prototype[c])}function s(f){if(!(this instanceof s))return new s(f);a.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}function o(){this._writableState.ended||l.nextTick(d,this)}function d(f){f.end()}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,h,m){h.exports=i;var l=t("./_stream_transform");function i(a){if(!(this instanceof i))return new i(a);l.call(this,a)}t("inherits")(i,l),i.prototype._transform=function(a,n,e){e(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(t,h,m){(function(l,i){(function(){var a;h.exports=W,W.ReadableState=$,t("events").EventEmitter;var n=function(I,A){return I.listeners(A).length},e=t("./internal/streams/stream"),r=t("buffer").Buffer,c=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},s,o=t("util");s=o&&o.debuglog?o.debuglog("stream"):function(){};var d,f,u,g=t("./internal/streams/buffer_list"),p=t("./internal/streams/destroy"),x=t("./internal/streams/state").getHighWaterMark,S=t("../errors").codes,M=S.ERR_INVALID_ARG_TYPE,R=S.ERR_STREAM_PUSH_AFTER_EOF,B=S.ERR_METHOD_NOT_IMPLEMENTED,N=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(W,e);var L=p.errorOrDestroy,F=["error","close","destroy","pause","resume"];function $(I,A,H){a=a||t("./_stream_duplex"),I=I||{},typeof H!="boolean"&&(H=A instanceof a),this.objectMode=!!I.objectMode,H&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=x(this,I,"readableHighWaterMark",H),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(d||(d=t("string_decoder/").StringDecoder),this.decoder=new d(I.encoding),this.encoding=I.encoding)}function W(I){if(a=a||t("./_stream_duplex"),!(this instanceof W))return new W(I);var A=this instanceof a;this._readableState=new $(I,this,A),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),e.call(this)}function C(I,A,H,X,J){s("readableAddChunk",A);var Y,Q=I._readableState;if(A===null)Q.reading=!1,function(it,st){if(s("onEofChunk"),!st.ended){if(st.decoder){var K=st.decoder.end();K&&K.length&&(st.buffer.push(K),st.length+=st.objectMode?1:K.length)}st.ended=!0,st.sync?y(it):(st.needReadable=!1,st.emittedReadable||(st.emittedReadable=!0,w(it)))}}(I,Q);else if(J||(Y=function(it,st){var K;et=st,r.isBuffer(et)||et instanceof c||typeof st=="string"||st===void 0||it.objectMode||(K=new M("chunk",["string","Buffer","Uint8Array"],st));var et;return K}(Q,A)),Y)L(I,Y);else if(Q.objectMode||A&&A.length>0)if(typeof A=="string"||Q.objectMode||Object.getPrototypeOf(A)===r.prototype||(A=function(it){return r.from(it)}(A)),X)Q.endEmitted?L(I,new N):D(I,Q,A,!0);else if(Q.ended)L(I,new R);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!H?(A=Q.decoder.write(A),Q.objectMode||A.length!==0?D(I,Q,A,!1):v(I,Q)):D(I,Q,A,!1)}else X||(Q.reading=!1,v(I,Q));return!Q.ended&&(Q.length<Q.highWaterMark||Q.length===0)}function D(I,A,H,X){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,I.emit("data",H)):(A.length+=A.objectMode?1:H.length,X?A.buffer.unshift(H):A.buffer.push(H),A.needReadable&&y(I)),v(I,A)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),W.prototype.destroy=p.destroy,W.prototype._undestroy=p.undestroy,W.prototype._destroy=function(I,A){A(I)},W.prototype.push=function(I,A){var H,X=this._readableState;return X.objectMode?H=!0:typeof I=="string"&&((A=A||X.defaultEncoding)!==X.encoding&&(I=r.from(I,A),A=""),H=!0),C(this,I,A,!1,H)},W.prototype.unshift=function(I){return C(this,I,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(I){d||(d=t("string_decoder/").StringDecoder);var A=new d(I);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,X="";H!==null;)X+=A.write(H.data),H=H.next;return this._readableState.buffer.clear(),X!==""&&this._readableState.buffer.push(X),this._readableState.length=X.length,this};function k(I,A){return I<=0||A.length===0&&A.ended?0:A.objectMode?1:I!=I?A.flowing&&A.length?A.buffer.head.data.length:A.length:(I>A.highWaterMark&&(A.highWaterMark=function(H){return H>=1073741824?H=1073741824:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(I)),I<=A.length?I:A.ended?A.length:(A.needReadable=!0,0))}function y(I){var A=I._readableState;s("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(s("emitReadable",A.flowing),A.emittedReadable=!0,l.nextTick(w,I))}function w(I){var A=I._readableState;s("emitReadable_",A.destroyed,A.length,A.ended),A.destroyed||!A.length&&!A.ended||(I.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,z(I)}function v(I,A){A.readingMore||(A.readingMore=!0,l.nextTick(_,I,A))}function _(I,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var H=A.length;if(s("maybeReadMore read 0"),I.read(0),H===A.length)break}A.readingMore=!1}function T(I){var A=I._readableState;A.readableListening=I.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:I.listenerCount("data")>0&&I.resume()}function j(I){s("readable nexttick read 0"),I.read(0)}function O(I,A){s("resume",A.reading),A.reading||I.read(0),A.resumeScheduled=!1,I.emit("resume"),z(I),A.flowing&&!A.reading&&I.read(0)}function z(I){var A=I._readableState;for(s("flow",A.flowing);A.flowing&&I.read()!==null;);}function V(I,A){return A.length===0?null:(A.objectMode?H=A.buffer.shift():!I||I>=A.length?(H=A.decoder?A.buffer.join(""):A.buffer.length===1?A.buffer.first():A.buffer.concat(A.length),A.buffer.clear()):H=A.buffer.consume(I,A.decoder),H);var H}function q(I){var A=I._readableState;s("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,l.nextTick(P,A,I))}function P(I,A){if(s("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,A.readable=!1,A.emit("end"),I.autoDestroy)){var H=A._writableState;(!H||H.autoDestroy&&H.finished)&&A.destroy()}}function G(I,A){for(var H=0,X=I.length;H<X;H++)if(I[H]===A)return H;return-1}W.prototype.read=function(I){s("read",I),I=parseInt(I,10);var A=this._readableState,H=I;if(I!==0&&(A.emittedReadable=!1),I===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return s("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?q(this):y(this),null;if((I=k(I,A))===0&&A.ended)return A.length===0&&q(this),null;var X,J=A.needReadable;return s("need readable",J),(A.length===0||A.length-I<A.highWaterMark)&&s("length less than watermark",J=!0),A.ended||A.reading?s("reading or ended",J=!1):J&&(s("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(I=k(H,A))),(X=I>0?V(I,A):null)===null?(A.needReadable=A.length<=A.highWaterMark,I=0):(A.length-=I,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),H!==I&&A.ended&&q(this)),X!==null&&this.emit("data",X),X},W.prototype._read=function(I){L(this,new B("_read()"))},W.prototype.pipe=function(I,A){var H=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=I;break;case 1:X.pipes=[X.pipes,I];break;default:X.pipes.push(I)}X.pipesCount+=1,s("pipe count=%d opts=%j",X.pipesCount,A);var J=(!A||A.end!==!1)&&I!==l.stdout&&I!==l.stderr?Q:ot;function Y(ct,dt){s("onunpipe"),ct===H&&dt&&dt.hasUnpiped===!1&&(dt.hasUnpiped=!0,s("cleanup"),I.removeListener("close",rt),I.removeListener("finish",at),I.removeListener("drain",it),I.removeListener("error",et),I.removeListener("unpipe",Y),H.removeListener("end",Q),H.removeListener("end",ot),H.removeListener("data",K),st=!0,!X.awaitDrain||I._writableState&&!I._writableState.needDrain||it())}function Q(){s("onend"),I.end()}X.endEmitted?l.nextTick(J):H.once("end",J),I.on("unpipe",Y);var it=function(ct){return function(){var dt=ct._readableState;s("pipeOnDrain",dt.awaitDrain),dt.awaitDrain&&dt.awaitDrain--,dt.awaitDrain===0&&n(ct,"data")&&(dt.flowing=!0,z(ct))}}(H);I.on("drain",it);var st=!1;function K(ct){s("ondata");var dt=I.write(ct);s("dest.write",dt),dt===!1&&((X.pipesCount===1&&X.pipes===I||X.pipesCount>1&&G(X.pipes,I)!==-1)&&!st&&(s("false write response, pause",X.awaitDrain),X.awaitDrain++),H.pause())}function et(ct){s("onerror",ct),ot(),I.removeListener("error",et),n(I,"error")===0&&L(I,ct)}function rt(){I.removeListener("finish",at),ot()}function at(){s("onfinish"),I.removeListener("close",rt),ot()}function ot(){s("unpipe"),H.unpipe(I)}return H.on("data",K),function(ct,dt,ft){if(typeof ct.prependListener=="function")return ct.prependListener(dt,ft);ct._events&&ct._events[dt]?Array.isArray(ct._events[dt])?ct._events[dt].unshift(ft):ct._events[dt]=[ft,ct._events[dt]]:ct.on(dt,ft)}(I,"error",et),I.once("close",rt),I.once("finish",at),I.emit("pipe",H),X.flowing||(s("pipe resume"),H.resume()),I},W.prototype.unpipe=function(I){var A=this._readableState,H={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return I&&I!==A.pipes||(I||(I=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,I&&I.emit("unpipe",this,H)),this;if(!I){var X=A.pipes,J=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var Y=0;Y<J;Y++)X[Y].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=G(A.pipes,I);return Q===-1||(A.pipes.splice(Q,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),I.emit("unpipe",this,H)),this},W.prototype.on=function(I,A){var H=e.prototype.on.call(this,I,A),X=this._readableState;return I==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):I==="readable"&&(X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,s("on readable",X.length,X.reading),X.length?y(this):X.reading||l.nextTick(j,this))),H},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(I,A){var H=e.prototype.removeListener.call(this,I,A);return I==="readable"&&l.nextTick(T,this),H},W.prototype.removeAllListeners=function(I){var A=e.prototype.removeAllListeners.apply(this,arguments);return I!=="readable"&&I!==void 0||l.nextTick(T,this),A},W.prototype.resume=function(){var I=this._readableState;return I.flowing||(s("resume"),I.flowing=!I.readableListening,function(A,H){H.resumeScheduled||(H.resumeScheduled=!0,l.nextTick(O,A,H))}(this,I)),I.paused=!1,this},W.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function(I){var A=this,H=this._readableState,X=!1;for(var J in I.on("end",function(){if(s("wrapped end"),H.decoder&&!H.ended){var Q=H.decoder.end();Q&&Q.length&&A.push(Q)}A.push(null)}),I.on("data",function(Q){s("wrapped data"),H.decoder&&(Q=H.decoder.write(Q)),H.objectMode&&Q==null||(H.objectMode||Q&&Q.length)&&(A.push(Q)||(X=!0,I.pause()))}),I)this[J]===void 0&&typeof I[J]=="function"&&(this[J]=function(Q){return function(){return I[Q].apply(I,arguments)}}(J));for(var Y=0;Y<F.length;Y++)I.on(F[Y],this.emit.bind(this,F[Y]));return this._read=function(Q){s("wrapped _read",Q),X&&(X=!1,I.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return f===void 0&&(f=t("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),W._fromList=V,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function(I,A){return u===void 0&&(u=t("./internal/streams/from")),u(W,I,A)})}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,h,m){h.exports=s;var l=t("../errors").codes,i=l.ERR_METHOD_NOT_IMPLEMENTED,a=l.ERR_MULTIPLE_CALLBACK,n=l.ERR_TRANSFORM_ALREADY_TRANSFORMING,e=l.ERR_TRANSFORM_WITH_LENGTH_0,r=t("./_stream_duplex");function c(f,u){var g=this._transformState;g.transforming=!1;var p=g.writecb;if(p===null)return this.emit("error",new a);g.writechunk=null,g.writecb=null,u!=null&&this.push(u),p(f);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);r.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",o)}function o(){var f=this;typeof this._flush!="function"||this._readableState.destroyed?d(this,null,null):this._flush(function(u,g){d(f,u,g)})}function d(f,u,g){if(u)return f.emit("error",u);if(g!=null&&f.push(g),f._writableState.length)throw new e;if(f._transformState.transforming)throw new n;return f.push(null)}t("inherits")(s,r),s.prototype.push=function(f,u){return this._transformState.needTransform=!1,r.prototype.push.call(this,f,u)},s.prototype._transform=function(f,u,g){g(new i("_transform()"))},s.prototype._write=function(f,u,g){var p=this._transformState;if(p.writecb=g,p.writechunk=f,p.writeencoding=u,!p.transforming){var x=this._readableState;(p.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},s.prototype._read=function(f){var u=this._transformState;u.writechunk===null||u.transforming?u.needTransform=!0:(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform))},s.prototype._destroy=function(f,u){r.prototype._destroy.call(this,f,function(g){u(g)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,h,m){(function(l,i){(function(){function a(_){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(j,O,z){var V=j.entry;for(j.entry=null;V;){var q=V.callback;O.pendingcb--,q(z),V=V.next}O.corkedRequestsFree.next=j})(T,_)}}var n;h.exports=W,W.WritableState=$;var e={deprecate:t("util-deprecate")},r=t("./internal/streams/stream"),c=t("buffer").Buffer,s=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,d=t("./internal/streams/destroy"),f=t("./internal/streams/state").getHighWaterMark,u=t("../errors").codes,g=u.ERR_INVALID_ARG_TYPE,p=u.ERR_METHOD_NOT_IMPLEMENTED,x=u.ERR_MULTIPLE_CALLBACK,S=u.ERR_STREAM_CANNOT_PIPE,M=u.ERR_STREAM_DESTROYED,R=u.ERR_STREAM_NULL_VALUES,B=u.ERR_STREAM_WRITE_AFTER_END,N=u.ERR_UNKNOWN_ENCODING,L=d.errorOrDestroy;function F(){}function $(_,T,j){n=n||t("./_stream_duplex"),_=_||{},typeof j!="boolean"&&(j=T instanceof n),this.objectMode=!!_.objectMode,j&&(this.objectMode=this.objectMode||!!_.writableObjectMode),this.highWaterMark=f(this,_,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=_.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){(function(V,q){var P=V._writableState,G=P.sync,I=P.writecb;if(typeof I!="function")throw new x;if(function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}(P),q)(function(H,X,J,Y,Q){--X.pendingcb,J?(l.nextTick(Q,Y),l.nextTick(v,H,X),H._writableState.errorEmitted=!0,L(H,Y)):(Q(Y),H._writableState.errorEmitted=!0,L(H,Y),v(H,X))})(V,P,G,q,I);else{var A=y(P)||V.destroyed;A||P.corked||P.bufferProcessing||!P.bufferedRequest||k(V,P),G?l.nextTick(D,V,P,A,I):D(V,P,A,I)}})(T,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function W(_){var T=this instanceof(n=n||t("./_stream_duplex"));if(!T&&!o.call(W,this))return new W(_);this._writableState=new $(_,this,T),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),r.call(this)}function C(_,T,j,O,z,V,q){T.writelen=O,T.writecb=q,T.writing=!0,T.sync=!0,T.destroyed?T.onwrite(new M("write")):j?_._writev(z,T.onwrite):_._write(z,V,T.onwrite),T.sync=!1}function D(_,T,j,O){j||function(z,V){V.length===0&&V.needDrain&&(V.needDrain=!1,z.emit("drain"))}(_,T),T.pendingcb--,O(),v(_,T)}function k(_,T){T.bufferProcessing=!0;var j=T.bufferedRequest;if(_._writev&&j&&j.next){var O=T.bufferedRequestCount,z=new Array(O),V=T.corkedRequestsFree;V.entry=j;for(var q=0,P=!0;j;)z[q]=j,j.isBuf||(P=!1),j=j.next,q+=1;z.allBuffers=P,C(_,T,!0,T.length,z,"",V.finish),T.pendingcb++,T.lastBufferedRequest=null,V.next?(T.corkedRequestsFree=V.next,V.next=null):T.corkedRequestsFree=new a(T),T.bufferedRequestCount=0}else{for(;j;){var G=j.chunk,I=j.encoding,A=j.callback;if(C(_,T,!1,T.objectMode?1:G.length,G,I,A),j=j.next,T.bufferedRequestCount--,T.writing)break}j===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=j,T.bufferProcessing=!1}function y(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function w(_,T){_._final(function(j){T.pendingcb--,j&&L(_,j),T.prefinished=!0,_.emit("prefinish"),v(_,T)})}function v(_,T){var j=y(T);if(j&&(function(z,V){V.prefinished||V.finalCalled||(typeof z._final!="function"||V.destroyed?(V.prefinished=!0,z.emit("prefinish")):(V.pendingcb++,V.finalCalled=!0,l.nextTick(w,z,V)))}(_,T),T.pendingcb===0&&(T.finished=!0,_.emit("finish"),T.autoDestroy))){var O=_._readableState;(!O||O.autoDestroy&&O.endEmitted)&&_.destroy()}return j}t("inherits")(W,r),$.prototype.getBuffer=function(){for(var _=this.bufferedRequest,T=[];_;)T.push(_),_=_.next;return T},function(){try{Object.defineProperty($.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(_){return!!o.call(this,_)||this===W&&_&&_._writableState instanceof $}})):o=function(_){return _ instanceof this},W.prototype.pipe=function(){L(this,new S)},W.prototype.write=function(_,T,j){var O,z=this._writableState,V=!1,q=!z.objectMode&&(O=_,c.isBuffer(O)||O instanceof s);return q&&!c.isBuffer(_)&&(_=function(P){return c.from(P)}(_)),typeof T=="function"&&(j=T,T=null),q?T="buffer":T||(T=z.defaultEncoding),typeof j!="function"&&(j=F),z.ending?function(P,G){var I=new B;L(P,I),l.nextTick(G,I)}(this,j):(q||function(P,G,I,A){var H;return I===null?H=new R:typeof I=="string"||G.objectMode||(H=new g("chunk",["string","Buffer"],I)),!H||(L(P,H),l.nextTick(A,H),!1)}(this,z,_,j))&&(z.pendingcb++,V=function(P,G,I,A,H,X){if(!I){var J=function(st,K,et){return st.objectMode||st.decodeStrings===!1||typeof K!="string"||(K=c.from(K,et)),K}(G,A,H);A!==J&&(I=!0,H="buffer",A=J)}var Y=G.objectMode?1:A.length;G.length+=Y;var Q=G.length<G.highWaterMark;if(Q||(G.needDrain=!0),G.writing||G.corked){var it=G.lastBufferedRequest;G.lastBufferedRequest={chunk:A,encoding:H,isBuf:I,callback:X,next:null},it?it.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else C(P,G,!1,Y,A,H,X);return Q}(this,z,q,_,T,j)),V},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,_.writing||_.corked||_.bufferProcessing||!_.bufferedRequest||k(this,_))},W.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new N(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(_,T,j){j(new p("_write()"))},W.prototype._writev=null,W.prototype.end=function(_,T,j){var O=this._writableState;return typeof _=="function"?(j=_,_=null,T=null):typeof T=="function"&&(j=T,T=null),_!=null&&this.write(_,T),O.corked&&(O.corked=1,this.uncork()),O.ending||function(z,V,q){V.ending=!0,v(z,V),q&&(V.finished?l.nextTick(q):z.once("finish",q)),V.ended=!0,z.writable=!1}(this,O,j),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),W.prototype.destroy=d.destroy,W.prototype._undestroy=d.undestroy,W.prototype._destroy=function(_,T){T(_)}}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,h,m){(function(l){(function(){var i;function a(M,R,B){return(R=function(N){var L=function(F,$){if(typeof F!="object"||F===null)return F;var W=F[Symbol.toPrimitive];if(W!==void 0){var C=W.call(F,$);if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(F)}(N,"string");return typeof L=="symbol"?L:String(L)}(R))in M?Object.defineProperty(M,R,{value:B,enumerable:!0,configurable:!0,writable:!0}):M[R]=B,M}var n=t("./end-of-stream"),e=Symbol("lastResolve"),r=Symbol("lastReject"),c=Symbol("error"),s=Symbol("ended"),o=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function u(M,R){return{value:M,done:R}}function g(M){var R=M[e];if(R!==null){var B=M[f].read();B!==null&&(M[o]=null,M[e]=null,M[r]=null,R(u(B,!1)))}}function p(M){l.nextTick(g,M)}var x=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((a(i={get stream(){return this[f]},next:function(){var M=this,R=this[c];if(R!==null)return Promise.reject(R);if(this[s])return Promise.resolve(u(void 0,!0));if(this[f].destroyed)return new Promise(function(F,$){l.nextTick(function(){M[c]?$(M[c]):F(u(void 0,!0))})});var B,N=this[o];if(N)B=new Promise(function(F,$){return function(W,C){F.then(function(){$[s]?W(u(void 0,!0)):$[d](W,C)},C)}}(N,this));else{var L=this[f].read();if(L!==null)return Promise.resolve(u(L,!1));B=new Promise(this[d])}return this[o]=B,B}},Symbol.asyncIterator,function(){return this}),a(i,"return",function(){var M=this;return new Promise(function(R,B){M[f].destroy(null,function(N){N?B(N):R(u(void 0,!0))})})}),i),x);h.exports=function(M){var R,B=Object.create(S,(a(R={},f,{value:M,writable:!0}),a(R,e,{value:null,writable:!0}),a(R,r,{value:null,writable:!0}),a(R,c,{value:null,writable:!0}),a(R,s,{value:M._readableState.endEmitted,writable:!0}),a(R,d,{value:function(N,L){var F=B[f].read();F?(B[o]=null,B[e]=null,B[r]=null,N(u(F,!1))):(B[e]=N,B[r]=L)},writable:!0}),R));return B[o]=null,n(M,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=B[r];return L!==null&&(B[o]=null,B[e]=null,B[r]=null,L(N)),void(B[c]=N)}var F=B[e];F!==null&&(B[o]=null,B[e]=null,B[r]=null,F(u(void 0,!0))),B[s]=!0}),M.on("readable",p.bind(null,B)),B}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,h,m){function l(o,d){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);d&&(u=u.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),f.push.apply(f,u)}return f}function i(o){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?l(Object(f),!0).forEach(function(u){a(o,u,f[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):l(Object(f)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(f,u))})}return o}function a(o,d,f){return(d=e(d))in o?Object.defineProperty(o,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):o[d]=f,o}function n(o,d){for(var f=0;f<d.length;f++){var u=d[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,e(u.key),u)}}function e(o){var d=function(f,u){if(typeof f!="object"||f===null)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var p=g.call(f,u);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(f)}(o,"string");return typeof d=="symbol"?d:String(d)}var r=t("buffer").Buffer,c=t("util").inspect,s=c&&c.custom||"inspect";h.exports=function(){function o(){(function(u,g){if(!(u instanceof g))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}var d,f;return d=o,(f=[{key:"push",value:function(u){var g={data:u,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(u){var g={data:u,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(u){if(this.length===0)return"";for(var g=this.head,p=""+g.data;g=g.next;)p+=u+g.data;return p}},{key:"concat",value:function(u){if(this.length===0)return r.alloc(0);for(var g,p,x,S=r.allocUnsafe(u>>>0),M=this.head,R=0;M;)g=M.data,p=S,x=R,r.prototype.copy.call(g,p,x),R+=M.data.length,M=M.next;return S}},{key:"consume",value:function(u,g){var p;return u<this.head.data.length?(p=this.head.data.slice(0,u),this.head.data=this.head.data.slice(u)):p=u===this.head.data.length?this.shift():g?this._getString(u):this._getBuffer(u),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(u){var g=this.head,p=1,x=g.data;for(u-=x.length;g=g.next;){var S=g.data,M=u>S.length?S.length:u;if(M===S.length?x+=S:x+=S.slice(0,u),(u-=M)==0){M===S.length?(++p,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=S.slice(M));break}++p}return this.length-=p,x}},{key:"_getBuffer",value:function(u){var g=r.allocUnsafe(u),p=this.head,x=1;for(p.data.copy(g),u-=p.data.length;p=p.next;){var S=p.data,M=u>S.length?S.length:u;if(S.copy(g,g.length-u,0,M),(u-=M)==0){M===S.length?(++x,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=S.slice(M));break}++x}return this.length-=x,g}},{key:s,value:function(u,g){return c(this,i(i({},g),{},{depth:0,customInspect:!1}))}}])&&n(d.prototype,f),Object.defineProperty(d,"prototype",{writable:!1}),o}()},{buffer:220,util:188}],485:[function(t,h,m){(function(l){(function(){function i(e,r){n(e,r),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,r){e.emit("error",r)}h.exports={destroy:function(e,r){var c=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,l.nextTick(n,this,e)):l.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(d){!r&&d?c._writableState?c._writableState.errorEmitted?l.nextTick(a,c):(c._writableState.errorEmitted=!0,l.nextTick(i,c,d)):l.nextTick(i,c,d):r?(l.nextTick(a,c),r(d)):l.nextTick(a,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,r){var c=e._readableState,s=e._writableState;c&&c.autoDestroy||s&&s.autoDestroy?e.destroy(r):e.emit("error",r)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,h,m){var l=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}h.exports=function a(n,e,r){if(typeof e=="function")return a(n,null,e);e||(e={}),r=function(M){var R=!1;return function(){if(!R){R=!0;for(var B=arguments.length,N=new Array(B),L=0;L<B;L++)N[L]=arguments[L];M.apply(this,N)}}}(r||i);var c=e.readable||e.readable!==!1&&n.readable,s=e.writable||e.writable!==!1&&n.writable,o=function(){n.writable||f()},d=n._writableState&&n._writableState.finished,f=function(){s=!1,d=!0,c||r.call(n)},u=n._readableState&&n._readableState.endEmitted,g=function(){c=!1,u=!0,s||r.call(n)},p=function(M){r.call(n,M)},x=function(){var M;return c&&!u?(n._readableState&&n._readableState.ended||(M=new l),r.call(n,M)):s&&!d?(n._writableState&&n._writableState.ended||(M=new l),r.call(n,M)):void 0},S=function(){n.req.on("finish",f)};return function(M){return M.setHeader&&typeof M.abort=="function"}(n)?(n.on("complete",f),n.on("abort",x),n.req?S():n.on("request",S)):s&&!n._writableState&&(n.on("end",o),n.on("close",o)),n.on("end",g),n.on("finish",f),e.error!==!1&&n.on("error",p),n.on("close",x),function(){n.removeListener("complete",f),n.removeListener("abort",x),n.removeListener("request",S),n.req&&n.req.removeListener("finish",f),n.removeListener("end",o),n.removeListener("close",o),n.removeListener("finish",f),n.removeListener("end",g),n.removeListener("error",p),n.removeListener("close",x)}}},{"../../../errors":477}],487:[function(t,h,m){h.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,h,m){var l,i=t("../../../errors").codes,a=i.ERR_MISSING_ARGS,n=i.ERR_STREAM_DESTROYED;function e(d){if(d)throw d}function r(d,f,u,g){g=function(S){var M=!1;return function(){M||(M=!0,S.apply(void 0,arguments))}}(g);var p=!1;d.on("close",function(){p=!0}),l===void 0&&(l=t("./end-of-stream")),l(d,{readable:f,writable:u},function(S){if(S)return g(S);p=!0,g()});var x=!1;return function(S){if(!p&&!x)return x=!0,function(M){return M.setHeader&&typeof M.abort=="function"}(d)?d.abort():typeof d.destroy=="function"?d.destroy():void g(S||new n("pipe"))}}function c(d){d()}function s(d,f){return d.pipe(f)}function o(d){return d.length?typeof d[d.length-1]!="function"?e:d.pop():e}h.exports=function(){for(var d=arguments.length,f=new Array(d),u=0;u<d;u++)f[u]=arguments[u];var g,p=o(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new a("streams");var x=f.map(function(S,M){var R=M<f.length-1;return r(S,R,M>0,function(B){g||(g=B),B&&x.forEach(c),R||(x.forEach(c),p(g))})});return f.reduce(s)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,h,m){var l=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;h.exports={getHighWaterMark:function(i,a,n,e){var r=function(c,s,o){return c.highWaterMark!=null?c.highWaterMark:s?c[o]:null}(a,e,n);if(r!=null){if(!isFinite(r)||Math.floor(r)!==r||r<0)throw new l(e?n:"highWaterMark",r);return Math.floor(r)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,h,m){h.exports=t("events").EventEmitter},{events:422}],491:[function(t,h,m){(m=h.exports=t("./lib/_stream_readable.js")).Stream=m,m.Readable=m,m.Writable=t("./lib/_stream_writable.js"),m.Duplex=t("./lib/_stream_duplex.js"),m.Transform=t("./lib/_stream_transform.js"),m.PassThrough=t("./lib/_stream_passthrough.js"),m.finished=t("./lib/internal/streams/end-of-stream.js"),m.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,h,m){var l=function(i){var a=Object.prototype,n=a.hasOwnProperty,e=Object.defineProperty||function(v,_,T){v[_]=T.value},r=typeof Symbol=="function"?Symbol:{},c=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function d(v,_,T){return Object.defineProperty(v,_,{value:T,enumerable:!0,configurable:!0,writable:!0}),v[_]}try{d({},"")}catch{d=function(_,T,j){return _[T]=j}}function f(v,_,T,j){var O=_&&_.prototype instanceof p?_:p,z=Object.create(O.prototype),V=new k(j||[]);return e(z,"_invoke",{value:$(v,T,V)}),z}function u(v,_,T){try{return{type:"normal",arg:v.call(_,T)}}catch(j){return{type:"throw",arg:j}}}i.wrap=f;var g={};function p(){}function x(){}function S(){}var M={};d(M,c,function(){return this});var R=Object.getPrototypeOf,B=R&&R(R(y([])));B&&B!==a&&n.call(B,c)&&(M=B);var N=S.prototype=p.prototype=Object.create(M);function L(v){["next","throw","return"].forEach(function(_){d(v,_,function(T){return this._invoke(_,T)})})}function F(v,_){var T;e(this,"_invoke",{value:function(j,O){function z(){return new _(function(V,q){(function P(G,I,A,H){var X=u(v[G],v,I);if(X.type!=="throw"){var J=X.arg,Y=J.value;return Y&&typeof Y=="object"&&n.call(Y,"__await")?_.resolve(Y.__await).then(function(Q){P("next",Q,A,H)},function(Q){P("throw",Q,A,H)}):_.resolve(Y).then(function(Q){J.value=Q,A(J)},function(Q){return P("throw",Q,A,H)})}H(X.arg)})(j,O,V,q)})}return T=T?T.then(z,z):z()}})}function $(v,_,T){var j="suspendedStart";return function(O,z){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(O==="throw")throw z;return w()}for(T.method=O,T.arg=z;;){var V=T.delegate;if(V){var q=W(V,T);if(q){if(q===g)continue;return q}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(j==="suspendedStart")throw j="completed",T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);j="executing";var P=u(v,_,T);if(P.type==="normal"){if(j=T.done?"completed":"suspendedYield",P.arg===g)continue;return{value:P.arg,done:T.done}}P.type==="throw"&&(j="completed",T.method="throw",T.arg=P.arg)}}}function W(v,_){var T=_.method,j=v.iterator[T];if(j===void 0)return _.delegate=null,T==="throw"&&v.iterator.return&&(_.method="return",_.arg=void 0,W(v,_),_.method==="throw")||T!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+T+"' method")),g;var O=u(j,v.iterator,_.arg);if(O.type==="throw")return _.method="throw",_.arg=O.arg,_.delegate=null,g;var z=O.arg;return z?z.done?(_[v.resultName]=z.value,_.next=v.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,g):z:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,g)}function C(v){var _={tryLoc:v[0]};1 in v&&(_.catchLoc=v[1]),2 in v&&(_.finallyLoc=v[2],_.afterLoc=v[3]),this.tryEntries.push(_)}function D(v){var _=v.completion||{};_.type="normal",delete _.arg,v.completion=_}function k(v){this.tryEntries=[{tryLoc:"root"}],v.forEach(C,this),this.reset(!0)}function y(v){if(v){var _=v[c];if(_)return _.call(v);if(typeof v.next=="function")return v;if(!isNaN(v.length)){var T=-1,j=function O(){for(;++T<v.length;)if(n.call(v,T))return O.value=v[T],O.done=!1,O;return O.value=void 0,O.done=!0,O};return j.next=j}}return{next:w}}function w(){return{value:void 0,done:!0}}return x.prototype=S,e(N,"constructor",{value:S,configurable:!0}),e(S,"constructor",{value:x,configurable:!0}),x.displayName=d(S,o,"GeneratorFunction"),i.isGeneratorFunction=function(v){var _=typeof v=="function"&&v.constructor;return!!_&&(_===x||(_.displayName||_.name)==="GeneratorFunction")},i.mark=function(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,S):(v.__proto__=S,d(v,o,"GeneratorFunction")),v.prototype=Object.create(N),v},i.awrap=function(v){return{__await:v}},L(F.prototype),d(F.prototype,s,function(){return this}),i.AsyncIterator=F,i.async=function(v,_,T,j,O){O===void 0&&(O=Promise);var z=new F(f(v,_,T,j),O);return i.isGeneratorFunction(_)?z:z.next().then(function(V){return V.done?V.value:z.next()})},L(N),d(N,o,"Generator"),d(N,c,function(){return this}),d(N,"toString",function(){return"[object Generator]"}),i.keys=function(v){var _=Object(v),T=[];for(var j in _)T.push(j);return T.reverse(),function O(){for(;T.length;){var z=T.pop();if(z in _)return O.value=z,O.done=!1,O}return O.done=!0,O}},i.values=y,k.prototype={constructor:k,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!v)for(var _ in this)_.charAt(0)==="t"&&n.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var v=this.tryEntries[0].completion;if(v.type==="throw")throw v.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var _=this;function T(P,G){return z.type="throw",z.arg=v,_.next=P,G&&(_.method="next",_.arg=void 0),!!G}for(var j=this.tryEntries.length-1;j>=0;--j){var O=this.tryEntries[j],z=O.completion;if(O.tryLoc==="root")return T("end");if(O.tryLoc<=this.prev){var V=n.call(O,"catchLoc"),q=n.call(O,"finallyLoc");if(V&&q){if(this.prev<O.catchLoc)return T(O.catchLoc,!0);if(this.prev<O.finallyLoc)return T(O.finallyLoc)}else if(V){if(this.prev<O.catchLoc)return T(O.catchLoc,!0)}else{if(!q)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return T(O.finallyLoc)}}}},abrupt:function(v,_){for(var T=this.tryEntries.length-1;T>=0;--T){var j=this.tryEntries[T];if(j.tryLoc<=this.prev&&n.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var O=j;break}}O&&(v==="break"||v==="continue")&&O.tryLoc<=_&&_<=O.finallyLoc&&(O=null);var z=O?O.completion:{};return z.type=v,z.arg=_,O?(this.method="next",this.next=O.finallyLoc,g):this.complete(z)},complete:function(v,_){if(v.type==="throw")throw v.arg;return v.type==="break"||v.type==="continue"?this.next=v.arg:v.type==="return"?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):v.type==="normal"&&_&&(this.next=_),g},finish:function(v){for(var _=this.tryEntries.length-1;_>=0;--_){var T=this.tryEntries[_];if(T.finallyLoc===v)return this.complete(T.completion,T.afterLoc),D(T),g}},catch:function(v){for(var _=this.tryEntries.length-1;_>=0;--_){var T=this.tryEntries[_];if(T.tryLoc===v){var j=T.completion;if(j.type==="throw"){var O=j.arg;D(T)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(v,_,T){return this.delegate={iterator:y(v),resultName:_,nextLoc:T},this.method==="next"&&(this.arg=void 0),g}},i}(typeof h=="object"?h.exports:{});try{regeneratorRuntime=l}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}},{}],493:[function(t,h,m){var l=t("buffer").Buffer,i=t("inherits"),a=t("hash-base"),n=new Array(16),e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],r=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],s=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],o=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function f(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function u(R,B){return R<<B|R>>>32-B}function g(R,B,N,L,F,$,W,C){return u(R+(B^N^L)+$+W|0,C)+F|0}function p(R,B,N,L,F,$,W,C){return u(R+(B&N|~B&L)+$+W|0,C)+F|0}function x(R,B,N,L,F,$,W,C){return u(R+((B|~N)^L)+$+W|0,C)+F|0}function S(R,B,N,L,F,$,W,C){return u(R+(B&L|N&~L)+$+W|0,C)+F|0}function M(R,B,N,L,F,$,W,C){return u(R+(B^(N|~L))+$+W|0,C)+F|0}i(f,a),f.prototype._update=function(){for(var R=n,B=0;B<16;++B)R[B]=this._block.readInt32LE(4*B);for(var N=0|this._a,L=0|this._b,F=0|this._c,$=0|this._d,W=0|this._e,C=0|this._a,D=0|this._b,k=0|this._c,y=0|this._d,w=0|this._e,v=0;v<80;v+=1){var _,T;v<16?(_=g(N,L,F,$,W,R[e[v]],o[0],c[v]),T=M(C,D,k,y,w,R[r[v]],d[0],s[v])):v<32?(_=p(N,L,F,$,W,R[e[v]],o[1],c[v]),T=S(C,D,k,y,w,R[r[v]],d[1],s[v])):v<48?(_=x(N,L,F,$,W,R[e[v]],o[2],c[v]),T=x(C,D,k,y,w,R[r[v]],d[2],s[v])):v<64?(_=S(N,L,F,$,W,R[e[v]],o[3],c[v]),T=p(C,D,k,y,w,R[r[v]],d[3],s[v])):(_=M(N,L,F,$,W,R[e[v]],o[4],c[v]),T=g(C,D,k,y,w,R[r[v]],d[4],s[v])),N=W,W=$,$=u(F,10),F=L,L=_,C=w,w=y,y=u(k,10),k=D,D=T}var j=this._b+F+y|0;this._b=this._c+$+w|0,this._c=this._d+W+C|0,this._d=this._e+N+D|0,this._e=this._a+L+k|0,this._a=j},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=l.alloc?l.alloc(20):new l(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R},h.exports=f},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,h,m){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var l=t("buffer"),i=l.Buffer;function a(e,r){for(var c in e)r[c]=e[c]}function n(e,r,c){return i(e,r,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?h.exports=l:(a(l,m),m.Buffer=n),n.prototype=Object.create(i.prototype),a(i,n),n.from=function(e,r,c){if(typeof e=="number")throw new TypeError("Argument must not be a number");return i(e,r,c)},n.alloc=function(e,r,c){if(typeof e!="number")throw new TypeError("Argument must be a number");var s=i(e);return r!==void 0?typeof c=="string"?s.fill(r,c):s.fill(r):s.fill(0),s},n.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return i(e)},n.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(e)}},{buffer:220}],495:[function(t,h,m){(function(l){(function(){var i,a=t("buffer"),n=a.Buffer,e={};for(i in a)a.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(e[i]=a[i]);var r=e.Buffer={};for(i in n)n.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(r[i]=n[i]);if(e.Buffer.prototype=n.prototype,r.from&&r.from!==Uint8Array.from||(r.from=function(c,s,o){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return n(c,s,o)}),r.alloc||(r.alloc=function(c,s,o){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var d=n(c);return s&&s.length!==0?typeof o=="string"?d.fill(s,o):d.fill(s):d.fill(0),d}),!e.kStringMaxLength)try{e.kStringMaxLength=l.binding("buffer").kStringMaxLength}catch{}e.constants||(e.constants={MAX_LENGTH:e.kMaxLength},e.kStringMaxLength&&(e.constants.MAX_STRING_LENGTH=e.kStringMaxLength)),h.exports=e}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0});const l=t("xmlchars/xml/1.0/ed5"),i=t("xmlchars/xml/1.1/ed2"),a=t("xmlchars/xmlns/1.0/ed3");var n=l.isS,e=l.isChar,r=l.isNameStartChar,c=l.isNameChar,s=l.S_LIST,o=l.NAME_RE,d=i.isChar,f=a.isNCNameStartChar,u=a.isNCNameChar,g=a.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",S={__proto__:null,xml:p,xmlns:x},M={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},R=y=>y===34||y===39,B=[34,39],N=[...B,91,62],L=[...B,60,93],F=[61,63,...s],$=[...s,62,38,60];function W(y,w,v){switch(w){case"xml":v!==p&&y.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":v!==x&&y.fail(`xmlns prefix must be bound to ${x}.`)}switch(v){case x:y.fail(w===""?`the default namespace may not be set to ${v}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case p:switch(w){case"xml":break;case"":y.fail(`the default namespace may not be set to ${v}.`);break;default:y.fail("may not assign the xml namespace to another prefix.")}}}const C=y=>g.test(y),D=y=>o.test(y);m.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};m.SaxesParser=class{constructor(y){this.opt=y??{},this.fragmentOpt=!!this.opt.fragment;const w=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,w){this.nameStartCheck=f,this.nameCheck=u,this.isName=C,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},S);const v=this.opt.additionalNamespaces;v!=null&&(function(_,T){for(const j of Object.keys(T))W(_,j,T[j])}(this,v),Object.assign(this.ns,v))}else this.nameStartCheck=r,this.nameCheck=c,this.isName=D,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var y;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:w}=this;this.state=w?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=w,this.xmlDeclPossible=!w,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:v}=this.opt;if(v===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");v="1.0"}this.setXMLVersion(v),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(M),(y=this.readyHandler)===null||y===void 0||y.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(y,w){this[k[y]]=w}off(y){this[k[y]]=void 0}makeError(y){var w;let v=(w=this.fileName)!==null&&w!==void 0?w:"";return this.trackPosition&&(v.length>0&&(v+=":"),v+=`${this.line}:${this.column}`),v.length>0&&(v+=": "),new Error(v+y)}fail(y){const w=this.makeError(y),v=this.errorHandler;if(v===void 0)throw w;return v(w),this}write(y){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let w=!1;y===null?(w=!0,y=""):typeof y=="object"&&(y=y.toString()),this.carriedFromPrevious!==void 0&&(y=`${this.carriedFromPrevious}${y}`,this.carriedFromPrevious=void 0);let v=y.length;const _=y.charCodeAt(v-1);!w&&(_===13||_>=55296&&_<=56319)&&(this.carriedFromPrevious=y[v-1],v--,y=y.slice(0,v));const{stateTable:T}=this;for(this.chunk=y,this.i=0;this.i<v;)T[this.state].call(this);return this.chunkPosition+=v,w?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:y,i:w}=this;if(this.prevI=w,this.i=w+1,w>=y.length)return-1;const v=y.charCodeAt(w);if(this.column++,v<55296){if(v>=32||v===9)return v;switch(v){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return y.charCodeAt(w+1)===10&&(this.i=w+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),v}}if(v>56319)return v>=57344&&v<=65533||this.fail("disallowed character."),v;const _=65536+1024*(v-55296)+(y.charCodeAt(w+1)-56320);return this.i=w+2,_>1114111&&this.fail("disallowed character."),_}getCode11(){const{chunk:y,i:w}=this;if(this.prevI=w,this.i=w+1,w>=y.length)return-1;const v=y.charCodeAt(w);if(this.column++,v<55296){if(v>31&&v<127||v>159&&v!==8232||v===9)return v;switch(v){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const T=y.charCodeAt(w+1);T!==10&&T!==133||(this.i=w+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),v}}if(v>56319)return v>=57344&&v<=65533||this.fail("disallowed character."),v;const _=65536+1024*(v-55296)+(y.charCodeAt(w+1)-56320);return this.i=w+2,_>1114111&&this.fail("disallowed character."),_}getCodeNorm(){const y=this.getCode();return y===-2?10:y}unget(){this.i=this.prevI,this.column--}captureTo(y){let{i:w}=this;const{chunk:v}=this;for(;;){const _=this.getCode(),T=_===-2,j=T?10:_;if(j===-1||y.includes(j))return this.text+=v.slice(w,this.prevI),j;T&&(this.text+=v.slice(w,this.prevI)+`
`,w=this.i)}}captureToChar(y){let{i:w}=this;const{chunk:v}=this;for(;;){let _=this.getCode();switch(_){case-2:this.text+=v.slice(w,this.prevI)+`
`,w=this.i,_=10;break;case-1:return this.text+=v.slice(w),!1}if(_===y)return this.text+=v.slice(w,this.prevI),!0}}captureNameChars(){const{chunk:y,i:w}=this;for(;;){const v=this.getCode();if(v===-1)return this.name+=y.slice(w),-1;if(!c(v))return this.name+=y.slice(w,this.prevI),v===-2?10:v}}skipSpaces(){for(;;){const y=this.getCodeNorm();if(y===-1||!n(y))return y}}setXMLVersion(y){this.currentXMLVersion=y,y==="1.0"?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=d,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const y=this.i,w=this.skipSpaces();switch(this.prevI!==y&&(this.xmlDeclPossible=!1),w){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var y;const w=this.captureTo(N);switch(w){case 62:(y=this.doctypeHandler)===null||y===void 0||y.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(w),w===91?this.state=4:R(w)&&(this.state=3,this.q=w)}}sDoctypeQuote(){const y=this.q;this.captureToChar(y)&&(this.text+=String.fromCodePoint(y),this.q=null,this.state=2)}sDTD(){const y=this.captureTo(L);y!==-1&&(this.text+=String.fromCodePoint(y),y===93?this.state=2:y===60?this.state=6:R(y)&&(this.state=5,this.q=y))}sDTDQuoted(){const y=this.q;this.captureToChar(y)&&(this.text+=String.fromCodePoint(y),this.state=4,this.q=null)}sDTDOpenWaka(){const y=this.getCodeNorm();switch(this.text+=String.fromCodePoint(y),y){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const y=String.fromCodePoint(this.getCodeNorm()),w=this.openWakaBang+=y;this.text+=y,w!=="-"&&(this.state=w==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const y=this.getCodeNorm();this.text+=String.fromCodePoint(y),this.state=y===45?10:8}sDTDCommentEnded(){const y=this.getCodeNorm();this.text+=String.fromCodePoint(y),y===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const y=this.getCodeNorm();this.text+=String.fromCodePoint(y),y===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:y}=this;const{chunk:w}=this;t:for(;;)switch(this.getCode()){case-2:this.entity+=w.slice(y,this.prevI)+`
`,y=this.i;break;case 59:{const{entityReturnState:v}=this,_=this.entity+w.slice(y,this.prevI);let T;this.state=v,_===""?(this.fail("empty entity name."),T="&;"):(T=this.parseEntity(_),this.entity=""),v===13&&this.textHandler===void 0||(this.text+=T);break t}case-1:this.entity+=w.slice(y);break t}}sOpenWaka(){const y=this.getCode();if(r(y))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(y){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var y;const w=this.getCodeNorm();w===45?(this.state=19,(y=this.commentHandler)===null||y===void 0||y.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(w),this.state=17)}sCommentEnded(){const y=this.getCodeNorm();y!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(y),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const y=this.getCodeNorm();y===93?this.state=22:(this.text+="]"+String.fromCodePoint(y),this.state=20)}sCDataEnding2(){var y;const w=this.getCodeNorm();switch(w){case 62:(y=this.cdataHandler)===null||y===void 0||y.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(w),this.state=20}}sPIFirstChar(){const y=this.getCodeNorm();this.nameStartCheck(y)?(this.piTarget+=String.fromCodePoint(y),this.state=24):y===63||n(y)?(this.fail("processing instruction without a target."),this.state=y===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(y),this.state=24)}sPIRest(){const{chunk:y,i:w}=this;for(;;){const v=this.getCodeNorm();if(v===-1)return void(this.piTarget+=y.slice(w));if(!this.nameCheck(v)){this.piTarget+=y.slice(w,this.prevI);const _=v===63;_||n(v)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=_?33:27):this.state=_?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v));break}}}sPIBody(){if(this.text.length===0){const y=this.getCodeNorm();y===63?this.state=26:n(y)||(this.text=String.fromCodePoint(y))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var y;const w=this.getCodeNorm();if(w===62){const{piTarget:v}=this;v.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(y=this.piHandler)===null||y===void 0||y.call(this,{target:v,body:this.text}),this.piTarget=this.text="",this.state=13}else w===63?this.text+="?":(this.text+="?"+String.fromCodePoint(w),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const y=this.skipSpaces();y!==63?y!==-1&&(this.state=28,this.name=String.fromCodePoint(y)):this.state=33}sXMLDeclName(){const y=this.captureTo(F);if(y===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(n(y)||y===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=y===61?30:29}}sXMLDeclEq(){const y=this.getCodeNorm();if(y===63)return this.state=33,void this.fail("XML declaration is incomplete.");n(y)||(y!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const y=this.getCodeNorm();if(y===63)return this.state=33,void this.fail("XML declaration is incomplete.");n(y)||(R(y)?this.q=y:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const y=this.captureTo([this.q,63]);if(y===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(y===-1)return;const w=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const v=w;this.xmlDecl.version=v,/^1\.[0-9]+$/.test(v)?this.opt.forceXMLVersion||this.setXMLVersion(v):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(w)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=w;break;case"standalone":w!=="yes"&&w!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=w}this.name="",this.state=32}sXMLDeclSeparator(){const y=this.getCodeNorm();y!==63?(n(y)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var y;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(y=this.xmldeclHandler)===null||y===void 0||y.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var y;const w=this.captureNameChars();if(w===-1)return;const v=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=v.ns=Object.create(null)),(y=this.openTagStartHandler)===null||y===void 0||y.call(this,v),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),w){case 62:this.openTag();break;case 47:this.state=35;break;default:n(w)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const y=this.skipSpaces();y!==-1&&(r(y)?(this.unget(),this.state=37):y===62?this.openTag():y===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const y=this.captureNameChars();y===61?this.state=39:n(y)?this.state=38:y===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):y!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const y=this.skipSpaces();switch(y){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",y===62?this.openTag():r(y)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const y=this.getCodeNorm();R(y)?(this.q=y,this.state=40):n(y)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:y,chunk:w}=this;let{i:v}=this;for(;;)switch(this.getCode()){case y:return this.pushAttrib(this.name,this.text+w.slice(v,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=w.slice(v,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=w.slice(v,this.prevI)+" ",v=this.i;break;case 60:return this.text+=w.slice(v,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=w.slice(v))}}sAttribValueClosed(){const y=this.getCodeNorm();n(y)?this.state=36:y===62?this.openTag():y===47?this.state=35:r(y)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const y=this.captureTo($);switch(y){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",y===62?this.openTag():this.state=36}}sCloseTag(){const y=this.captureNameChars();y===62?this.closeTag():n(y)?this.state=44:y!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:y,forbiddenState:w}=this;const{chunk:v,textHandler:_}=this;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,_!==void 0){const{text:T}=this,j=v.slice(y,this.prevI);T.length!==0?(_(T+j),this.text=""):j.length!==0&&_(j)}w=0;break t;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=v.slice(y,this.prevI)),w=0;break t;case 93:switch(w){case 0:w=1;break;case 1:w=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:w===2&&this.fail('the string "]]>" is disallowed in char data.'),w=0;break;case-2:_!==void 0&&(this.text+=v.slice(y,this.prevI)+`
`),y=this.i,w=0;break;case-1:_!==void 0&&(this.text+=v.slice(y));break t;default:w=0}this.forbiddenState=w}handleTextOutsideRoot(){let{i:y}=this;const{chunk:w,textHandler:v}=this;let _=!1;t:for(;;){const T=this.getCode();switch(T){case 60:if(this.state=15,v!==void 0){const{text:j}=this,O=w.slice(y,this.prevI);j.length!==0?(v(j+O),this.text=""):O.length!==0&&v(O)}break t;case 38:this.state=14,this.entityReturnState=13,v!==void 0&&(this.text+=w.slice(y,this.prevI)),_=!0;break t;case-2:v!==void 0&&(this.text+=w.slice(y,this.prevI)+`
`),y=this.i;break;case-1:v!==void 0&&(this.text+=w.slice(y));break t;default:n(T)||(_=!0)}}_&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(y,w){var v;const{prefix:_,local:T}=this.qname(y),j={name:y,prefix:_,local:T,value:w};if(this.attribList.push(j),(v=this.attributeHandler)===null||v===void 0||v.call(this,j),_==="xmlns"){const O=w.trim();this.currentXMLVersion==="1.0"&&O===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[T]=O,W(this,T,O)}else if(y==="xmlns"){const O=w.trim();this.topNS[""]=O,W(this,"",O)}}pushAttribPlain(y,w){var v;const _={name:y,value:w};this.attribList.push(_),(v=this.attributeHandler)===null||v===void 0||v.call(this,_)}end(){var y,w;this.sawRoot||this.fail("document must contain a root element.");const{tags:v}=this;for(;v.length>0;){const T=v.pop();this.fail("unclosed tag: "+T.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:_}=this;return _.length!==0&&((y=this.textHandler)===null||y===void 0||y.call(this,_),this.text=""),this._closed=!0,(w=this.endHandler)===null||w===void 0||w.call(this),this._init(),this}resolve(y){var w,v;let _=this.topNS[y];if(_!==void 0)return _;const{tags:T}=this;for(let j=T.length-1;j>=0;j--)if(_=T[j].ns[y],_!==void 0)return _;return _=this.ns[y],_!==void 0?_:(v=(w=this.opt).resolvePrefix)===null||v===void 0?void 0:v.call(w,y)}qname(y){const w=y.indexOf(":");if(w===-1)return{prefix:"",local:y};const v=y.slice(w+1),_=y.slice(0,w);return(_===""||v===""||v.includes(":"))&&this.fail(`malformed name: ${y}.`),{prefix:_,local:v}}processAttribsNS(){var y;const{attribList:w}=this,v=this.tag;{const{prefix:j,local:O}=this.qname(v.name);v.prefix=j,v.local=O;const z=v.uri=(y=this.resolve(j))!==null&&y!==void 0?y:"";j!==""&&(j==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),z===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(j)}.`),v.uri=j))}if(w.length===0)return;const{attributes:_}=v,T=new Set;for(const j of w){const{name:O,prefix:z,local:V}=j;let q,P;z===""?(q=O==="xmlns"?x:"",P=O):(q=this.resolve(z),q===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(z)}.`),q=z),P=`{${q}}${V}`),T.has(P)&&this.fail(`duplicate attribute: ${P}.`),T.add(P),j.uri=q,_[O]=j}this.attribList=[]}processAttribsPlain(){const{attribList:y}=this,w=this.tag.attributes;for(const{name:v,value:_}of y)w[v]!==void 0&&this.fail(`duplicate attribute: ${v}.`),w[v]=_;this.attribList=[]}openTag(){var y;this.processAttribs();const{tags:w}=this,v=this.tag;v.isSelfClosing=!1,(y=this.openTagHandler)===null||y===void 0||y.call(this,v),w.push(v),this.state=13,this.name=""}openSelfClosingTag(){var y,w,v;this.processAttribs();const{tags:_}=this,T=this.tag;T.isSelfClosing=!0,(y=this.openTagHandler)===null||y===void 0||y.call(this,T),(w=this.closeTagHandler)===null||w===void 0||w.call(this,T),(this.tag=(v=_[_.length-1])!==null&&v!==void 0?v:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:y,name:w}=this;if(this.state=13,this.name="",w==="")return this.fail("weird empty close tag."),void(this.text+="</>");const v=this.closeTagHandler;let _=y.length;for(;_-- >0;){const T=this.tag=y.pop();if(this.topNS=T.ns,v==null||v(T),T.name===w)break;this.fail("unexpected close tag.")}_===0?this.closedRoot=!0:_<0&&(this.fail(`unmatched closing tag: ${w}.`),this.text+=`</${w}>`)}parseEntity(y){if(y[0]!=="#"){const v=this.ENTITIES[y];return v!==void 0?v:(this.fail(this.isName(y)?"undefined entity.":"disallowed character in entity name."),`&${y};`)}let w=NaN;return y[1]==="x"&&/^#x[0-9a-f]+$/i.test(y)?w=parseInt(y.slice(2),16):/^#[0-9]+$/.test(y)&&(w=parseInt(y.slice(1),10)),this.isChar(w)?String.fromCodePoint(w):(this.fail("malformed character entity."),`&${y};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,h,m){var l=t("safe-buffer").Buffer;function i(a,n){this._block=l.alloc(a),this._finalSize=n,this._blockSize=a,this._len=0}i.prototype.update=function(a,n){typeof a=="string"&&(n=n||"utf8",a=l.from(a,n));for(var e=this._block,r=this._blockSize,c=a.length,s=this._len,o=0;o<c;){for(var d=s%r,f=Math.min(c-o,r-d),u=0;u<f;u++)e[d+u]=a[o+u];o+=f,(s+=f)%r==0&&this._update(e)}return this._len+=c,this},i.prototype.digest=function(a){var n=this._len%this._blockSize;this._block[n]=128,this._block.fill(0,n+1),n>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var r=(4294967295&e)>>>0,c=(e-r)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var s=this._hash();return a?s.toString(a):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},h.exports=i},{"safe-buffer":494}],498:[function(t,h,m){var l=h.exports=function(i){i=i.toLowerCase();var a=l[i];if(!a)throw new Error(i+" is not supported (we accept pull requests)");return new a};l.sha=t("./sha"),l.sha1=t("./sha1"),l.sha224=t("./sha224"),l.sha256=t("./sha256"),l.sha384=t("./sha384"),l.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,h,m){var l=t("inherits"),i=t("./hash"),a=t("safe-buffer").Buffer,n=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function r(){this.init(),this._w=e,i.call(this,64,56)}function c(o){return o<<30|o>>>2}function s(o,d,f,u){return o===0?d&f|~d&u:o===2?d&f|d&u|f&u:d^f^u}l(r,i),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(o){for(var d,f=this._w,u=0|this._a,g=0|this._b,p=0|this._c,x=0|this._d,S=0|this._e,M=0;M<16;++M)f[M]=o.readInt32BE(4*M);for(;M<80;++M)f[M]=f[M-3]^f[M-8]^f[M-14]^f[M-16];for(var R=0;R<80;++R){var B=~~(R/20),N=0|((d=u)<<5|d>>>27)+s(B,g,p,x)+S+f[R]+n[B];S=x,x=p,p=c(g),g=u,u=N}this._a=u+this._a|0,this._b=g+this._b|0,this._c=p+this._c|0,this._d=x+this._d|0,this._e=S+this._e|0},r.prototype._hash=function(){var o=a.allocUnsafe(20);return o.writeInt32BE(0|this._a,0),o.writeInt32BE(0|this._b,4),o.writeInt32BE(0|this._c,8),o.writeInt32BE(0|this._d,12),o.writeInt32BE(0|this._e,16),o},h.exports=r},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,h,m){var l=t("inherits"),i=t("./hash"),a=t("safe-buffer").Buffer,n=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function r(){this.init(),this._w=e,i.call(this,64,56)}function c(d){return d<<5|d>>>27}function s(d){return d<<30|d>>>2}function o(d,f,u,g){return d===0?f&u|~f&g:d===2?f&u|f&g|u&g:f^u^g}l(r,i),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(d){for(var f,u=this._w,g=0|this._a,p=0|this._b,x=0|this._c,S=0|this._d,M=0|this._e,R=0;R<16;++R)u[R]=d.readInt32BE(4*R);for(;R<80;++R)u[R]=(f=u[R-3]^u[R-8]^u[R-14]^u[R-16])<<1|f>>>31;for(var B=0;B<80;++B){var N=~~(B/20),L=c(g)+o(N,p,x,S)+M+u[B]+n[N]|0;M=S,S=x,x=s(p),p=g,g=L}this._a=g+this._a|0,this._b=p+this._b|0,this._c=x+this._c|0,this._d=S+this._d|0,this._e=M+this._e|0},r.prototype._hash=function(){var d=a.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},h.exports=r},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,h,m){var l=t("inherits"),i=t("./sha256"),a=t("./hash"),n=t("safe-buffer").Buffer,e=new Array(64);function r(){this.init(),this._w=e,a.call(this,64,56)}l(r,i),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var c=n.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},h.exports=r},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,h,m){var l=t("inherits"),i=t("./hash"),a=t("safe-buffer").Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],e=new Array(64);function r(){this.init(),this._w=e,i.call(this,64,56)}function c(u,g,p){return p^u&(g^p)}function s(u,g,p){return u&g|p&(u|g)}function o(u){return(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10)}function d(u){return(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7)}function f(u){return(u>>>7|u<<25)^(u>>>18|u<<14)^u>>>3}l(r,i),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(u){for(var g,p=this._w,x=0|this._a,S=0|this._b,M=0|this._c,R=0|this._d,B=0|this._e,N=0|this._f,L=0|this._g,F=0|this._h,$=0;$<16;++$)p[$]=u.readInt32BE(4*$);for(;$<64;++$)p[$]=0|(((g=p[$-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+p[$-7]+f(p[$-15])+p[$-16];for(var W=0;W<64;++W){var C=F+d(B)+c(B,N,L)+n[W]+p[W]|0,D=o(x)+s(x,S,M)|0;F=L,L=N,N=B,B=R+C|0,R=M,M=S,S=x,x=C+D|0}this._a=x+this._a|0,this._b=S+this._b|0,this._c=M+this._c|0,this._d=R+this._d|0,this._e=B+this._e|0,this._f=N+this._f|0,this._g=L+this._g|0,this._h=F+this._h|0},r.prototype._hash=function(){var u=a.allocUnsafe(32);return u.writeInt32BE(this._a,0),u.writeInt32BE(this._b,4),u.writeInt32BE(this._c,8),u.writeInt32BE(this._d,12),u.writeInt32BE(this._e,16),u.writeInt32BE(this._f,20),u.writeInt32BE(this._g,24),u.writeInt32BE(this._h,28),u},h.exports=r},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,h,m){var l=t("inherits"),i=t("./sha512"),a=t("./hash"),n=t("safe-buffer").Buffer,e=new Array(160);function r(){this.init(),this._w=e,a.call(this,128,112)}l(r,i),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){var c=n.allocUnsafe(48);function s(o,d,f){c.writeInt32BE(o,f),c.writeInt32BE(d,f+4)}return s(this._ah,this._al,0),s(this._bh,this._bl,8),s(this._ch,this._cl,16),s(this._dh,this._dl,24),s(this._eh,this._el,32),s(this._fh,this._fl,40),c},h.exports=r},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,h,m){var l=t("inherits"),i=t("./hash"),a=t("safe-buffer").Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],e=new Array(160);function r(){this.init(),this._w=e,i.call(this,128,112)}function c(S,M,R){return R^S&(M^R)}function s(S,M,R){return S&M|R&(S|M)}function o(S,M){return(S>>>28|M<<4)^(M>>>2|S<<30)^(M>>>7|S<<25)}function d(S,M){return(S>>>14|M<<18)^(S>>>18|M<<14)^(M>>>9|S<<23)}function f(S,M){return(S>>>1|M<<31)^(S>>>8|M<<24)^S>>>7}function u(S,M){return(S>>>1|M<<31)^(S>>>8|M<<24)^(S>>>7|M<<25)}function g(S,M){return(S>>>19|M<<13)^(M>>>29|S<<3)^S>>>6}function p(S,M){return(S>>>19|M<<13)^(M>>>29|S<<3)^(S>>>6|M<<26)}function x(S,M){return S>>>0<M>>>0?1:0}l(r,i),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(S){for(var M=this._w,R=0|this._ah,B=0|this._bh,N=0|this._ch,L=0|this._dh,F=0|this._eh,$=0|this._fh,W=0|this._gh,C=0|this._hh,D=0|this._al,k=0|this._bl,y=0|this._cl,w=0|this._dl,v=0|this._el,_=0|this._fl,T=0|this._gl,j=0|this._hl,O=0;O<32;O+=2)M[O]=S.readInt32BE(4*O),M[O+1]=S.readInt32BE(4*O+4);for(;O<160;O+=2){var z=M[O-30],V=M[O-30+1],q=f(z,V),P=u(V,z),G=g(z=M[O-4],V=M[O-4+1]),I=p(V,z),A=M[O-14],H=M[O-14+1],X=M[O-32],J=M[O-32+1],Y=P+H|0,Q=q+A+x(Y,P)|0;Q=(Q=Q+G+x(Y=Y+I|0,I)|0)+X+x(Y=Y+J|0,J)|0,M[O]=Q,M[O+1]=Y}for(var it=0;it<160;it+=2){Q=M[it],Y=M[it+1];var st=s(R,B,N),K=s(D,k,y),et=o(R,D),rt=o(D,R),at=d(F,v),ot=d(v,F),ct=n[it],dt=n[it+1],ft=c(F,$,W),gt=c(v,_,T),Dt=j+ot|0,Tt=C+at+x(Dt,j)|0;Tt=(Tt=(Tt=Tt+ft+x(Dt=Dt+gt|0,gt)|0)+ct+x(Dt=Dt+dt|0,dt)|0)+Q+x(Dt=Dt+Y|0,Y)|0;var wt=rt+K|0,Lt=et+st+x(wt,rt)|0;C=W,j=T,W=$,T=_,$=F,_=v,F=L+Tt+x(v=w+Dt|0,w)|0,L=N,w=y,N=B,y=k,B=R,k=D,R=Tt+Lt+x(D=Dt+wt|0,Dt)|0}this._al=this._al+D|0,this._bl=this._bl+k|0,this._cl=this._cl+y|0,this._dl=this._dl+w|0,this._el=this._el+v|0,this._fl=this._fl+_|0,this._gl=this._gl+T|0,this._hl=this._hl+j|0,this._ah=this._ah+R+x(this._al,D)|0,this._bh=this._bh+B+x(this._bl,k)|0,this._ch=this._ch+N+x(this._cl,y)|0,this._dh=this._dh+L+x(this._dl,w)|0,this._eh=this._eh+F+x(this._el,v)|0,this._fh=this._fh+$+x(this._fl,_)|0,this._gh=this._gh+W+x(this._gl,T)|0,this._hh=this._hh+C+x(this._hl,j)|0},r.prototype._hash=function(){var S=a.allocUnsafe(64);function M(R,B,N){S.writeInt32BE(R,N),S.writeInt32BE(B,N+4)}return M(this._ah,this._al,0),M(this._bh,this._bl,8),M(this._ch,this._cl,16),M(this._dh,this._dl,24),M(this._eh,this._el,32),M(this._fh,this._fl,40),M(this._gh,this._gl,48),M(this._hh,this._hl,56),S},h.exports=r},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,h,m){h.exports=i;var l=t("events").EventEmitter;function i(){l.call(this)}t("inherits")(i,l),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(a,n){var e=this;function r(g){a.writable&&a.write(g)===!1&&e.pause&&e.pause()}function c(){e.readable&&e.resume&&e.resume()}e.on("data",r),a.on("drain",c),a._isStdio||n&&n.end===!1||(e.on("end",o),e.on("close",d));var s=!1;function o(){s||(s=!0,a.end())}function d(){s||(s=!0,typeof a.destroy=="function"&&a.destroy())}function f(g){if(u(),l.listenerCount(this,"error")===0)throw g}function u(){e.removeListener("data",r),a.removeListener("drain",c),e.removeListener("end",o),e.removeListener("close",d),e.removeListener("error",f),a.removeListener("error",f),e.removeListener("end",u),e.removeListener("close",u),a.removeListener("close",u)}return e.on("error",f),a.on("error",f),e.on("end",u),e.on("close",u),a.on("close",u),a.emit("pipe",e),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,h,m){var l={}.toString;h.exports=Array.isArray||function(i){return l.call(i)=="[object Array]"}},{}],507:[function(t,h,m){h.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,h,m){var l=t("process-nextick-args"),i=Object.keys||function(u){var g=[];for(var p in u)g.push(p);return g};h.exports=o;var a=Object.create(t("core-util-is"));a.inherits=t("inherits");var n=t("./_stream_readable"),e=t("./_stream_writable");a.inherits(o,n);for(var r=i(e.prototype),c=0;c<r.length;c++){var s=r[c];o.prototype[s]||(o.prototype[s]=e.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);n.call(this,u),e.call(this,u),u&&u.readable===!1&&(this.readable=!1),u&&u.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,u&&u.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||l.nextTick(f,this)}function f(u){u.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),o.prototype._destroy=function(u,g){this.push(null),this.end(),l.nextTick(g,u)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,h,m){h.exports=a;var l=t("./_stream_transform"),i=Object.create(t("core-util-is"));function a(n){if(!(this instanceof a))return new a(n);l.call(this,n)}i.inherits=t("inherits"),i.inherits(a,l),a.prototype._transform=function(n,e,r){r(null,n)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,h,m){(function(l,i){(function(){var a=t("process-nextick-args");h.exports=R;var n,e=t("isarray");R.ReadableState=M,t("events").EventEmitter;var r=function(j,O){return j.listeners(O).length},c=t("./internal/streams/stream"),s=t("safe-buffer").Buffer,o=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d=Object.create(t("core-util-is"));d.inherits=t("inherits");var f=t("util"),u=void 0;u=f&&f.debuglog?f.debuglog("stream"):function(){};var g,p=t("./internal/streams/BufferList"),x=t("./internal/streams/destroy");d.inherits(R,c);var S=["error","close","destroy","pause","resume"];function M(j,O){j=j||{};var z=O instanceof(n=n||t("./_stream_duplex"));this.objectMode=!!j.objectMode,z&&(this.objectMode=this.objectMode||!!j.readableObjectMode);var V=j.highWaterMark,q=j.readableHighWaterMark,P=this.objectMode?16:16384;this.highWaterMark=V||V===0?V:z&&(q||q===0)?q:P,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(g||(g=t("string_decoder/").StringDecoder),this.decoder=new g(j.encoding),this.encoding=j.encoding)}function R(j){if(n=n||t("./_stream_duplex"),!(this instanceof R))return new R(j);this._readableState=new M(j,this),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),c.call(this)}function B(j,O,z,V,q){var P,G=j._readableState;return O===null?(G.reading=!1,function(I,A){if(!A.ended){if(A.decoder){var H=A.decoder.end();H&&H.length&&(A.buffer.push(H),A.length+=A.objectMode?1:H.length)}A.ended=!0,F(I)}}(j,G)):(q||(P=function(I,A){var H;X=A,s.isBuffer(X)||X instanceof o||typeof A=="string"||A===void 0||I.objectMode||(H=new TypeError("Invalid non-string/buffer chunk"));var X;return H}(G,O)),P?j.emit("error",P):G.objectMode||O&&O.length>0?(typeof O=="string"||G.objectMode||Object.getPrototypeOf(O)===s.prototype||(O=function(I){return s.from(I)}(O)),V?G.endEmitted?j.emit("error",new Error("stream.unshift() after end event")):N(j,G,O,!0):G.ended?j.emit("error",new Error("stream.push() after EOF")):(G.reading=!1,G.decoder&&!z?(O=G.decoder.write(O),G.objectMode||O.length!==0?N(j,G,O,!1):W(j,G)):N(j,G,O,!1))):V||(G.reading=!1)),function(I){return!I.ended&&(I.needReadable||I.length<I.highWaterMark||I.length===0)}(G)}function N(j,O,z,V){O.flowing&&O.length===0&&!O.sync?(j.emit("data",z),j.read(0)):(O.length+=O.objectMode?1:z.length,V?O.buffer.unshift(z):O.buffer.push(z),O.needReadable&&F(j)),W(j,O)}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),R.prototype.destroy=x.destroy,R.prototype._undestroy=x.undestroy,R.prototype._destroy=function(j,O){this.push(null),O(j)},R.prototype.push=function(j,O){var z,V=this._readableState;return V.objectMode?z=!0:typeof j=="string"&&((O=O||V.defaultEncoding)!==V.encoding&&(j=s.from(j,O),O=""),z=!0),B(this,j,O,!1,z)},R.prototype.unshift=function(j){return B(this,j,null,!0,!1)},R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(j){return g||(g=t("string_decoder/").StringDecoder),this._readableState.decoder=new g(j),this._readableState.encoding=j,this};function L(j,O){return j<=0||O.length===0&&O.ended?0:O.objectMode?1:j!=j?O.flowing&&O.length?O.buffer.head.data.length:O.length:(j>O.highWaterMark&&(O.highWaterMark=function(z){return z>=8388608?z=8388608:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(j)),j<=O.length?j:O.ended?O.length:(O.needReadable=!0,0))}function F(j){var O=j._readableState;O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,O.sync?a.nextTick($,j):$(j))}function $(j){u("emit readable"),j.emit("readable"),y(j)}function W(j,O){O.readingMore||(O.readingMore=!0,a.nextTick(C,j,O))}function C(j,O){for(var z=O.length;!O.reading&&!O.flowing&&!O.ended&&O.length<O.highWaterMark&&(u("maybeReadMore read 0"),j.read(0),z!==O.length);)z=O.length;O.readingMore=!1}function D(j){u("readable nexttick read 0"),j.read(0)}function k(j,O){O.reading||(u("resume read 0"),j.read(0)),O.resumeScheduled=!1,O.awaitDrain=0,j.emit("resume"),y(j),O.flowing&&!O.reading&&j.read(0)}function y(j){var O=j._readableState;for(u("flow",O.flowing);O.flowing&&j.read()!==null;);}function w(j,O){return O.length===0?null:(O.objectMode?z=O.buffer.shift():!j||j>=O.length?(z=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.head.data:O.buffer.concat(O.length),O.buffer.clear()):z=function(V,q,P){var G;return V<q.head.data.length?(G=q.head.data.slice(0,V),q.head.data=q.head.data.slice(V)):G=V===q.head.data.length?q.shift():P?function(I,A){var H=A.head,X=1,J=H.data;for(I-=J.length;H=H.next;){var Y=H.data,Q=I>Y.length?Y.length:I;if(Q===Y.length?J+=Y:J+=Y.slice(0,I),(I-=Q)===0){Q===Y.length?(++X,H.next?A.head=H.next:A.head=A.tail=null):(A.head=H,H.data=Y.slice(Q));break}++X}return A.length-=X,J}(V,q):function(I,A){var H=s.allocUnsafe(I),X=A.head,J=1;for(X.data.copy(H),I-=X.data.length;X=X.next;){var Y=X.data,Q=I>Y.length?Y.length:I;if(Y.copy(H,H.length-I,0,Q),(I-=Q)===0){Q===Y.length?(++J,X.next?A.head=X.next:A.head=A.tail=null):(A.head=X,X.data=Y.slice(Q));break}++J}return A.length-=J,H}(V,q),G}(j,O.buffer,O.decoder),z);var z}function v(j){var O=j._readableState;if(O.length>0)throw new Error('"endReadable()" called on non-empty stream');O.endEmitted||(O.ended=!0,a.nextTick(_,O,j))}function _(j,O){j.endEmitted||j.length!==0||(j.endEmitted=!0,O.readable=!1,O.emit("end"))}function T(j,O){for(var z=0,V=j.length;z<V;z++)if(j[z]===O)return z;return-1}R.prototype.read=function(j){u("read",j),j=parseInt(j,10);var O=this._readableState,z=j;if(j!==0&&(O.emittedReadable=!1),j===0&&O.needReadable&&(O.length>=O.highWaterMark||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?v(this):F(this),null;if((j=L(j,O))===0&&O.ended)return O.length===0&&v(this),null;var V,q=O.needReadable;return u("need readable",q),(O.length===0||O.length-j<O.highWaterMark)&&u("length less than watermark",q=!0),O.ended||O.reading?u("reading or ended",q=!1):q&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(j=L(z,O))),(V=j>0?w(j,O):null)===null?(O.needReadable=!0,j=0):O.length-=j,O.length===0&&(O.ended||(O.needReadable=!0),z!==j&&O.ended&&v(this)),V!==null&&this.emit("data",V),V},R.prototype._read=function(j){this.emit("error",new Error("_read() is not implemented"))},R.prototype.pipe=function(j,O){var z=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=j;break;case 1:V.pipes=[V.pipes,j];break;default:V.pipes.push(j)}V.pipesCount+=1,u("pipe count=%d opts=%j",V.pipesCount,O);var q=(!O||O.end!==!1)&&j!==l.stdout&&j!==l.stderr?G:it;function P(st,K){u("onunpipe"),st===z&&K&&K.hasUnpiped===!1&&(K.hasUnpiped=!0,u("cleanup"),j.removeListener("close",Y),j.removeListener("finish",Q),j.removeListener("drain",I),j.removeListener("error",J),j.removeListener("unpipe",P),z.removeListener("end",G),z.removeListener("end",it),z.removeListener("data",X),A=!0,!V.awaitDrain||j._writableState&&!j._writableState.needDrain||I())}function G(){u("onend"),j.end()}V.endEmitted?a.nextTick(q):z.once("end",q),j.on("unpipe",P);var I=function(st){return function(){var K=st._readableState;u("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&r(st,"data")&&(K.flowing=!0,y(st))}}(z);j.on("drain",I);var A=!1,H=!1;function X(st){u("ondata"),H=!1,j.write(st)!==!1||H||((V.pipesCount===1&&V.pipes===j||V.pipesCount>1&&T(V.pipes,j)!==-1)&&!A&&(u("false write response, pause",V.awaitDrain),V.awaitDrain++,H=!0),z.pause())}function J(st){u("onerror",st),it(),j.removeListener("error",J),r(j,"error")===0&&j.emit("error",st)}function Y(){j.removeListener("finish",Q),it()}function Q(){u("onfinish"),j.removeListener("close",Y),it()}function it(){u("unpipe"),z.unpipe(j)}return z.on("data",X),function(st,K,et){if(typeof st.prependListener=="function")return st.prependListener(K,et);st._events&&st._events[K]?e(st._events[K])?st._events[K].unshift(et):st._events[K]=[et,st._events[K]]:st.on(K,et)}(j,"error",J),j.once("close",Y),j.once("finish",Q),j.emit("pipe",z),V.flowing||(u("pipe resume"),z.resume()),j},R.prototype.unpipe=function(j){var O=this._readableState,z={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return j&&j!==O.pipes||(j||(j=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,j&&j.emit("unpipe",this,z)),this;if(!j){var V=O.pipes,q=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var P=0;P<q;P++)V[P].emit("unpipe",this,{hasUnpiped:!1});return this}var G=T(O.pipes,j);return G===-1||(O.pipes.splice(G,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),j.emit("unpipe",this,z)),this},R.prototype.on=function(j,O){var z=c.prototype.on.call(this,j,O);if(j==="data")this._readableState.flowing!==!1&&this.resume();else if(j==="readable"){var V=this._readableState;V.endEmitted||V.readableListening||(V.readableListening=V.needReadable=!0,V.emittedReadable=!1,V.reading?V.length&&F(this):a.nextTick(D,this))}return z},R.prototype.addListener=R.prototype.on,R.prototype.resume=function(){var j=this._readableState;return j.flowing||(u("resume"),j.flowing=!0,function(O,z){z.resumeScheduled||(z.resumeScheduled=!0,a.nextTick(k,O,z))}(this,j)),this},R.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this},R.prototype.wrap=function(j){var O=this,z=this._readableState,V=!1;for(var q in j.on("end",function(){if(u("wrapped end"),z.decoder&&!z.ended){var G=z.decoder.end();G&&G.length&&O.push(G)}O.push(null)}),j.on("data",function(G){u("wrapped data"),z.decoder&&(G=z.decoder.write(G)),z.objectMode&&G==null||(z.objectMode||G&&G.length)&&(O.push(G)||(V=!0,j.pause()))}),j)this[q]===void 0&&typeof j[q]=="function"&&(this[q]=function(G){return function(){return j[G].apply(j,arguments)}}(q));for(var P=0;P<S.length;P++)j.on(S[P],this.emit.bind(this,S[P]));return this._read=function(G){u("wrapped _read",G),V&&(V=!1,j.resume())},this},Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),R._fromList=w}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,h,m){h.exports=n;var l=t("./_stream_duplex"),i=Object.create(t("core-util-is"));function a(c,s){var o=this._transformState;o.transforming=!1;var d=o.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));o.writechunk=null,o.writecb=null,s!=null&&this.push(s),d(c);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function n(c){if(!(this instanceof n))return new n(c);l.call(this,c),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",e)}function e(){var c=this;typeof this._flush=="function"?this._flush(function(s,o){r(c,s,o)}):r(this,null,null)}function r(c,s,o){if(s)return c.emit("error",s);if(o!=null&&c.push(o),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}i.inherits=t("inherits"),i.inherits(n,l),n.prototype.push=function(c,s){return this._transformState.needTransform=!1,l.prototype.push.call(this,c,s)},n.prototype._transform=function(c,s,o){throw new Error("_transform() is not implemented")},n.prototype._write=function(c,s,o){var d=this._transformState;if(d.writecb=o,d.writechunk=c,d.writeencoding=s,!d.transforming){var f=this._readableState;(d.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},n.prototype._read=function(c){var s=this._transformState;s.writechunk!==null&&s.writecb&&!s.transforming?(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform)):s.needTransform=!0},n.prototype._destroy=function(c,s){var o=this;l.prototype._destroy.call(this,c,function(d){s(d),o.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,h,m){(function(l,i,a){(function(){var n=t("process-nextick-args");function e(W){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(D,k,y){var w=D.entry;for(D.entry=null;w;){var v=w.callback;k.pendingcb--,v(y),w=w.next}k.corkedRequestsFree.next=D})(C,W)}}h.exports=M;var r,c=!l.browser&&["v0.10","v0.9."].indexOf(l.version.slice(0,5))>-1?a:n.nextTick;M.WritableState=S;var s=Object.create(t("core-util-is"));s.inherits=t("inherits");var o={deprecate:t("util-deprecate")},d=t("./internal/streams/stream"),f=t("safe-buffer").Buffer,u=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g,p=t("./internal/streams/destroy");function x(){}function S(W,C){r=r||t("./_stream_duplex"),W=W||{};var D=C instanceof r;this.objectMode=!!W.objectMode,D&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var k=W.highWaterMark,y=W.writableHighWaterMark,w=this.objectMode?16:16384;this.highWaterMark=k||k===0?k:D&&(y||y===0)?y:w,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var v=W.decodeStrings===!1;this.decodeStrings=!v,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){(function(T,j){var O=T._writableState,z=O.sync,V=O.writecb;if(function(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}(O),j)(function(P,G,I,A,H){--G.pendingcb,I?(n.nextTick(H,A),n.nextTick($,P,G),P._writableState.errorEmitted=!0,P.emit("error",A)):(H(A),P._writableState.errorEmitted=!0,P.emit("error",A),$(P,G))})(T,O,z,j,V);else{var q=L(O);q||O.corked||O.bufferProcessing||!O.bufferedRequest||N(T,O),z?c(B,T,O,q,V):B(T,O,q,V)}})(C,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function M(W){if(r=r||t("./_stream_duplex"),!(g.call(M,this)||this instanceof r))return new M(W);this._writableState=new S(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),d.call(this)}function R(W,C,D,k,y,w,v){C.writelen=k,C.writecb=v,C.writing=!0,C.sync=!0,D?W._writev(y,C.onwrite):W._write(y,w,C.onwrite),C.sync=!1}function B(W,C,D,k){D||function(y,w){w.length===0&&w.needDrain&&(w.needDrain=!1,y.emit("drain"))}(W,C),C.pendingcb--,k(),$(W,C)}function N(W,C){C.bufferProcessing=!0;var D=C.bufferedRequest;if(W._writev&&D&&D.next){var k=C.bufferedRequestCount,y=new Array(k),w=C.corkedRequestsFree;w.entry=D;for(var v=0,_=!0;D;)y[v]=D,D.isBuf||(_=!1),D=D.next,v+=1;y.allBuffers=_,R(W,C,!0,C.length,y,"",w.finish),C.pendingcb++,C.lastBufferedRequest=null,w.next?(C.corkedRequestsFree=w.next,w.next=null):C.corkedRequestsFree=new e(C),C.bufferedRequestCount=0}else{for(;D;){var T=D.chunk,j=D.encoding,O=D.callback;if(R(W,C,!1,C.objectMode?1:T.length,T,j,O),D=D.next,C.bufferedRequestCount--,C.writing)break}D===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=D,C.bufferProcessing=!1}function L(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function F(W,C){W._final(function(D){C.pendingcb--,D&&W.emit("error",D),C.prefinished=!0,W.emit("prefinish"),$(W,C)})}function $(W,C){var D=L(C);return D&&(function(k,y){y.prefinished||y.finalCalled||(typeof k._final=="function"?(y.pendingcb++,y.finalCalled=!0,n.nextTick(F,k,y)):(y.prefinished=!0,k.emit("prefinish")))}(W,C),C.pendingcb===0&&(C.finished=!0,W.emit("finish"))),D}s.inherits(M,d),S.prototype.getBuffer=function(){for(var W=this.bufferedRequest,C=[];W;)C.push(W),W=W.next;return C},function(){try{Object.defineProperty(S.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(W){return!!g.call(this,W)||this===M&&W&&W._writableState instanceof S}})):g=function(W){return W instanceof this},M.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},M.prototype.write=function(W,C,D){var k,y=this._writableState,w=!1,v=!y.objectMode&&(k=W,f.isBuffer(k)||k instanceof u);return v&&!f.isBuffer(W)&&(W=function(_){return f.from(_)}(W)),typeof C=="function"&&(D=C,C=null),v?C="buffer":C||(C=y.defaultEncoding),typeof D!="function"&&(D=x),y.ended?function(_,T){var j=new Error("write after end");_.emit("error",j),n.nextTick(T,j)}(this,D):(v||function(_,T,j,O){var z=!0,V=!1;return j===null?V=new TypeError("May not write null values to stream"):typeof j=="string"||j===void 0||T.objectMode||(V=new TypeError("Invalid non-string/buffer chunk")),V&&(_.emit("error",V),n.nextTick(O,V),z=!1),z}(this,y,W,D))&&(y.pendingcb++,w=function(_,T,j,O,z,V){if(!j){var q=function(A,H,X){return A.objectMode||A.decodeStrings===!1||typeof H!="string"||(H=f.from(H,X)),H}(T,O,z);O!==q&&(j=!0,z="buffer",O=q)}var P=T.objectMode?1:O.length;T.length+=P;var G=T.length<T.highWaterMark;if(G||(T.needDrain=!0),T.writing||T.corked){var I=T.lastBufferedRequest;T.lastBufferedRequest={chunk:O,encoding:z,isBuf:j,callback:V,next:null},I?I.next=T.lastBufferedRequest:T.bufferedRequest=T.lastBufferedRequest,T.bufferedRequestCount+=1}else R(_,T,!1,P,O,z,V);return G}(this,y,v,W,C,D)),w},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||N(this,W))},M.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(W,C,D){D(new Error("_write() is not implemented"))},M.prototype._writev=null,M.prototype.end=function(W,C,D){var k=this._writableState;typeof W=="function"?(D=W,W=null,C=null):typeof C=="function"&&(D=C,C=null),W!=null&&this.write(W,C),k.corked&&(k.corked=1,this.uncork()),k.ending||function(y,w,v){w.ending=!0,$(y,w),v&&(w.finished?n.nextTick(v):y.once("finish",v)),w.ended=!0,y.writable=!1}(this,k,D)},Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),M.prototype.destroy=p.destroy,M.prototype._undestroy=p.undestroy,M.prototype._destroy=function(W,C){this.end(),C(W)}}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,h,m){var l=t("safe-buffer").Buffer,i=t("util");h.exports=function(){function a(){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(n){var e={data:n,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},a.prototype.unshift=function(n){var e={data:n,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length},a.prototype.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(n){if(this.length===0)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=n+e.data;return r},a.prototype.concat=function(n){if(this.length===0)return l.alloc(0);for(var e,r,c,s=l.allocUnsafe(n>>>0),o=this.head,d=0;o;)e=o.data,r=s,c=d,e.copy(r,c),d+=o.data.length,o=o.next;return s},a}(),i&&i.inspect&&i.inspect.custom&&(h.exports.prototype[i.inspect.custom]=function(){var a=i.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(t,h,m){var l=t("process-nextick-args");function i(a,n){a.emit("error",n)}h.exports={destroy:function(a,n){var e=this,r=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return r||c?(n?n(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,l.nextTick(i,this,a)):l.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(s){!n&&s?e._writableState?e._writableState.errorEmitted||(e._writableState.errorEmitted=!0,l.nextTick(i,e,s)):l.nextTick(i,e,s):n&&n(s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,h,m){arguments[4][490][0].apply(m,arguments)},{dup:490,events:422}],516:[function(t,h,m){h.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,h,m){(m=h.exports=t("./lib/_stream_readable.js")).Stream=m,m.Readable=m,m.Writable=t("./lib/_stream_writable.js"),m.Duplex=t("./lib/_stream_duplex.js"),m.Transform=t("./lib/_stream_transform.js"),m.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,h,m){h.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,h,m){h.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,h,m){arguments[4][217][0].apply(m,arguments)},{buffer:220,dup:217}],521:[function(t,h,m){arguments[4][218][0].apply(m,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,h,m){arguments[4][218][0].apply(m,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,h,m){(function(l,i){(function(){var a=t("process/browser.js").nextTick,n=Function.prototype.apply,e=Array.prototype.slice,r={},c=0;function s(o,d){this._id=o,this._clearFn=d}m.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},m.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},m.clearTimeout=m.clearInterval=function(o){o.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},m.enroll=function(o,d){clearTimeout(o._idleTimeoutId),o._idleTimeout=d},m.unenroll=function(o){clearTimeout(o._idleTimeoutId),o._idleTimeout=-1},m._unrefActive=m.active=function(o){clearTimeout(o._idleTimeoutId);var d=o._idleTimeout;d>=0&&(o._idleTimeoutId=setTimeout(function(){o._onTimeout&&o._onTimeout()},d))},m.setImmediate=typeof l=="function"?l:function(o){var d=c++,f=!(arguments.length<2)&&e.call(arguments,1);return r[d]=!0,a(function(){r[d]&&(f?o.apply(null,f):o.call(null),m.clearImmediate(d))}),d},m.clearImmediate=typeof i=="function"?i:function(o){delete r[o]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,h,m){(function(l){(function(){function i(a){try{if(!l.localStorage)return!1}catch{return!1}var n=l.localStorage[a];return n!=null&&String(n).toLowerCase()==="true"}h.exports=function(a,n){if(i("noDeprecation"))return a;var e=!1;return function(){if(!e){if(i("throwDeprecation"))throw new Error(n);i("traceDeprecation")?console.trace(n):console.warn(n),e=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,h,m){typeof Object.create=="function"?h.exports=function(l,i){l.super_=i,l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:h.exports=function(l,i){l.super_=i;var a=function(){};a.prototype=i.prototype,l.prototype=new a,l.prototype.constructor=l}},{}],526:[function(t,h,m){h.exports=function(l){return l&&typeof l=="object"&&typeof l.copy=="function"&&typeof l.fill=="function"&&typeof l.readUInt8=="function"}},{}],527:[function(t,h,m){(function(l,i){(function(){var a=/%[sdj%]/g;m.format=function(y){if(!S(y)){for(var w=[],v=0;v<arguments.length;v++)w.push(r(arguments[v]));return w.join(" ")}v=1;for(var _=arguments,T=_.length,j=String(y).replace(a,function(z){if(z==="%%")return"%";if(v>=T)return z;switch(z){case"%s":return String(_[v++]);case"%d":return Number(_[v++]);case"%j":try{return JSON.stringify(_[v++])}catch{return"[Circular]"}default:return z}}),O=_[v];v<T;O=_[++v])p(O)||!B(O)?j+=" "+O:j+=" "+r(O);return j},m.deprecate=function(y,w){if(M(i.process))return function(){return m.deprecate(y,w).apply(this,arguments)};if(l.noDeprecation===!0)return y;var v=!1;return function(){if(!v){if(l.throwDeprecation)throw new Error(w);l.traceDeprecation?console.trace(w):console.error(w),v=!0}return y.apply(this,arguments)}};var n,e={};function r(y,w){var v={seen:[],stylize:s};return arguments.length>=3&&(v.depth=arguments[2]),arguments.length>=4&&(v.colors=arguments[3]),g(w)?v.showHidden=w:w&&m._extend(v,w),M(v.showHidden)&&(v.showHidden=!1),M(v.depth)&&(v.depth=2),M(v.colors)&&(v.colors=!1),M(v.customInspect)&&(v.customInspect=!0),v.colors&&(v.stylize=c),o(v,y,v.depth)}function c(y,w){var v=r.styles[w];return v?"\x1B["+r.colors[v][0]+"m"+y+"\x1B["+r.colors[v][1]+"m":y}function s(y,w){return y}function o(y,w,v){if(y.customInspect&&w&&F(w.inspect)&&w.inspect!==m.inspect&&(!w.constructor||w.constructor.prototype!==w)){var _=w.inspect(v,y);return S(_)||(_=o(y,_,v)),_}var T=function(I,A){if(M(A))return I.stylize("undefined","undefined");if(S(A)){var H="'"+JSON.stringify(A).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(H,"string")}if(x(A))return I.stylize(""+A,"number");if(g(A))return I.stylize(""+A,"boolean");if(p(A))return I.stylize("null","null")}(y,w);if(T)return T;var j=Object.keys(w),O=function(I){var A={};return I.forEach(function(H,X){A[H]=!0}),A}(j);if(y.showHidden&&(j=Object.getOwnPropertyNames(w)),L(w)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return d(w);if(j.length===0){if(F(w)){var z=w.name?": "+w.name:"";return y.stylize("[Function"+z+"]","special")}if(R(w))return y.stylize(RegExp.prototype.toString.call(w),"regexp");if(N(w))return y.stylize(Date.prototype.toString.call(w),"date");if(L(w))return d(w)}var V,q="",P=!1,G=["{","}"];return u(w)&&(P=!0,G=["[","]"]),F(w)&&(q=" [Function"+(w.name?": "+w.name:"")+"]"),R(w)&&(q=" "+RegExp.prototype.toString.call(w)),N(w)&&(q=" "+Date.prototype.toUTCString.call(w)),L(w)&&(q=" "+d(w)),j.length!==0||P&&w.length!=0?v<0?R(w)?y.stylize(RegExp.prototype.toString.call(w),"regexp"):y.stylize("[Object]","special"):(y.seen.push(w),V=P?function(I,A,H,X,J){for(var Y=[],Q=0,it=A.length;Q<it;++Q)k(A,String(Q))?Y.push(f(I,A,H,X,String(Q),!0)):Y.push("");return J.forEach(function(st){st.match(/^\d+$/)||Y.push(f(I,A,H,X,st,!0))}),Y}(y,w,v,O,j):j.map(function(I){return f(y,w,v,O,I,P)}),y.seen.pop(),function(I,A,H){return I.reduce(function(X,J){return J.indexOf(`
`)>=0,X+J.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?H[0]+(A===""?"":A+`
 `)+" "+I.join(`,
  `)+" "+H[1]:H[0]+A+" "+I.join(", ")+" "+H[1]}(V,q,G)):G[0]+q+G[1]}function d(y){return"["+Error.prototype.toString.call(y)+"]"}function f(y,w,v,_,T,j){var O,z,V;if((V=Object.getOwnPropertyDescriptor(w,T)||{value:w[T]}).get?z=V.set?y.stylize("[Getter/Setter]","special"):y.stylize("[Getter]","special"):V.set&&(z=y.stylize("[Setter]","special")),k(_,T)||(O="["+T+"]"),z||(y.seen.indexOf(V.value)<0?(z=p(v)?o(y,V.value,null):o(y,V.value,v-1)).indexOf(`
`)>-1&&(z=j?z.split(`
`).map(function(q){return"  "+q}).join(`
`).substr(2):`
`+z.split(`
`).map(function(q){return"   "+q}).join(`
`)):z=y.stylize("[Circular]","special")),M(O)){if(j&&T.match(/^\d+$/))return z;(O=JSON.stringify(""+T)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=y.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=y.stylize(O,"string"))}return O+": "+z}function u(y){return Array.isArray(y)}function g(y){return typeof y=="boolean"}function p(y){return y===null}function x(y){return typeof y=="number"}function S(y){return typeof y=="string"}function M(y){return y===void 0}function R(y){return B(y)&&$(y)==="[object RegExp]"}function B(y){return typeof y=="object"&&y!==null}function N(y){return B(y)&&$(y)==="[object Date]"}function L(y){return B(y)&&($(y)==="[object Error]"||y instanceof Error)}function F(y){return typeof y=="function"}function $(y){return Object.prototype.toString.call(y)}function W(y){return y<10?"0"+y.toString(10):y.toString(10)}m.debuglog=function(y){if(M(n)&&(n=l.env.NODE_DEBUG||""),y=y.toUpperCase(),!e[y])if(new RegExp("\\b"+y+"\\b","i").test(n)){var w=l.pid;e[y]=function(){var v=m.format.apply(m,arguments);console.error("%s %d: %s",y,w,v)}}else e[y]=function(){};return e[y]},m.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},m.isArray=u,m.isBoolean=g,m.isNull=p,m.isNullOrUndefined=function(y){return y==null},m.isNumber=x,m.isString=S,m.isSymbol=function(y){return typeof y=="symbol"},m.isUndefined=M,m.isRegExp=R,m.isObject=B,m.isDate=N,m.isError=L,m.isFunction=F,m.isPrimitive=function(y){return y===null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||typeof y=="symbol"||y===void 0},m.isBuffer=t("./support/isBuffer");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var y=new Date,w=[W(y.getHours()),W(y.getMinutes()),W(y.getSeconds())].join(":");return[y.getDate(),C[y.getMonth()],w].join(" ")}function k(y,w){return Object.prototype.hasOwnProperty.call(y,w)}m.log=function(){console.log("%s - %s",D(),m.format.apply(m,arguments))},m.inherits=t("inherits"),m._extend=function(y,w){if(!w||!B(w))return y;for(var v=Object.keys(w),_=v.length;_--;)y[v[_]]=w[v[_]];return y}}).call(this)}).call(this,t("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),Object.defineProperty(m,"v1",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(m,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(m,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(m,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(m,"NIL",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(m,"version",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(m,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(m,"stringify",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(m,"parse",{enumerable:!0,get:function(){return o.default}});var l=d(t("./v1.js")),i=d(t("./v3.js")),a=d(t("./v4.js")),n=d(t("./v5.js")),e=d(t("./nil.js")),r=d(t("./version.js")),c=d(t("./validate.js")),s=d(t("./stringify.js")),o=d(t("./parse.js"));function d(f){return f&&f.__esModule?f:{default:f}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,h,m){function l(o){return 14+(o+64>>>9<<4)+1}function i(o,d){const f=(65535&o)+(65535&d);return(o>>16)+(d>>16)+(f>>16)<<16|65535&f}function a(o,d,f,u,g,p){return i((x=i(i(d,o),i(u,p)))<<(S=g)|x>>>32-S,f);var x,S}function n(o,d,f,u,g,p,x){return a(d&f|~d&u,o,d,g,p,x)}function e(o,d,f,u,g,p,x){return a(d&u|f&~u,o,d,g,p,x)}function r(o,d,f,u,g,p,x){return a(d^f^u,o,d,g,p,x)}function c(o,d,f,u,g,p,x){return a(f^(d|~u),o,d,g,p,x)}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var s=function(o){if(typeof o=="string"){const d=unescape(encodeURIComponent(o));o=new Uint8Array(d.length);for(let f=0;f<d.length;++f)o[f]=d.charCodeAt(f)}return function(d){const f=[],u=32*d.length;for(let g=0;g<u;g+=8){const p=d[g>>5]>>>g%32&255,x=parseInt("0123456789abcdef".charAt(p>>>4&15)+"0123456789abcdef".charAt(15&p),16);f.push(x)}return f}(function(d,f){d[f>>5]|=128<<f%32,d[l(f)-1]=f;let u=1732584193,g=-271733879,p=-1732584194,x=271733878;for(let S=0;S<d.length;S+=16){const M=u,R=g,B=p,N=x;u=n(u,g,p,x,d[S],7,-680876936),x=n(x,u,g,p,d[S+1],12,-389564586),p=n(p,x,u,g,d[S+2],17,606105819),g=n(g,p,x,u,d[S+3],22,-1044525330),u=n(u,g,p,x,d[S+4],7,-176418897),x=n(x,u,g,p,d[S+5],12,1200080426),p=n(p,x,u,g,d[S+6],17,-1473231341),g=n(g,p,x,u,d[S+7],22,-45705983),u=n(u,g,p,x,d[S+8],7,1770035416),x=n(x,u,g,p,d[S+9],12,-1958414417),p=n(p,x,u,g,d[S+10],17,-42063),g=n(g,p,x,u,d[S+11],22,-1990404162),u=n(u,g,p,x,d[S+12],7,1804603682),x=n(x,u,g,p,d[S+13],12,-40341101),p=n(p,x,u,g,d[S+14],17,-1502002290),g=n(g,p,x,u,d[S+15],22,1236535329),u=e(u,g,p,x,d[S+1],5,-165796510),x=e(x,u,g,p,d[S+6],9,-1069501632),p=e(p,x,u,g,d[S+11],14,643717713),g=e(g,p,x,u,d[S],20,-373897302),u=e(u,g,p,x,d[S+5],5,-701558691),x=e(x,u,g,p,d[S+10],9,38016083),p=e(p,x,u,g,d[S+15],14,-660478335),g=e(g,p,x,u,d[S+4],20,-405537848),u=e(u,g,p,x,d[S+9],5,568446438),x=e(x,u,g,p,d[S+14],9,-1019803690),p=e(p,x,u,g,d[S+3],14,-187363961),g=e(g,p,x,u,d[S+8],20,1163531501),u=e(u,g,p,x,d[S+13],5,-1444681467),x=e(x,u,g,p,d[S+2],9,-51403784),p=e(p,x,u,g,d[S+7],14,1735328473),g=e(g,p,x,u,d[S+12],20,-1926607734),u=r(u,g,p,x,d[S+5],4,-378558),x=r(x,u,g,p,d[S+8],11,-2022574463),p=r(p,x,u,g,d[S+11],16,1839030562),g=r(g,p,x,u,d[S+14],23,-35309556),u=r(u,g,p,x,d[S+1],4,-1530992060),x=r(x,u,g,p,d[S+4],11,1272893353),p=r(p,x,u,g,d[S+7],16,-155497632),g=r(g,p,x,u,d[S+10],23,-1094730640),u=r(u,g,p,x,d[S+13],4,681279174),x=r(x,u,g,p,d[S],11,-358537222),p=r(p,x,u,g,d[S+3],16,-722521979),g=r(g,p,x,u,d[S+6],23,76029189),u=r(u,g,p,x,d[S+9],4,-640364487),x=r(x,u,g,p,d[S+12],11,-421815835),p=r(p,x,u,g,d[S+15],16,530742520),g=r(g,p,x,u,d[S+2],23,-995338651),u=c(u,g,p,x,d[S],6,-198630844),x=c(x,u,g,p,d[S+7],10,1126891415),p=c(p,x,u,g,d[S+14],15,-1416354905),g=c(g,p,x,u,d[S+5],21,-57434055),u=c(u,g,p,x,d[S+12],6,1700485571),x=c(x,u,g,p,d[S+3],10,-1894986606),p=c(p,x,u,g,d[S+10],15,-1051523),g=c(g,p,x,u,d[S+1],21,-2054922799),u=c(u,g,p,x,d[S+8],6,1873313359),x=c(x,u,g,p,d[S+15],10,-30611744),p=c(p,x,u,g,d[S+6],15,-1560198380),g=c(g,p,x,u,d[S+13],21,1309151649),u=c(u,g,p,x,d[S+4],6,-145523070),x=c(x,u,g,p,d[S+11],10,-1120210379),p=c(p,x,u,g,d[S+2],15,718787259),g=c(g,p,x,u,d[S+9],21,-343485551),u=i(u,M),g=i(g,R),p=i(p,B),x=i(x,N)}return[u,g,p,x]}(function(d){if(d.length===0)return[];const f=8*d.length,u=new Uint32Array(l(f));for(let g=0;g<f;g+=8)u[g>>5]|=(255&d[g/8])<<g%32;return u}(o),8*o.length))};m.default=s},{}],530:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0,m.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var l,i=(l=t("./validate.js"))&&l.__esModule?l:{default:l},a=function(n){if(!(0,i.default)(n))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(n.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(n.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(n.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(n.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};m.default=a},{"./validate.js":541}],532:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0,m.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,h,m){let l;Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(){if(!l&&(l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(i)};const i=new Uint8Array(16)},{}],534:[function(t,h,m){function l(n,e,r,c){switch(n){case 0:return e&r^~e&c;case 1:return e^r^c;case 2:return e&r^e&c^r&c;case 3:return e^r^c}}function i(n,e){return n<<e|n>>>32-e}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var a=function(n){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const d=unescape(encodeURIComponent(n));n=[];for(let f=0;f<d.length;++f)n.push(d.charCodeAt(f))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);const c=n.length/4+2,s=Math.ceil(c/16),o=new Array(s);for(let d=0;d<s;++d){const f=new Uint32Array(16);for(let u=0;u<16;++u)f[u]=n[64*d+4*u]<<24|n[64*d+4*u+1]<<16|n[64*d+4*u+2]<<8|n[64*d+4*u+3];o[d]=f}o[s-1][14]=8*(n.length-1)/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=8*(n.length-1)&4294967295;for(let d=0;d<s;++d){const f=new Uint32Array(80);for(let M=0;M<16;++M)f[M]=o[d][M];for(let M=16;M<80;++M)f[M]=i(f[M-3]^f[M-8]^f[M-14]^f[M-16],1);let u=r[0],g=r[1],p=r[2],x=r[3],S=r[4];for(let M=0;M<80;++M){const R=Math.floor(M/20),B=i(u,5)+l(R,g,p,x)+S+e[R]+f[M]>>>0;S=x,x=p,p=i(g,30)>>>0,g=u,u=B}r[0]=r[0]+u>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+p>>>0,r[3]=r[3]+x>>>0,r[4]=r[4]+S>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};m.default=a},{}],535:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var l,i=(l=t("./validate.js"))&&l.__esModule?l:{default:l};const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).substr(1));var n=function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const c=(a[e[r+0]]+a[e[r+1]]+a[e[r+2]]+a[e[r+3]]+"-"+a[e[r+4]]+a[e[r+5]]+"-"+a[e[r+6]]+a[e[r+7]]+"-"+a[e[r+8]]+a[e[r+9]]+"-"+a[e[r+10]]+a[e[r+11]]+a[e[r+12]]+a[e[r+13]]+a[e[r+14]]+a[e[r+15]]).toLowerCase();if(!(0,i.default)(c))throw TypeError("Stringified UUID is invalid");return c};m.default=n},{"./validate.js":541}],536:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var l=a(t("./rng.js")),i=a(t("./stringify.js"));function a(o){return o&&o.__esModule?o:{default:o}}let n,e,r=0,c=0;var s=function(o,d,f){let u=d&&f||0;const g=d||new Array(16);let p=(o=o||{}).node||n,x=o.clockseq!==void 0?o.clockseq:e;if(p==null||x==null){const L=o.random||(o.rng||l.default)();p==null&&(p=n=[1|L[0],L[1],L[2],L[3],L[4],L[5]]),x==null&&(x=e=16383&(L[6]<<8|L[7]))}let S=o.msecs!==void 0?o.msecs:Date.now(),M=o.nsecs!==void 0?o.nsecs:c+1;const R=S-r+(M-c)/1e4;if(R<0&&o.clockseq===void 0&&(x=x+1&16383),(R<0||S>r)&&o.nsecs===void 0&&(M=0),M>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=S,c=M,e=x,S+=122192928e5;const B=(1e4*(268435455&S)+M)%4294967296;g[u++]=B>>>24&255,g[u++]=B>>>16&255,g[u++]=B>>>8&255,g[u++]=255&B;const N=S/4294967296*1e4&268435455;g[u++]=N>>>8&255,g[u++]=255&N,g[u++]=N>>>24&15|16,g[u++]=N>>>16&255,g[u++]=x>>>8|128,g[u++]=255&x;for(let L=0;L<6;++L)g[u+L]=p[L];return d||(0,i.default)(g)};m.default=s},{"./rng.js":533,"./stringify.js":535}],537:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var l=a(t("./v35.js")),i=a(t("./md5.js"));function a(e){return e&&e.__esModule?e:{default:e}}var n=(0,l.default)("v3",48,i.default);m.default=n},{"./md5.js":529,"./v35.js":538}],538:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(r,c,s){function o(d,f,u,g){if(typeof d=="string"&&(d=function(x){x=unescape(encodeURIComponent(x));const S=[];for(let M=0;M<x.length;++M)S.push(x.charCodeAt(M));return S}(d)),typeof f=="string"&&(f=(0,i.default)(f)),f.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+d.length);if(p.set(f),p.set(d,f.length),p=s(p),p[6]=15&p[6]|c,p[8]=63&p[8]|128,u){g=g||0;for(let x=0;x<16;++x)u[g+x]=p[x];return u}return(0,l.default)(p)}try{o.name=r}catch{}return o.DNS=n,o.URL=e,o},m.URL=m.DNS=void 0;var l=a(t("./stringify.js")),i=a(t("./parse.js"));function a(r){return r&&r.__esModule?r:{default:r}}const n="6ba7b810-9dad-11d1-80b4-00c04fd430c8";m.DNS=n;const e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";m.URL=e},{"./parse.js":531,"./stringify.js":535}],539:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var l=a(t("./rng.js")),i=a(t("./stringify.js"));function a(e){return e&&e.__esModule?e:{default:e}}var n=function(e,r,c){const s=(e=e||{}).random||(e.rng||l.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r){c=c||0;for(let o=0;o<16;++o)r[c+o]=s[o];return r}return(0,i.default)(s)};m.default=n},{"./rng.js":533,"./stringify.js":535}],540:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var l=a(t("./v35.js")),i=a(t("./sha1.js"));function a(e){return e&&e.__esModule?e:{default:e}}var n=(0,l.default)("v5",80,i.default);m.default=n},{"./sha1.js":534,"./v35.js":538}],541:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var l,i=(l=t("./regex.js"))&&l.__esModule?l:{default:l},a=function(n){return typeof n=="string"&&i.default.test(n)};m.default=a},{"./regex.js":532}],542:[function(t,h,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var l,i=(l=t("./validate.js"))&&l.__esModule?l:{default:l},a=function(n){if(!(0,i.default)(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)};m.default=a},{"./validate.js":541}],543:[function(t,h,m){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(m,"__esModule",{value:!0}),m.CHAR=`	
\r -퟿-�𐀀-􏿿`,m.S=` 	\r
`,m.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",m.NAME_CHAR="-"+m.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",m.CHAR_RE=new RegExp("^["+m.CHAR+"]$","u"),m.S_RE=new RegExp("^["+m.S+"]+$","u"),m.NAME_START_CHAR_RE=new RegExp("^["+m.NAME_START_CHAR+"]$","u"),m.NAME_CHAR_RE=new RegExp("^["+m.NAME_CHAR+"]$","u"),m.NAME_RE=new RegExp("^["+m.NAME_START_CHAR+"]["+m.NAME_CHAR+"]*$","u"),m.NMTOKEN_RE=new RegExp("^["+m.NAME_CHAR+"]+$","u");function l(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}m.S_LIST=[32,10,13,9],m.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},m.isS=function(i){return i===32||i===10||i===13||i===9},m.isNameStartChar=l,m.isNameChar=function(i){return l(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(t,h,m){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(m,"__esModule",{value:!0}),m.CHAR="-퟿-�𐀀-􏿿",m.RESTRICTED_CHAR="-\b\v\f---",m.S=` 	\r
`,m.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",m.NAME_CHAR="-"+m.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",m.CHAR_RE=new RegExp("^["+m.CHAR+"]$","u"),m.RESTRICTED_CHAR_RE=new RegExp("^["+m.RESTRICTED_CHAR+"]$","u"),m.S_RE=new RegExp("^["+m.S+"]+$","u"),m.NAME_START_CHAR_RE=new RegExp("^["+m.NAME_START_CHAR+"]$","u"),m.NAME_CHAR_RE=new RegExp("^["+m.NAME_CHAR+"]$","u"),m.NAME_RE=new RegExp("^["+m.NAME_START_CHAR+"]["+m.NAME_CHAR+"]*$","u"),m.NMTOKEN_RE=new RegExp("^["+m.NAME_CHAR+"]+$","u");function l(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}m.S_LIST=[32,10,13,9],m.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},m.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},m.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},m.isS=function(i){return i===32||i===10||i===13||i===9},m.isNameStartChar=l,m.isNameChar=function(i){return l(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(t,h,m){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function l(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(m,"__esModule",{value:!0}),m.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",m.NC_NAME_CHAR="-"+m.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",m.NC_NAME_START_CHAR_RE=new RegExp("^["+m.NC_NAME_START_CHAR+"]$","u"),m.NC_NAME_CHAR_RE=new RegExp("^["+m.NC_NAME_CHAR+"]$","u"),m.NC_NAME_RE=new RegExp("^["+m.NC_NAME_START_CHAR+"]["+m.NC_NAME_CHAR+"]*$","u"),m.isNCNameStartChar=l,m.isNCNameChar=function(i){return l(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)})})(Xa);var Kh=Xa.exports;const Zh=Ja(Kh),oe={CP_WORK:"FFE64A19",TASK_NET_WORK:"FFF44336",TASK_INDIRECT:"FF2196F3",GROUP_BAR:"FF9E9E9E",MILESTONE:"FFFF9800",HEADER_BG:"FF424242",HEADER_TEXT:"FFFFFFFF",WEEKEND_BG:"FFF5F5F5",BORDER:"FFE0E0E0"},Jh=(b,E)=>{if(b.length===0){const l=new Date;return{minDate:l,maxDate:l,totalDays:1}}let t=b[0].startDate,h=b[0].endDate;b.forEach(l=>{l.startDate<t&&(t=l.startDate),l.endDate>h&&(h=l.endDate)}),E.forEach(l=>{l.date<t&&(t=l.date),l.date>h&&(h=l.date)}),t=new Date(t),t.setDate(t.getDate()-7),h=new Date(h),h.setDate(h.getDate()+7);const m=Le(h,t)+1;return{minDate:t,maxDate:h,totalDays:m}},Qh=(b,E)=>{let t=0,h=b;for(;h.parentId;){t++;const m=E.get(h.parentId);if(!m)break;h=m}return t},tp=b=>{const E=[],t=new Set,h=m=>{t.has(m.id)||(t.add(m.id),E.push(m),b.filter(l=>l.parentId===m.id).forEach(l=>h(l)))};return b.filter(m=>m.parentId===null).forEach(m=>h(m)),b.forEach(m=>{t.has(m.id)||h(m)}),E},Ci=b=>{const E=b.getDay();return E===0||E===6},ep=(b,E)=>{const t=[],h=m=>{E.forEach(l=>{l.parentId===m&&(t.push(l),h(l.id))})};return h(b),t},Ti=(b,E)=>{const{sheetName:t,tasks:h,milestones:m,showMilestones:l=!0}=E;if(h.length===0)return;const i=b.addWorksheet(t,{views:[{state:"frozen",xSplit:4,ySplit:2}]}),a=new Map(h.map(p=>[p.id,p])),n=tp(h),{minDate:e,maxDate:r}=Jh(h,m),c=al({start:e,end:r}),s=["WBS","공정명","시작일","종료일"],o=i.getRow(1);s.forEach((p,x)=>{const S=o.getCell(x+1);S.value=p,S.fill={type:"pattern",pattern:"solid",fgColor:{argb:oe.HEADER_BG}},S.font={bold:!0,color:{argb:oe.HEADER_TEXT}},S.alignment={horizontal:"center",vertical:"middle"},S.border={top:{style:"thin",color:{argb:oe.BORDER}},bottom:{style:"thin",color:{argb:oe.BORDER}},left:{style:"thin",color:{argb:oe.BORDER}},right:{style:"thin",color:{argb:oe.BORDER}}}});let d="",f=s.length+1;c.forEach((p,x)=>{const S=s.length+1+x,M=Se(p,"yyyy-MM");if(M!==d){d!==""&&S>f+1&&i.mergeCells(1,f,1,S-1),d=M,f=S;const R=o.getCell(S);R.value=Se(p,"yyyy년 MM월"),R.fill={type:"pattern",pattern:"solid",fgColor:{argb:oe.HEADER_BG}},R.font={bold:!0,color:{argb:oe.HEADER_TEXT}},R.alignment={horizontal:"center",vertical:"middle"}}}),f<s.length+c.length&&i.mergeCells(1,f,1,s.length+c.length);const u=i.getRow(2);s.forEach((p,x)=>{const S=u.getCell(x+1);S.fill={type:"pattern",pattern:"solid",fgColor:{argb:oe.HEADER_BG}},S.border={top:{style:"thin",color:{argb:oe.BORDER}},bottom:{style:"thin",color:{argb:oe.BORDER}},left:{style:"thin",color:{argb:oe.BORDER}},right:{style:"thin",color:{argb:oe.BORDER}}}}),s.forEach((p,x)=>{i.mergeCells(1,x+1,2,x+1)}),c.forEach((p,x)=>{const S=s.length+1+x,M=u.getCell(S);M.value=Se(p,"d");const R=Ci(p)?oe.WEEKEND_BG:oe.HEADER_BG,B=Ci(p)?"FF999999":oe.HEADER_TEXT;M.fill={type:"pattern",pattern:"solid",fgColor:{argb:R}},M.font={bold:!1,color:{argb:B},size:9},M.alignment={horizontal:"center",vertical:"middle"},M.border={top:{style:"thin",color:{argb:oe.BORDER}},bottom:{style:"thin",color:{argb:oe.BORDER}},left:{style:"thin",color:{argb:oe.BORDER}},right:{style:"thin",color:{argb:oe.BORDER}}}});let g=3;if(l&&m.length>0){const p=i.getRow(3);p.getCell(1).value="",p.getCell(2).value="Milestones",p.getCell(2).font={bold:!0,italic:!0},p.getCell(3).value="",p.getCell(4).value="";for(let x=1;x<=4;x++)p.getCell(x).border={top:{style:"thin",color:{argb:oe.BORDER}},bottom:{style:"thin",color:{argb:oe.BORDER}},left:{style:"thin",color:{argb:oe.BORDER}},right:{style:"thin",color:{argb:oe.BORDER}}};c.forEach((x,S)=>{const M=s.length+1+S,R=p.getCell(M),B=m.filter(N=>Hr(N.date,x));B.length>0&&(R.value=B.map(N=>N.name).join(", "),R.fill={type:"pattern",pattern:"solid",fgColor:{argb:oe.MILESTONE}},R.font={bold:!0,size:8},R.alignment={horizontal:"center",vertical:"middle",wrapText:!0}),R.border={top:{style:"thin",color:{argb:oe.BORDER}},bottom:{style:"thin",color:{argb:oe.BORDER}},left:{style:"thin",color:{argb:oe.BORDER}},right:{style:"thin",color:{argb:oe.BORDER}}}}),g=4}n.forEach((p,x)=>{const S=g+x,M=i.getRow(S),R=Qh(p,a);M.getCell(1).value=x+1,M.getCell(1).alignment={horizontal:"center",vertical:"middle"};const B="  ".repeat(R),N=p.type==="GROUP"?"[-] ":p.type==="CP"?"[CP] ":"";M.getCell(2).value=B+N+p.name,M.getCell(2).alignment={horizontal:"left",vertical:"middle"},(p.type==="GROUP"||p.type==="CP")&&(M.getCell(2).font={bold:!0}),M.getCell(3).value=Se(p.startDate,"yyyy-MM-dd"),M.getCell(3).alignment={horizontal:"center",vertical:"middle"},M.getCell(4).value=Se(p.endDate,"yyyy-MM-dd"),M.getCell(4).alignment={horizontal:"center",vertical:"middle"};for(let L=1;L<=4;L++)M.getCell(L).border={top:{style:"thin",color:{argb:oe.BORDER}},bottom:{style:"thin",color:{argb:oe.BORDER}},left:{style:"thin",color:{argb:oe.BORDER}},right:{style:"thin",color:{argb:oe.BORDER}}};c.forEach((L,F)=>{const $=s.length+1+F,W=M.getCell($);if(W.border={top:{style:"thin",color:{argb:oe.BORDER}},bottom:{style:"thin",color:{argb:oe.BORDER}},left:{style:"thin",color:{argb:oe.BORDER}},right:{style:"thin",color:{argb:oe.BORDER}}},L>=p.startDate&&L<=p.endDate){let C=oe.GROUP_BAR;if(p.type==="CP"&&p.cp)C=oe.CP_WORK;else if(p.type==="TASK"&&p.task){const D=Le(L,p.startDate),{netWorkDays:k,indirectWorkDaysPre:y,indirectWorkDaysPost:w}=p.task,v=y+k+w;D<y?C=oe.TASK_INDIRECT:D<y+k?C=oe.TASK_NET_WORK:D<v&&(C=oe.TASK_INDIRECT)}else p.type==="GROUP"&&(C=oe.GROUP_BAR);W.fill={type:"pattern",pattern:"solid",fgColor:{argb:C}}}else Ci(L)&&(W.fill={type:"pattern",pattern:"solid",fgColor:{argb:oe.WEEKEND_BG}})})}),i.getColumn(1).width=6,i.getColumn(2).width=30,i.getColumn(3).width=12,i.getColumn(4).width=12;for(let p=0;p<c.length;p++)i.getColumn(s.length+1+p).width=3;i.getRow(1).height=20,i.getRow(2).height=18,l&&m.length>0&&(i.getRow(3).height=25);for(let p=g;p<=n.length+g-1;p++)i.getRow(p).height=22},rp=async b=>{const{tasks:E,milestones:t,fileName:h}=b,m=new Zh.Workbook;m.creator="SA-Gantt-Lib",m.created=new Date,Ti(m,{sheetName:"전체",tasks:E,milestones:t,showMilestones:!0});const l=E.filter(d=>d.wbsLevel===1),i=t.filter(d=>d.milestoneType==="MASTER"||!d.milestoneType);l.length>0&&Ti(m,{sheetName:"Master",tasks:l,milestones:i,showMilestones:!0});const a=E.filter(d=>d.wbsLevel===1&&d.type==="CP"),n=new Set(["전체","Master"]);a.forEach(d=>{const u=ep(d.id,E).filter(g=>g.wbsLevel===2);if(u.length>0){const g=d.name.replace(/[\\/*?:\[\]]/g,"").substring(0,28);let p=g,x=2;for(;n.has(p);){const M=` (${x})`;p=g.substring(0,28-M.length)+M,x++}n.add(p);const S=t.filter(M=>M.milestoneType==="DETAIL");Ti(m,{sheetName:p,tasks:u,milestones:S,showMilestones:S.length>0})}});const e=await m.xlsx.writeBuffer(),r=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=h?h.replace(/\.json$/i,".xlsx"):`gantt-chart-${Se(new Date,"yyyy-MM-dd")}.xlsx`,s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=c,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s),console.log("Excel exported successfully:",c)};xt.BlockBar=Bn,xt.CriticalPathBar=Gs,xt.DEFAULT_DETAIL_COLUMNS=Vr,xt.DEFAULT_MASTER_COLUMNS=Ur,xt.GANTT_ANCHOR=Je,xt.GANTT_COLORS=vt,xt.GANTT_COLORS_STATIC=Cc,xt.GANTT_DRAG=Gr,xt.GANTT_LAYOUT=he,xt.GANTT_STROKE=_n,xt.GANTT_SUMMARY=Es,xt.GanttChart=$f,xt.GanttErrorBoundary=Uf,xt.GanttProvider=Vf,xt.GanttSidebar=Dn,xt.GanttTimeline=Wn,xt.GroupSummaryBar=Ys,xt.KOREAN_HOLIDAYS_2025=Ts,xt.KOREAN_HOLIDAYS_2026=Ms,xt.KOREAN_HOLIDAYS_2027=Ds,xt.KOREAN_HOLIDAYS_ALL=ro,xt.LocalStorageService=qa,xt.TaskEditModal=ha,xt.ThemeProvider=Yf,xt.ThemeToggle=Zf,xt.ThemeToggleGroup=Jf,xt.WorkDaysRatioBar=Xs,xt.ZOOM_CONFIG=Tr,xt.addCalendarDays=ks,xt.addWorkingDays=mr,xt.buildChildrenMap=ko,xt.calculateCriticalPath=Yr,xt.calculateDateRange=kn,xt.calculateDualCalendarDates=Qi,xt.calculateGroupDateRange=Mn,xt.cn=Ir,xt.collectDescendantTasks=br,xt.createLocalStorageService=Yh,xt.dateToX=Be,xt.exportToExcel=rp,xt.formatCriticalPathSummary=du,xt.getAnchorDate=Sc,xt.getDateRangeWidth=Mc,xt.getGanttColor=Ec,xt.getKoreanHolidaysByYear=no,xt.getKoreanHolidaysForYears=Ac,xt.getPixelsPerDay=Dc,xt.isCPTask=Sh,xt.isGroupTask=kh,xt.isHoliday=Me,xt.isLevel1Task=Mh,xt.isLevel2Task=Dh,xt.isNonEmptyArray=jh,xt.isRegularTask=Eh,xt.isRootTask=Ah,xt.isTaskWithCP=_h,xt.isTaskWithDetails=xh,xt.isValidAnchorDependencyData=Ei,xt.isValidDate=Ua,xt.isValidDependency=Th,xt.isValidMilestone=Ch,xt.isValidMilestoneData=as,xt.isValidTaskData=os,xt.isWeekend=kc,xt.parseImportedData=Ga,xt.parseMockMilestones=Vh,xt.parseMockTasks=Uh,xt.serializeGanttDataForExport=Va,xt.shallowEqual=bh,xt.shallowEqualHistoryState=$a,xt.shallowEqualMilestones=Ha,xt.shallowEqualTasks=za,xt.subtractWorkingDays=xs,xt.useColumnResizer=wh,xt.useGanttContext=Gf,xt.useGanttContextOptional=qf,xt.useGanttDrag=su,xt.useGanttExpansion=Rs,xt.useGanttSelection=Xr,xt.useGanttSidebar=_o,xt.useGanttStore=or,xt.useGanttViewActions=xo,xt.useGanttViewState=wo,xt.useGanttVirtualization=wa,xt.useHistory=vh,xt.useTheme=di,xt.useThemeSafe=Kf,xt.xToDate=eo,Object.defineProperty(xt,Symbol.toStringTag,{value:"Module"})});
