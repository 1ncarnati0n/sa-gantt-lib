# 건설 엔터프라이즈 간트차트 개발 전략

> **2단계 공정 관리 시스템 상세 기획서**  
> 실무가이드 3 기반의 공구 공정표(Level 1)와 실무가이드 2 기반의 주공정표(Level 2)를 유기적으로 연결하는 시스템

---

## 목차

1. [프로젝트 개요](#1-프로젝트-개요)
2. [2-Tier 계층 구조](#2-2-tier-계층-구조)
3. [Level 1: 공구 공정표 (Master View)](#3-level-1-공구-공정표-master-view)
4. [Level 2: 주공정표 (Detail View)](#4-level-2-주공정표-detail-view)
5. [데이터 구조 설계](#5-데이터-구조-설계)
6. [Master-Detail 인터랙션](#6-master-detail-인터랙션)
7. [공사기간 산정 기준](#7-공사기간-산정-기준)
8. [개발 가이드](#8-개발-가이드)

---

## 1. 프로젝트 개요

### 1.1 목적

본 시스템은 공공 건설공사의 공사기간을 적정하게 산정하고 관리하기 위한 간트차트 기반 공정 관리 시스템입니다.

### 1.2 적용 범위

- 국가기관, 지방자치단체, 공기업, 준정부기관의 공공 건설공사
- 민간 발주공사의 참고자료로 활용 가능

### 1.3 참조 문서

| 문서명 | 발행기관 | 용도 |
|--------|---------|------|
| 공공 건설공사의 공사기간 산정기준 (국토교통부 고시 제2024-1021호) | 국토교통부 | 법적 기준 |
| 공동주택 공사기간 산정 실무 가이드 | 국토교통부, KICT | 세부 산정 기준 |
| 적정 공사기간 확보를 위한 가이드라인 | 국토교통부 | 1일 작업량 기준 |

---

## 2. 2-Tier 계층 구조

### 2.1 계층 정의

| 레벨 | 명칭 (View Name) | 기반 데이터 | 핵심 단위 | 기간 구성 | 시각화 |
|------|-----------------|-----------|----------|----------|--------|
| **Level 1** | 공구 공정표 (Lot Schedule) | 실무가이드 3 (공사기간 산정) | CP (Critical Path) | 작업일수 / 비작업일수 | 단일 복합 바 (Vermilion/Teal) |
| **Level 2** | 주공정표 (CP Schedule) | 실무가이드 2 (표준공정표 작성) | Task (단위공정) | 순작업일 / 간접작업일 | 세부 복합 바 (Red/Blue) |

### 2.2 용어 정의

| 용어 | 정의 |
|------|------|
| **공사기간** | 계약의 착수일부터 완료일까지의 기간 |
| **준비기간** | 설계도서 검토, 하도급업체 선정, 측량, 현장사무소 설치 등 착공 준비에 필요한 기간 |
| **작업일수** | 해당 공사의 공종별 수량을 시공하는데 필요한 총 작업일수 |
| **비작업일수** | 건설현장의 공사 진행이 불가능한 날짜 |
| **정리기간** | 준공검사 준비, 시설물 인수 등 행정절차 및 현장 정리에 소요되는 기간 |
| **순작업일수** | 직접적인 생산 활동에 소요되는 작업일수 (휴무일 Skip) |
| **간접작업일수** | 검측, 점검, 양생, 장비조립 등 품질·안전 확보에 소요되는 작업일수 (휴무일 Include) |

---

## 3. Level 1: 공구 공정표 (Master View)

> **경영/관리 뷰** - 전체 프로젝트의 흐름을 관리하는 뷰  
> 하위 Level 2의 데이터가 집계(Aggregation)되어 표시

### 3.1 핵심 로직: CP (Critical Path)

#### 단위 명칭
- `SUMMARY`가 아닌 **CP**로 명명
- 예: 토목공사 CP, 골조공사 CP

#### 기간 산정 로직

| 구분 | 색상 | 산정 방식 |
|------|------|----------|
| **작업일수** | Vermilion (주황-빨강) | 하위 Task들의 순작업일 총합 (실제 현장 투입 공수) |
| **비작업일수** | Teal (청록) | 하위 Task들의 간접작업일 + 보정일수 (기상, 휴무, 정리기간 등) |

### 3.2 UI/UX 디자인 가이드

#### Timeline Header
- 최상단부터 **연 → 월 → 주** 순으로 표시
- **일(요일)은 공구공정표에서 표시하지 않음** (주공정표에서만 표시)

#### Milestone Lane
- 헤더 바로 아래에 `MILESTONE` 전용 레인 배치
- 주요 이정표를 화살표 아이콘(↓)과 함께 표시
  - 착공, 골조완료, 습식마감완료, 준공

#### Bar Chart
- 하나의 긴 Bar로 표현
- **Vermilion(작업)** 구간과 **Teal(비작업)** 구간을 시각적으로 구분
- Bar 위에 작업 일수, 비작업 일수 뱃지 표시

#### Grid Columns

| 컬럼명 | 설명 |
|--------|------|
| 구분 | 주공정 그룹 |
| CP명 | 주공정 이름 |
| 총 공기 | 전체 공사기간 |
| 작업일수 | Vermilion 구간 일수 |
| 비작업일수 | Teal 구간 일수 |

### 3.3 계층적 작업 목록 구조 (Tree Grid)

```
(C.P)   ── 호버/더블클릭 시 주공정표 전환
(Group) ── 그룹명만 표시, (C.P)들을 한 그룹으로 묶는 역할, 그룹들을 묶을수도 있다 
------------------
공사준비 (C.P)
토목공사 (Group)
    └── 가시설 및 터파기 (C.P)
건축공사 (Group)
    ├── 기초파일 (Group)
    │   ├── 파일기초 (C.P)
    │   └── 철근콘크리트기초 (C.P)
    ├── 골조공사 (Group)
    │   ├── 일반거푸집 (C.P)
    │   └── 시스템거푸집 (C.P)
    └── 마감공사 (Group)
        ├── 1단계 (C.P)
        ├── 2단계 (C.P)
        └── 3단계 (C.P)
조경 및 부대토목공사 (C.P)
정리기간 (C.P)
------------------
```

---

## 4. Level 2: 주공정표 (Detail View)

> **엔지니어링/실행 뷰** - 실제 공기를 산출하고 작업 순서를 계획하는 뷰

### 4.1 핵심 로직: Task & Flexible Linking

#### 단위 명칭
- **Task** (단위공정)
- 예: 철근 현장조립, 유로폼 설치

#### 기간 구성

| 구분 | 색상 | 설명 | 휴무일 처리 |
|------|------|------|------------|
| **순작업** | Red 계열 | 직접적인 생산 활동 | Skip |
| **간접작업** | Blue 계열 | 양생, 검측, 준비 등 | Include |

#### 간접작업 배치 (Placement)
- **PRE**: 순작업 앞에 배치
- **POST**: 순작업 뒤에 배치
- 앞뒤 모두 배치 가능

### 4.2 유연한 종속성 (Flexible Linking) ⭐ 핵심 차별화 포인트

> 건설 공정의 종속성은 단순한 FS(Finish-to-Start)가 아닙니다.

#### 설계 원칙
순작업, 간접작업에 상관없이 서로 연관된 작업을 고려하여 작업기간을 산정하기 위해, 해당 Task의 순작업/간접작업을 모두 포함한 Task Duration 내에서 종속 Duration을 설정할 수 있음.

#### Connection Points (앵커)

| 앵커 포인트 | 설명 | 사용 빈도 |
|------------|------|----------|
| `START` | Task 시작점 | 보통 |
| `NET_WORK_START` | 순작업 시작점 | 보통 |
| `NET_WORK_END` | 순작업 종료점 | **가장 빈번** |
| `END` | Task 종료점 | 보통 |

#### 시각화 요구사항
- 화살표가 Bar의 끝에서 나가는 게 아니라, **Bar 중간(순작업과 간접작업의 경계)**에서 시작되거나 도착할 수 있어야 함

### 4.3 UI/UX 디자인 가이드

#### Composite Bar
- **순작업**: 붉은색 실선/면 (Red Solid)
- **간접작업**: 푸른색 실선/면 또는 빗금 패턴 (Blue Pattern)
- 두 세그먼트는 하나의 그룹으로 묶여 이동하지만, 길이는 개별 설정 가능

#### Grid Columns (산출 근거)

| 컬럼명 | 설명 |
|--------|------|
| 단위공정명 | Task 이름 |
| 수량 | 시공 수량 |
| 1일 작업량 | 일일 생산량 |
| 작업조 | 투입 작업조 수 |
| 순작업일 | Red 구간 일수 |
| 간접일 | Blue 구간 일수 |
| 비고 | 검측/양생 등 |

#### Interaction
- Bar의 내부 경계선을 드래그하여 순작업/간접작업 비율 조절
- 연결선 생성 시 Bar 위에 마우스를 올리면 **3~4개의 연결 포인트(앵커)** 활성화

---

## 5. 데이터 구조 설계

### 5.1 TypeScript 인터페이스

```typescript
// 공정 레벨
type WbsLevel = 1 | 2;

// 기간 배치 타입 (L2)
type Placement = 'PRE' | 'POST';

// 유연한 연결을 위한 앵커 포인트 정의
type AnchorPoint = 'START' | 'NET_WORK_START' | 'NET_WORK_END' | 'END';

// 종속성 정의
interface Dependency {
  predecessorId: string;
  type: 'FS' | 'SS' | 'FF' | 'SF';
  lag: number;
  sourceAnchor: AnchorPoint;  // 출발 지점
  targetAnchor: AnchorPoint;  // 도착 지점
}

// 메인 Task 인터페이스
interface ConstructionTask {
  id: string;
  parentId: string | null;
  wbsLevel: WbsLevel;
  name: string;
  
  // --- Level 1 Fields (공구 공정표) ---
  summary?: {
    workDaysTotal: number;      // Vermilion (작업일수)
    nonWorkDaysTotal: number;   // Teal (비작업일수)
  };

  // --- Level 2 Fields (주공정표) ---
  task?: {
    netWorkDays: number;        // 순작업 (Red)
    indirectWorkDays: number;   // 간접작업 (Blue)
    placement: Placement;       // 배치 순서
    
    // 산출 근거 (자동계산용)
    quantity?: number;          // 수량
    dailyOutput?: number;       // 1일 작업량
    crew?: number;              // 작업조 수
  };

  // 공통 스케줄링
  startDate: string;            // ISO 8601 형식
  endDate: string;              // ISO 8601 형식
  dependencies: Dependency[];
}
```

### 5.2 작업일수 산출 공식

```
순작업일수 = 시공수량 ÷ (1일 작업량 × 투입 작업조 수)

A 공종 작업일수 = 순작업일수 + 간접작업일수 + 보정일수
```

---

## 6. Master-Detail 인터랙션

### 6.1 Interaction Flow

```
┌─────────────────────────────────────────────────────────────────┐
│  1. 진입                                                         │
│     사용자는 처음에 Level 1 (공구 공정표)를 봄 (전체 4년치 공정)    │
└─────────────────────────────────────────────────────────────────┘
                                 ↓
┌─────────────────────────────────────────────────────────────────┐
│  2. 탐색                                                         │
│     '골조 공사 CP' Bar를 클릭                                      │
└─────────────────────────────────────────────────────────────────┘
                                 ↓
┌─────────────────────────────────────────────────────────────────┐
│  3. 전환                                                         │
│     화면이 Level 2 (주공정표)로 전환                               │
│     '골조 공사'에 속한 단위 공정(철근, 유로폼, 타설)만 리스트업       │
└─────────────────────────────────────────────────────────────────┘
                                 ↓
┌─────────────────────────────────────────────────────────────────┐
│  4. 편집 (Level 2)                                               │
│     - '철근 현장조립'의 물량 수정 → 순작업일 자동 변경              │
│     - '철근'의 순작업 종료점 → '유로폼'의 순작업 시작점 연결선 생성   │
└─────────────────────────────────────────────────────────────────┘
                                 ↓
┌─────────────────────────────────────────────────────────────────┐
│  5. 반영 (Level 1)                                               │
│     Level 2의 변경 사항(기간 증가)이 상위 '골조 공사 CP'의          │
│     workDaysTotal에 합산되어 Master View의 Bar 길이가 늘어남        │
└─────────────────────────────────────────────────────────────────┘
```

---

## 7. 공사기간 산정 기준

### 7.1 공사기간 산정 공식

```
공사기간 = ① 준비기간 + ② 비작업일수 + ③ 작업일수 + ④ 정리기간
```

### 7.2 준비기간

#### 택지유형별 준비기간

| 구분 | 택지지구 | 비택지지구 |
|------|---------|-----------|
| 준비기간 | 45일 | 60일 |

- **택지**: 택지개발촉진법, 공공주택 특별법, 도시개발법 등에 따라 개발·공급되는 주택건설 용지
- **비택지**: 택지 외 용지로써 각종 지장물 발생, 지질상태 등 현장여건이 불확실한 경우

### 7.3 비작업일수 산출 기준

| 구분 | 토목공사 및 기초공사 | 골조공사 | 습식마감공사 | 건식마감공사 |
|------|-------------------|---------|-----------|-----------|
| **기온(하절기)** | - | 일 최고기온 33℃ 이상 | - | - |
| **기온(동절기)** | 일 최저기온 –12℃ 이하 | 일 최저기온 –12℃ 이하 | 일 평균기온 2℃ 이하 | - |
| **비** | 일 강수량 5mm 이상 | 일 강수량 5mm 이상 | 일 강수량 10mm 이상 | 일 강수량 10mm 이상 |
| **눈** | 일 최심신적설 1cm 이상 | 일 최심신적설 1cm 이상 | - | - |
| **바람** | 최대풍속 10.8m/s 이상 | 최대풍속 10.8m/s 이상 | - | - |
| **미세먼지** | 비상저감조치 발령 | 비상저감조치 발령 | - | - |

### 7.4 주공정(CP) 기준 작업일수

| 구분 | 작업일수 | 보정일수 |
|------|---------|---------|
| **준비기간** | 택지지구: 45일 / 비택지지구: 60일 | - |
| **가시설 및 터파기** | 47일 | 도심지: +15일 / 소규모: +15일 |
| **파일기초** | 14일 | 지지력 시험기간: +11일 |
| **직접기초** | 15일 | - |
| **내림기초** | 16일 | - |
| **지하골조(벽체+슬래브)** | 18일 | - |
| **지하골조(벽체1단)** | 12일 | - |
| **지상골조(셋팅층)** | 19일 | 필로티: +14일 |
| **지상골조(일반층/마감층)** | 8일 | 라멘조: 층당 +1일 / 중공슬래브: 층당 +1일 / 입면변화: 층당 +2일 |
| **마감공사(1단계)** | 23일 | - |
| **마감공사(2단계)** | 52일 | - |
| **마감공사(3단계)** | 35일 | - |
| **조경 및 부대토목** | 별도 계상 | - |
| **정리기간** | 준공 전 1개월 | - |

### 7.5 공정별 간접작업 일수

| 대공정 | 단위공정 | 간접작업 | 일수 |
|--------|---------|---------|------|
| 가시설 및 터파기 | 터파기 토사굴착 | 검측 | 1.0일 |
| 가시설 및 터파기 | 말뚝박기용 천공 | 천공장비 조립 | 3.0일 |
| 기초공사(파일) | 기성말뚝 기초 | 천공장비 조립, 재하시험 | 3.0일, 2.0일 |
| 기초공사(파일) | 콘크리트말뚝 두부정리 | 두부 검측 | 1.0일 |
| 기초~골조 | 철근 현장조립 | 조립 검측 | 0.5일 |
| 기초~골조 | 유로폼 설치 | 보강 및 검측 | 1.0일 |
| 기초~골조 | 콘크리트 펌프차 타설(버림) | 타설 양생 | 1.0일 |
| 기초~골조 | 콘크리트 펌프차 타설(구체) | 타설 양생 | 3.0일 |
| 기초~골조 | 되메우기 | 마감정리 | 1.0일 |
| 골조(시스템) | 갱폼 설치(셋팅층) | 앵커, 안전시설물 설치 | 1.0일, 5.0일 |
| 골조(시스템) | 갱폼 설치(일반층) | 보강 및 검측 | 1.0일 |
| 골조(시스템) | 알루미늄폼 설치 | 검측 | 0.5일 |
| 골조(시스템) | 콘크리트 펌프차 타설 | 타설 양생 | 2.0일 |
| 마감(습식) | 벽돌 쌓기 | 구조부 먹매김, 양생/검측 | 2.0일, 2.0일 |
| 마감(습식) | 경량기포콘크리트 타설 | 면정리/양생 | 5.0일 |
| 마감(습식) | 모르타르 타설 | 보강, 면정리/양생 | 1.0일, 7.0일 |
| 마감(건식) | 경량천장틀 설치 | 안전시설물 설치 | 1.0일 |
| 마감(건식) | 도배 바름 | 바탕처리 | 1.0일 |
| 마감(건식) | 바닥재 깔기 | 보양 | 1.0일 |

### 7.6 규모별 공사기간 예시

| 구분 | 소규모공사 | 중규모공사 | 대규모공사 |
|------|-----------|-----------|-----------|
| **세대수** | 300세대 미만 | 300~1,000세대 미만 | 1,000세대 이상 |
| **예시** | 120세대, 2개동 | 682세대, 9개동 | 1,305세대, 17개동 |
| **규모** | 지하 1층/지상 10층 | 지하 2층/지상 26층 | 지하 2층/지상 29층 |
| **총 공사기간** | **28.0개월 (851일)** | **38.8개월 (1,181일)** | **41.6개월 (1,265일)** |
| 작업일수 | 566일 | 759일 | 837일 |
| 비작업일수 | 285일 | 422일 | 428일 |

---

## 8. 개발 가이드

### 8.1 핵심 개발 항목 (Action Items)

#### 1. SVG 렌더링 엔진 고도화
- 단순 `rect`가 아니라, `sourceAnchor` 좌표를 계산하여 `path`를 그리는 로직 필요
- **Bar 중간에서 화살표가 나가야 함**

#### 2. 캘린더 분리 적용 (Dual Calendar Logic)
- **Red Bar**: 휴무일을 건너뛰고 날짜 계산
- **Blue Bar**: 휴무일을 포함하여 날짜 계산

#### 3. View State 관리
- `CurrentView` (Master/Detail)에 따라 분기 처리
  - 좌측 그리드 컬럼 변경
  - 우측 차트 렌더링 방식 변경

### 8.2 1일 작업량 기준표 (발췌)

#### 가시설 및 터파기

| 구분 | 산출근거 | 1일 작업량 |
|------|---------|-----------|
| 토사굴착(터파기) - 보통 | 자연상태, 보통토사, 굴삭기 1.0㎥ 1대 | 514㎥ |
| 토사굴착(터파기) - 불량 | 지장물 발생, 보통토사, 굴삭기 1.0㎥ 1대 | 380㎥ |
| 말뚝박기용 천공 (H-Pile) | 500mm 미만, 12.0m, 점질토 | 27본 |
| 수평지보공 (H-Beam) 설치 | H=500mm 이하, 9~11m | 10본 |

#### 기초공사

| 구분 | 산출근거 | 1일 작업량 |
|------|---------|-----------|
| 기성말뚝 기초 | 508mm, 12.0m, 점질토 | 15본 |
| 콘크리트말뚝 두부정리 | 500mm, PHC | 18본 |
| 철근 현장조립 (TYPE-Ⅰ) | 직경 13mm 이하 50% 미만 | 3.4ton |
| 철근 현장조립 (TYPE-Ⅱ) | 직경 13mm 이하 50% 이상 | 3.0ton |
| 합판거푸집 설치 (간단) | 내수합판 12mm | 70㎡ |
| 합판거푸집 설치 (보통) | 내수합판 12mm | 60㎡ |
| 유로폼 설치 (간단) | 수직고 7m 이하 | 65㎡ |
| 유로폼 설치 (보통) | 수직고 7m 이하 | 50㎡ |
| 콘크리트 펌프차 타설 (TYPE-Ⅰ) | 80㎥/hr 이상, 철근구조물 | 182㎥ |
| 콘크리트 펌프차 타설 (TYPE-Ⅱ) | 80㎥/hr 이상, 철근구조물 | 130㎥ |

#### 골조공사 (시스템거푸집)

| 구분 | 산출근거 | 1일 작업량 |
|------|---------|-----------|
| 갱폼 설치 (셋팅층) | 최저층 최초 조립 | 40㎡ |
| 갱폼 설치 (일반층) | 각 층 조립/해체 | 90㎡ |
| 알루미늄폼 설치 (셋팅층) | 최저층 설치 | 30㎡ |
| 알루미늄폼 설치 (일반층) | 각 층 조립/해체 | 70㎡ |

#### 마감공사

| 구분 | 산출근거 | 1일 작업량 |
|------|---------|-----------|
| 콘크리트면 마무리 | 연마기 면정리, 3.6m 이하 | 17㎡ |
| 벽돌 쌓기 | 시멘트벽돌, 0.5B | 27㎡ |
| 경량벽체틀 설치 | 스터드, 150mm 이하 | 65㎡ |
| 단열재 설치 | 글라스울 1겹, 100mm 이하 | 75㎡ |
| 석고판 설치 | 나사고정, 2겹 | 45㎡ |
| 경량기포콘크리트 타설 | 40mm | 113㎥ |
| 모르타르 타설 | 40mm | 85㎥ |
| 경량천장틀 설치 | Bar 간격 300mm | 60㎡ |
| 도배 바름 (벽지) | 합판·석고보드면 | 85㎡ |
| 도배 바름 (천장지) | 합판·석고보드면 | 65㎡ |
| 바닥재 깔기 (시트형) | PVC, 전면접착 | 100㎡ |

---

## 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2024-XX-XX | - | 초안 작성 |

---

## 부록

### A. 참고 이미지 목록
- 공구공정표_대규모공사.jpg
- 공구공정표_중규모공사.jpg
- 주공정(C.P)표_지하골조.jpg
- 주공정(C.P)표_마감공사.jpg

### B. 관련 법규
- 건설산업기본법 제2조제4호
- 건설기술진흥법 제2조제6호
- 국가를 당사자로 하는 계약에 관한 법률 시행령 제36조제7호
- 시설물의 안전 및 유지관리에 관한 특별법 제7조
